/*! For license information please see main.6453de52.js.LICENSE.txt */
!function(){var e={345:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(v=!1,b(e),!m)if(null!==r(u))m=!0,R(S);else{var t=r(c);null!==t&&L(_,t.startTime-e)}}function S(e,n){m=!1,v&&(v=!1,y(C),C=-1),p=!0;var i=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!E());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(u)&&a(u),b(n)}else a(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&L(_,h.startTime-n),l=!1}return l}finally{d=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,M=!1,A=null,C=-1,k=5,T=-1;function E(){return!(t.unstable_now()-T<k)}function I(){if(null!==A){var e=t.unstable_now();T=e;var n=!0;try{n=A(!0,e)}finally{n?w():(M=!1,A=null)}}else M=!1}if("function"===typeof x)w=function(){x(I)};else if("undefined"!==typeof MessageChannel){var B=new MessageChannel,P=B.port2;B.port1.onmessage=I,w=function(){P.postMessage(null)}}else w=function(){g(I,0)};function R(e){A=e,M||(M=!0,w())}function L(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(v?(y(C),C=-1):v=!0,L(_,i-o))):(e.sortIndex=s,n(u,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},545:function(e,t,n){"use strict";e.exports=n(345)},494:function(e){function t(e,t,n){var r,a,i,o,s;function l(){var u=Date.now()-o;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(i,a),i=a=null))}null==t&&(t=100);var u=function(){i=this,a=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(i,a),i=a=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(i,a),i=a=null,clearTimeout(r),r=null)},u}t.debounce=t,e.exports=t},463:function(e,t,n){"use strict";var r=n(791),a=n(296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var F,U=Object.assign;function q(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var O=!1;function z(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{O=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function N(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case S:return"Portal";case A:return"Profiler";case M:return"StrictMode";case E:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case B:return null!==(t=e.displayName||null)?t:G(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function j(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ge=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,we=null,Me=null;function Ae(e){if(e=xa(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=_a(t),Se(e.stateNode,e.type,t))}}function Ce(e){we?Me?Me.push(e):Me=[e]:we=e}function ke(){if(we){var e=we,t=Me;if(Me=we=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Te(e,t){return e(t)}function Ee(){}var Ie=!1;function Be(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==we||null!==Me)&&(Ee(),ke())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_a(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Re=!1}function De(e,t,n,r,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Fe=!1,Ue=null,qe=!1,Oe=null,ze={onError:function(e){Fe=!0,Ue=e}};function Ne(e,t,n,r,a,i,o,s,l){Fe=!1,Ue=null,De.apply(ze,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ge(e)!==e)throw Error(i(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return He(a),e;if(o===r)return He(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Je=a.unstable_scheduleCallback,Xe=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Qe=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,$e=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=ht(s):0!==(i&=o)&&(r=ht(i))}else 0!==(o=n&~a)?r=ht(o):0!==i&&(r=ht(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,wt,Mt,At,Ct=!1,kt=[],Tt=null,Et=null,It=null,Bt=new Map,Pt=new Map,Rt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Bt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ft(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ut(e){var t=ya(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=je(n)))return e.blockedOn=t,void At(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function qt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xa(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ot(e,t,n){qt(e)&&n.delete(t)}function zt(){Ct=!1,null!==Tt&&qt(Tt)&&(Tt=null),null!==Et&&qt(Et)&&(Et=null),null!==It&&qt(It)&&(It=null),Bt.forEach(Ot),Pt.forEach(Ot)}function Nt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Gt(e){function t(t){return Nt(t,e)}if(0<kt.length){Nt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Nt(Tt,e),null!==Et&&Nt(Et,e),null!==It&&Nt(It,e),Bt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Rt.shift()}var jt=b.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var a=xt,i=jt.transition;jt.transition=null;try{xt=1,Jt(e,t,n,r)}finally{xt=a,jt.transition=i}}function Wt(e,t,n,r){var a=xt,i=jt.transition;jt.transition=null;try{xt=4,Jt(e,t,n,r)}finally{xt=a,jt.transition=i}}function Jt(e,t,n,r){if(Ht){var a=Kt(e,t,n,r);if(null===a)Hr(e,t,r,Xt,n),Dt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Tt=Ft(Tt,e,t,n,r,a),!0;case"dragenter":return Et=Ft(Et,e,t,n,r,a),!0;case"mouseover":return It=Ft(It,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Bt.set(i,Ft(Bt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Pt.set(i,Ft(Pt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==a;){var i=xa(a);if(null!==i&&_t(i),null===(i=Kt(e,t,n,r))&&Hr(e,t,r,Xt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Xt=null;function Kt(e,t,n,r){if(Xt=null,null!==(e=ya(e=_e(r))))if(null===(t=Ge(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=je(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,a="value"in Qt?Qt.value:Qt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),hn=U({},un,{view:0,detail:0}),dn=an(hn),fn=U({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),mn=an(U({},fn,{dataTransfer:0})),vn=an(U({},hn,{relatedTarget:0})),gn=an(U({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=U({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(yn),bn=an(U({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function An(){return Mn}var Cn=U({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=an(Cn),Tn=an(U({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=an(U({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),In=an(U({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Bn=U({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Bn),Rn=[9,13,27,32],Ln=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var Fn=c&&"TextEvent"in window&&!Dn,Un=c&&(!Ln||Dn&&8<Dn&&11>=Dn),qn=String.fromCharCode(32),On=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Jn=null;function Xn(e){qr(e,0)}function Kn(e){if(J(ba(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Zn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Jn=Wn=null)}function nr(e){if("value"===e.propertyName&&Kn(Jn)){var t=[];Vn(t,Jn,e,_e(e)),Be(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Jn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Jn)}function ir(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!h.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=cr(n,i);var o=cr(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==vr||vr!==X(r)||("selectionStart"in(r=vr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},wr={},Mr={};function Ar(e){if(wr[e])return wr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Mr)return wr[e]=n[t];return e}c&&(Mr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=Ar("animationend"),kr=Ar("animationiteration"),Tr=Ar("animationstart"),Er=Ar("transitionend"),Ir=new Map,Br="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ir.set(e,t),l(t,[e])}for(var Rr=0;Rr<Br.length;Rr++){var Lr=Br[Rr];Pr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Pr(Cr,"onAnimationEnd"),Pr(kr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Er,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,l,u){if(Ne.apply(this,arguments),Fe){if(!Fe)throw Error(i(198));var c=Ue;Fe=!1,Ue=null,qe||(qe=!0,Oe=c)}}(r,t,void 0,e),e.currentTarget=null}function qr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Ur(a,s,u),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Ur(a,s,u),i=l}}}if(qe)throw e=Oe,qe=!1,Oe=null,e}function Or(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(jr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),jr(n,e,r,t)}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[Nr]){e[Nr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Nr]||(t[Nr]=!0,zr("selectionchange",!1,t))}}function jr(e,t,n,r){switch(Yt(t)){case 1:var a=Vt;break;case 4:a=Wt;break;default:a=Jt}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ya(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}Be((function(){var r=i,a=_e(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Cr:case kr:case Tr:l=gn;break;case Er:l=In;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pe(p,d))&&c.push(Vr(p,m,f)))),h)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,a),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!ya(u)&&!u[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ya(u):null)&&(u!==(h=Ge(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:ba(l),f=null==u?s:ba(u),(s=new c(m,p+"leave",l,n,a)).target=h,s.relatedTarget=f,m=null,ya(a)===r&&((c=new c(d,p+"enter",u,n,a)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Jr(f))p++;for(f=0,m=d;m;m=Jr(m))f++;for(;0<p-f;)c=Jr(c),p--;for(;0<f-p;)d=Jr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Jr(c),d=Jr(d)}c=null}else c=null;null!==l&&Xr(o,s,l,c,!1),null!==u&&null!==h&&Xr(o,h,u,c,!0)}if("select"===(l=(s=r?ba(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Yn;else if(Hn(s))if(Qn)v=or;else{v=ar;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ir);switch(v&&(v=v(e,r))?Vn(o,v,n,a):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?ba(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(o,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,a)}var y;if(Ln)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Gn?zn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Un&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Gn&&(y=en()):(Zt="value"in(Qt=a)?Qt.value:Qt.textContent,Gn=!0)),0<(g=Wr(r,x)).length&&(x=new bn(x,e,null,n,a),o.push({event:x,listeners:g}),y?x.data=y:null!==(y=Nn(n))&&(x.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(On=!0,qn);case"textInput":return(e=t.data)===qn&&On?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Ln&&zn(e,t)?(e=en(),$t=Zt=Qt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}qr(o,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Pe(e,n))&&r.unshift(Vr(e,i,a)),null!=(i=Pe(e,t))&&r.push(Vr(e,i,a))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(l=Pe(n,i))&&o.unshift(Vr(n,l,s)):a||null!=(l=Pe(n,i))&&o.push(Vr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(i(425))}function $r(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Gt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Gt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ha=Math.random().toString(36).slice(2),da="__reactFiber$"+ha,fa="__reactProps$"+ha,pa="__reactContainer$"+ha,ma="__reactEvents$"+ha,va="__reactListeners$"+ha,ga="__reactHandles$"+ha;function ya(e){var t=e[da];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[da]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[da])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function xa(e){return!(e=e[da]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function _a(e){return e[fa]||null}var Sa=[],wa=-1;function Ma(e){return{current:e}}function Aa(e){0>wa||(e.current=Sa[wa],Sa[wa]=null,wa--)}function Ca(e,t){wa++,Sa[wa]=e.current,e.current=t}var ka={},Ta=Ma(ka),Ea=Ma(!1),Ia=ka;function Ba(e,t){var n=e.type.contextTypes;if(!n)return ka;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){Aa(Ea),Aa(Ta)}function La(e,t,n){if(Ta.current!==ka)throw Error(i(168));Ca(Ta,t),Ca(Ea,n)}function Da(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,j(e)||"Unknown",a));return U({},n,r)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ka,Ia=Ta.current,Ca(Ta,e),Ca(Ea,Ea.current),!0}function Ua(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Da(e,t,Ia),r.__reactInternalMemoizedMergedChildContext=e,Aa(Ea),Aa(Ta),Ca(Ta,e)):Aa(Ea),Ca(Ea,n)}var qa=null,Oa=!1,za=!1;function Na(e){null===qa?qa=[e]:qa.push(e)}function Ga(){if(!za&&null!==qa){za=!0;var e=0,t=xt;try{var n=qa;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qa=null,Oa=!1}catch(a){throw null!==qa&&(qa=qa.slice(e+1)),Je($e,Ga),a}finally{xt=t,za=!1}}return null}var ja=[],Ha=0,Va=null,Wa=0,Ja=[],Xa=0,Ka=null,Ya=1,Qa="";function Za(e,t){ja[Ha++]=Wa,ja[Ha++]=Va,Va=e,Wa=t}function $a(e,t,n){Ja[Xa++]=Ya,Ja[Xa++]=Qa,Ja[Xa++]=Ka,Ka=e;var r=Ya;e=Qa;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ya=1<<32-ot(t)+a|n<<a|r,Qa=i+e}else Ya=1<<i|n<<a|r,Qa=e}function ei(e){null!==e.return&&(Za(e,1),$a(e,1,0))}function ti(e){for(;e===Va;)Va=ja[--Ha],ja[Ha]=null,Wa=ja[--Ha],ja[Ha]=null;for(;e===Ka;)Ka=Ja[--Xa],Ja[Xa]=null,Qa=Ja[--Xa],Ja[Xa]=null,Ya=Ja[--Xa],Ja[Xa]=null}var ni=null,ri=null,ai=!1,ii=null;function oi(e,t){var n=Bu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ka?{id:Ya,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Bu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ai){var t=ri;if(t){var n=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=ua(n.nextSibling);var r=ni;t&&si(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ci(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function hi(e){if(e!==ni)return!1;if(!ai)return ci(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw di(),Error(i(418));for(;t;)oi(e,t),t=ua(t.nextSibling)}if(ci(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ua(e.stateNode.nextSibling):null;return!0}function di(){for(var e=ri;e;)e=ua(e.nextSibling)}function fi(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=b.ReactCurrentBatchConfig;function vi(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var gi=Ma(null),yi=null,xi=null,bi=null;function _i(){bi=xi=yi=null}function Si(e){var t=gi.current;Aa(gi),e._currentValue=t}function wi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mi(e,t){yi=e,bi=xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(bi!==e)if(e={context:e,memoizedValue:t,next:null},null===xi){if(null===yi)throw Error(i(308));xi=e,yi.dependencies={lanes:0,firstContext:e}}else xi=xi.next=e;return t}var Ci=null;function ki(e){null===Ci?Ci=[e]:Ci.push(e)}function Ti(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,ki(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ei(e,r)}function Ei(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ii=!1;function Bi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ri(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Li(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ei(e,n)}return null===(a=r.interleaved)?(t.next=t,ki(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ei(e,n)}function Di(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ui(e,t,n,r){var a=e.updateQueue;Ii=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?i=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==i){var h=a.baseState;for(o=0,c=u=l=null,s=i;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=U({},h,d);break e;case 2:Ii=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=a.effects)?a.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(d=s).next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}if(null===c&&(l=h),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=h}}function qi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Oi=(new r.Component).refs;function zi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ni={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),i=Ri(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Li(e,i,a))&&(nu(t,e,a,r),Di(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),i=Ri(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Li(e,i,a))&&(nu(t,e,a,r),Di(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),a=Ri(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Li(e,a,r))&&(nu(t,e,r,n),Di(t,e,r))}};function Gi(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function ji(e,t,n){var r=!1,a=ka,i=t.contextType;return"object"===typeof i&&null!==i?i=Ai(i):(a=Pa(t)?Ia:Ta.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ba(e,a):ka),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ni,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ni.enqueueReplaceState(t,t.state,null)}function Vi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Oi,Bi(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ai(i):(i=Pa(t)?Ia:Ta.current,a.context=Ba(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(zi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Ni.enqueueReplaceState(a,a.state,null),Ui(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Wi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;t===Oi&&(t=a.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ji(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xi(e){return(0,e._init)(e._payload)}function Ki(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===w?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&Xi(i)===t.type)?((r=a(t,n.props)).ref=Wi(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=Wi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Du(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=Wi(e,null,t),n.return=e,n;case S:return(t=qu(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Du(t,e.mode,n,null)).return=e,t;Ji(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===a?u(e,t,n,r):null;case S:return n.key===a?c(e,t,n,r):null;case P:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||D(n))return null!==a?null:h(e,t,n,r,null);Ji(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case P:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||D(r))return h(t,e=e.get(n)||null,r,a,null);Ji(t,r)}return null}function m(a,i,s,l){for(var u=null,c=null,h=i,m=i=0,v=null;null!==h&&m<s.length;m++){h.index>m?(v=h,h=null):v=h.sibling;var g=f(a,h,s[m],l);if(null===g){null===h&&(h=v);break}e&&h&&null===g.alternate&&t(a,h),i=o(g,i,m),null===c?u=g:c.sibling=g,c=g,h=v}if(m===s.length)return n(a,h),ai&&Za(a,m),u;if(null===h){for(;m<s.length;m++)null!==(h=d(a,s[m],l))&&(i=o(h,i,m),null===c?u=h:c.sibling=h,c=h);return ai&&Za(a,m),u}for(h=r(a,h);m<s.length;m++)null!==(v=p(h,a,m,s[m],l))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),i=o(v,i,m),null===c?u=v:c.sibling=v,c=v);return e&&h.forEach((function(e){return t(a,e)})),ai&&Za(a,m),u}function v(a,s,l,u){var c=D(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var h=c=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var x=f(a,m,y.value,u);if(null===x){null===m&&(m=g);break}e&&m&&null===x.alternate&&t(a,m),s=o(x,s,v),null===h?c=x:h.sibling=x,h=x,m=g}if(y.done)return n(a,m),ai&&Za(a,v),c;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=d(a,y.value,u))&&(s=o(y,s,v),null===h?c=y:h.sibling=y,h=y);return ai&&Za(a,v),c}for(m=r(a,m);!y.done;v++,y=l.next())null!==(y=p(m,a,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(a,e)})),ai&&Za(a,v),c}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===w&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var u=o.key,c=i;null!==c;){if(c.key===u){if((u=o.type)===w){if(7===c.tag){n(r,c.sibling),(i=a(c,o.props.children)).return=r,r=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&Xi(u)===c.type){n(r,c.sibling),(i=a(c,o.props)).ref=Wi(r,c,o),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===w?((i=Du(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Lu(o.type,o.key,o.props,null,r.mode,l)).ref=Wi(r,i,o),l.return=r,r=l)}return s(r);case S:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=qu(o,r.mode,l)).return=r,r=i}return s(r);case P:return e(r,i,(c=o._init)(o._payload),l)}if(te(o))return m(r,i,o,l);if(D(o))return v(r,i,o,l);Ji(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Uu(o,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var Yi=Ki(!0),Qi=Ki(!1),Zi={},$i=Ma(Zi),eo=Ma(Zi),to=Ma(Zi);function no(e){if(e===Zi)throw Error(i(174));return e}function ro(e,t){switch(Ca(to,t),Ca(eo,e),Ca($i,Zi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Aa($i),Ca($i,t)}function ao(){Aa($i),Aa(eo),Aa(to)}function io(e){no(to.current);var t=no($i.current),n=le(t,e.type);t!==n&&(Ca(eo,e),Ca($i,n))}function oo(e){eo.current===e&&(Aa($i),Aa(eo))}var so=Ma(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,vo=null,go=null,yo=!1,xo=!1,bo=0,_o=0;function So(){throw Error(i(321))}function wo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Mo(e,t,n,r,a,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:ls,e=n(r,a),xo){o=0;do{if(xo=!1,bo=0,25<=o)throw Error(i(301));o+=1,go=vo=null,t.updateQueue=null,ho.current=us,e=n(r,a)}while(xo)}if(ho.current=os,t=null!==vo&&null!==vo.next,po=0,go=vo=mo=null,yo=!1,t)throw Error(i(300));return e}function Ao(){var e=0!==bo;return bo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?mo.memoizedState=go=e:go=go.next=e,go}function ko(){if(null===vo){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===go?mo.memoizedState:go.next;if(null!==t)go=t,vo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===go?mo.memoizedState=go=e:go=go.next=e}return go}function To(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=ko(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=vo,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,u=null,c=o;do{var h=c.lane;if((po&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,s=r):u=u.next=d,mo.lanes|=h,Fl|=h}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,mo.lanes|=o,Fl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=ko(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Bo(){}function Po(e,t){var n=mo,r=ko(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,bs=!0),r=r.queue,Ho(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Oo(9,Lo.bind(null,n,r,a,t),void 0,null),null===El)throw Error(i(349));0!==(30&po)||Ro(n,t,a)}return a}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,Fo(t)&&Uo(e)}function Do(e,t,n){return n((function(){Fo(t)&&Uo(e)}))}function Fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Uo(e){var t=Ei(e,1);null!==t&&nu(t,e,1,-1)}function qo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return ko().memoizedState}function No(e,t,n,r){var a=Co();mo.flags|=e,a.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Go(e,t,n,r){var a=ko();r=void 0===r?null:r;var i=void 0;if(null!==vo){var o=vo.memoizedState;if(i=o.destroy,null!==r&&wo(r,o.deps))return void(a.memoizedState=Oo(t,n,i,r))}mo.flags|=e,a.memoizedState=Oo(1|t,n,i,r)}function jo(e,t){return No(8390656,8,e,t)}function Ho(e,t){return Go(2048,8,e,t)}function Vo(e,t){return Go(4,2,e,t)}function Wo(e,t){return Go(4,4,e,t)}function Jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Go(4,4,Jo.bind(null,t,e),n)}function Ko(){}function Yo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,Fl|=n,e.baseState=!0),t)}function $o(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{xt=n,fo.transition=r}}function es(){return ko().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))as(t,n);else if(null!==(n=Ti(e,t,n,r))){nu(n,e,r,eu()),is(n,t,r)}}function ns(e,t,n){var r=tu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(a.next=a,ki(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=Ti(e,t,a,r))&&(nu(n,e,r,a=eu()),is(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function as(e,t){xo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function is(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ai,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},ss={readContext:Ai,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:jo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,No(4194308,4,Jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return No(4194308,4,e,t)},useInsertionEffect:function(e,t){return No(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:qo,useDebugValue:Ko,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=qo(!1),t=e[0];return e=$o.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,a=Co();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===El)throw Error(i(349));0!==(30&po)||Ro(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,jo(Do.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,Lo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=El.identifierPrefix;if(ai){var n=Qa;t=":"+t+"R"+(n=(Ya&~(1<<32-ot(Ya)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ai,useCallback:Yo,useContext:Ai,useEffect:Ho,useImperativeHandle:Xo,useInsertionEffect:Vo,useLayoutEffect:Wo,useMemo:Qo,useReducer:Eo,useRef:zo,useState:function(){return Eo(To)},useDebugValue:Ko,useDeferredValue:function(e){return Zo(ko(),vo.memoizedState,e)},useTransition:function(){return[Eo(To)[0],ko().memoizedState]},useMutableSource:Bo,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1},us={readContext:Ai,useCallback:Yo,useContext:Ai,useEffect:Ho,useImperativeHandle:Xo,useInsertionEffect:Vo,useLayoutEffect:Wo,useMemo:Qo,useReducer:Io,useRef:zo,useState:function(){return Io(To)},useDebugValue:Ko,useDeferredValue:function(e){var t=ko();return null===vo?t.memoizedState=e:Zo(t,vo.memoizedState,e)},useTransition:function(){return[Io(To)[0],ko().memoizedState]},useMutableSource:Bo,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=N(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ri(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Vl=r),ds(0,t)},n}function ms(e,t,n){(n=Ri(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Au.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ri(-1,1)).tag=2,Li(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var xs=b.ReactCurrentOwner,bs=!1;function _s(e,t,n,r){t.child=null===e?Qi(t,null,n,r):Yi(t,e.child,n,r)}function Ss(e,t,n,r,a){n=n.render;var i=t.ref;return Mi(t,a),r=Mo(e,t,n,r,i,a),n=Ao(),null===e||bs?(ai&&n&&ei(t),t.flags|=1,_s(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function ws(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Pu(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ms(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Hs(e,t,a)}return t.flags|=1,(e=Ru(i,r)).ref=t.ref,e.return=t,t.child=e}function Ms(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Hs(e,t,a);0!==(131072&e.flags)&&(bs=!0)}}return ks(e,t,n,r,a)}function As(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Rl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Rl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ca(Rl,Pl),Pl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ca(Rl,Pl),Pl|=r;return _s(e,t,a,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ks(e,t,n,r,a){var i=Pa(n)?Ia:Ta.current;return i=Ba(t,i),Mi(t,a),n=Mo(e,t,n,r,i,a),r=Ao(),null===e||bs?(ai&&r&&ei(t),t.flags|=1,_s(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Ts(e,t,n,r,a){if(Pa(n)){var i=!0;Fa(t)}else i=!1;if(Mi(t,a),null===t.stateNode)js(e,t),ji(t,n,r),Vi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ai(u):u=Ba(t,u=Pa(n)?Ia:Ta.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Hi(t,o,r,u),Ii=!1;var d=t.memoizedState;o.state=d,Ui(t,r,o,a),l=t.memoizedState,s!==r||d!==l||Ea.current||Ii?("function"===typeof c&&(zi(t,n,c,r),l=t.memoizedState),(s=Ii||Gi(t,n,s,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pi(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:vi(t.type,s),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ai(l):l=Ba(t,l=Pa(n)?Ia:Ta.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||d!==l)&&Hi(t,o,r,l),Ii=!1,d=t.memoizedState,o.state=d,Ui(t,r,o,a);var p=t.memoizedState;s!==h||d!==p||Ea.current||Ii?("function"===typeof f&&(zi(t,n,f,r),p=t.memoizedState),(u=Ii||Gi(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Es(e,t,n,r,i,a)}function Es(e,t,n,r,a,i){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Ua(t,n,!1),Hs(e,t,i);r=t.stateNode,xs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Yi(t,e.child,null,i),t.child=Yi(t,null,s,i)):_s(e,t,s,i),t.memoizedState=r.state,a&&Ua(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?La(0,t.pendingContext,t.pendingContext!==t.context):t.context&&La(0,t.context,!1),ro(e,t.containerInfo)}function Bs(e,t,n,r,a){return fi(),pi(a),t.flags|=256,_s(e,t,n,r),t.child}var Ps,Rs,Ls,Ds={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,a=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ca(so,1&o),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fu(l,a,0,null),e=Du(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ds,e):qs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,Os(e,t,s,r=hs(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Fu({mode:"visible",children:r.children},a,0,null),(o=Du(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Yi(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ds,o);if(0===(1&t.mode))return Os(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Os(e,t,s,r=hs(o=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=El)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ei(e,a),nu(r,e,a,-1))}return mu(),Os(e,t,s,r=hs(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=ku.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ri=ua(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Ja[Xa++]=Ya,Ja[Xa++]=Qa,Ja[Xa++]=Ka,Ya=e.id,Qa=e.overflow,Ka=t),(t=qs(t,r.children)).flags|=4096,t)}(e,t,l,a,r,o,n);if(s){s=a.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Ru(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ru(r,s):(s=Du(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,a}return e=(s=e.child).sibling,a=Ru(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function qs(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Os(e,t,n,r){return null!==r&&pi(r),Yi(t,e.child,null,n),(e=qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wi(e.return,t,n)}function Ns(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Gs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ca(so,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ns(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===lo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ns(t,!0,n,null,i);break;case"together":Ns(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function js(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Js(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Pa(t.type)&&Ra(),Ws(t),null;case 3:return r=t.stateNode,ao(),Aa(Ea),Aa(Ta),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(ou(ii),ii=null))),Ws(t),null;case 5:oo(t);var a=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ws(t),null}if(e=no($i.current),hi(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[da]=t,r[fa]=o,e=0!==(1&t.mode),n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(a=0;a<Dr.length;a++)Or(Dr[a],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":Y(r,o),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Or("invalid",r);break;case"textarea":ae(r,o),Or("invalid",r)}for(var l in ye(n,o),a=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Or("scroll",r)}switch(n){case"input":W(r),$(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[da]=t,e[fa]=r,Ps(e,t),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Or("cancel",e),Or("close",e),a=r;break;case"iframe":case"object":case"embed":Or("load",e),a=r;break;case"video":case"audio":for(a=0;a<Dr.length;a++)Or(Dr[a],e);a=r;break;case"source":Or("error",e),a=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),a=r;break;case"details":Or("toggle",e),a=r;break;case"input":Y(e,r),a=K(e,r),Or("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=U({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Or("invalid",e)}for(o in ye(n,a),u=a)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ve(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Or("scroll",e):null!=c&&x(e,o,c,l))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ls(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=no(to.current),no($i.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[da]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[da]=t,t.stateNode=r}return Ws(t),null;case 13:if(Aa(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))di(),fi(),t.flags|=98560,o=!1;else if(o=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[da]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==ii&&(ou(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ll&&(Ll=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return ao(),null===e&&Gr(t.stateNode.containerInfo),Ws(t),null;case 10:return Si(t.type._context),Ws(t),null;case 19:if(Aa(so),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Vs(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Vs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ca(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Gl&&(t.flags|=128,r=!0,Vs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return Ws(t),null}else 2*Qe()-o.renderingStartTime>Gl&&1073741824!==n&&(t.flags|=128,r=!0,Vs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=so.current,Ca(so,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Xs(e,t){switch(ti(t),t.tag){case 1:return Pa(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),Aa(Ea),Aa(Ta),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Aa(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Aa(so),null;case 4:return ao(),null;case 10:return Si(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,no($i.current);var i,o=null;switch(n){case"input":a=K(e,a),r=K(e,r),o=[];break;case"select":a=U({},a,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ye(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Or("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Ys=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Mu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Mu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,n,i)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[da],delete t[fa],delete t[ma],delete t[va],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Ys||$s(n,t);case 6:var r=cl,a=hl;cl=null,dl(e,t,n),hl=a,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Gt(e)):la(cl,n.stateNode));break;case 4:r=cl,a=hl,cl=n.stateNode.containerInfo,hl=!0,dl(e,t,n),cl=r,hl=a;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(n,t,o),a=a.next}while(a!==r)}dl(e,t,n);break;case 1:if(!Ys&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Mu(n,t,s)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,dl(e,t,n),Ys=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(i(160));fl(o,s,a),cl=null,hl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Mu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(v){Mu(e,e.return,v)}try{nl(5,e,e.return)}catch(v){Mu(e,e.return,v)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(v){Mu(e,e.return,v)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(a,o),xe(l,s);var c=xe(l,o);for(s=0;s<u.length;s+=2){var h=u[s],d=u[s+1];"style"===h?ve(a,d):"dangerouslySetInnerHTML"===h?he(a,d):"children"===h?de(a,d):x(a,h,d,c)}switch(l){case"input":Z(a,o);break;case"textarea":ie(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(a,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(v){Mu(e,e.return,v)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){Mu(e,e.return,v)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(v){Mu(e,e.return,v)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Nl=Qe())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||h,ml(t,e),Ys=c):ml(t,e),gl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Zs=e,h=e.child;null!==h;){for(d=Zs=h;null!==Zs;){switch(p=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:$s(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Mu(r,n,v)}}break;case 5:$s(f,f.return);break;case 22:if(null!==f.memoizedState){_l(d);continue}}null!==p?(p.return=f,Zs=p):_l(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{a=d.stateNode,c?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,s=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(v){Mu(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Mu(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(de(a,""),r.flags&=-33),ul(e,sl(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(i(161))}}catch(s){Mu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Zs=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var a=Zs,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Ks;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Ks;var u=Ys;if(Ks=o,(Ys=l)&&!u)for(Zs=a;null!==Zs;)l=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Sl(a):null!==l?(l.return=o,Zs=l):Sl(a);for(;null!==i;)Zs=i,xl(i,t,n),i=i.sibling;Zs=a,Ks=s,Ys=u}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Zs=i):bl(e)}}function bl(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:vi(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qi(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Gt(d)}}}break;default:throw Error(i(163))}Ys||512&t.flags&&al(t)}catch(f){Mu(t,t.return,f)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function _l(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Sl(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Mu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Mu(t,a,l)}}var i=t.return;try{al(t)}catch(l){Mu(t,i,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Mu(t,o,l)}}}catch(l){Mu(t,t.return,l)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var wl,Ml=Math.ceil,Al=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,kl=b.ReactCurrentBatchConfig,Tl=0,El=null,Il=null,Bl=0,Pl=0,Rl=Ma(0),Ll=0,Dl=null,Fl=0,Ul=0,ql=0,Ol=null,zl=null,Nl=0,Gl=1/0,jl=null,Hl=!1,Vl=null,Wl=null,Jl=!1,Xl=null,Kl=0,Yl=0,Ql=null,Zl=-1,$l=0;function eu(){return 0!==(6&Tl)?Qe():-1!==Zl?Zl:Zl=Qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Bl?Bl&-Bl:null!==mi.transition?(0===$l&&($l=mt()),$l):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Ql=null,Error(i(185));gt(e,n,r),0!==(2&Tl)&&e===El||(e===El&&(0===(2&Tl)&&(Ul|=n),4===Ll&&su(e,Bl)),ru(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Gl=Qe()+500,Oa&&Ga()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=dt(e,e===El?Bl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Oa=!0,Na(e)}(lu.bind(null,e)):Na(lu.bind(null,e)),oa((function(){0===(6&Tl)&&Ga()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Eu(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(Zl=-1,$l=0,0!==(6&Tl))throw Error(i(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=dt(e,e===El?Bl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var a=Tl;Tl|=2;var o=pu();for(El===e&&Bl===t||(jl=null,Gl=Qe()+500,du(e,t));;)try{yu();break}catch(l){fu(e,l)}_i(),Al.current=o,Tl=a,null!==Il?t=0:(El=null,Bl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=iu(e,a))),1===t)throw n=Dl,du(e,0),su(e,r),ru(e,Qe()),n;if(6===t)su(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vu(e,r))&&(0!==(o=pt(e))&&(r=o,t=iu(e,o))),1===t))throw n=Dl,du(e,0),su(e,r),ru(e,Qe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:_u(e,zl,jl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Nl+500-Qe())){if(0!==dt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(_u.bind(null,e,zl,jl),t);break}_u(e,zl,jl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ml(r/1960))-r)){e.timeoutHandle=ra(_u.bind(null,e,zl,jl),r);break}_u(e,zl,jl);break;default:throw Error(i(329))}}}return ru(e,Qe()),e.callbackNode===n?au.bind(null,e):null}function iu(e,t){var n=Ol;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=vu(e,t))&&(t=zl,zl=n,null!==t&&ou(t)),e}function ou(e){null===zl?zl=e:zl.push.apply(zl,e)}function su(e,t){for(t&=~ql,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Tl))throw Error(i(327));Su();var t=dt(e,0);if(0===(1&t))return ru(e,Qe()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=Dl,du(e,0),su(e,t),ru(e,Qe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,zl,jl),ru(e,Qe()),null}function uu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Gl=Qe()+500,Oa&&Ga())}}function cu(e){null!==Xl&&0===Xl.tag&&0===(6&Tl)&&Su();var t=Tl;Tl|=1;var n=kl.transition,r=xt;try{if(kl.transition=null,xt=1,e)return e()}finally{xt=r,kl.transition=n,0===(6&(Tl=t))&&Ga()}}function hu(){Pl=Rl.current,Aa(Rl)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ra();break;case 3:ao(),Aa(Ea),Aa(Ta),co();break;case 5:oo(r);break;case 4:ao();break;case 13:case 19:Aa(so);break;case 10:Si(r.type._context);break;case 22:case 23:hu()}n=n.return}if(El=e,Il=e=Ru(e.current,null),Bl=Pl=t,Ll=0,Dl=null,ql=Ul=Fl=0,zl=Ol=null,null!==Ci){for(t=0;t<Ci.length;t++)if(null!==(r=(n=Ci[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Ci=null}return e}function fu(e,t){for(;;){var n=Il;try{if(_i(),ho.current=os,yo){for(var r=mo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yo=!1}if(po=0,go=vo=mo=null,xo=!1,bo=0,Cl.current=null,null===n||null===n.return){Ll=1,Dl=t,Il=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Bl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&vs(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(u),t.updateQueue=v}else m.add(u);break e}if(0===(1&t)){vs(o,c,t),mu();break e}u=Error(i(426))}else if(ai&&1&l.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,l,0,t),pi(cs(u,l));break e}}o=u=cs(u,l),4!==Ll&&(Ll=2),null===Ol?Ol=[o]:Ol.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Fi(o,ps(0,u,t));break e;case 1:l=u;var y=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Wl||!Wl.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Fi(o,ms(o,l,t));break e}}o=o.return}while(null!==o)}bu(n)}catch(b){t=b,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function pu(){var e=Al.current;return Al.current=os,null===e?os:e}function mu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===El||0===(268435455&Fl)&&0===(268435455&Ul)||su(El,Bl)}function vu(e,t){var n=Tl;Tl|=2;var r=pu();for(El===e&&Bl===t||(jl=null,du(e,t));;)try{gu();break}catch(a){fu(e,a)}if(_i(),Tl=n,Al.current=r,null!==Il)throw Error(i(261));return El=null,Bl=0,Ll}function gu(){for(;null!==Il;)xu(Il)}function yu(){for(;null!==Il&&!Ke();)xu(Il)}function xu(e){var t=wl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?bu(e):Il=t,Cl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Js(n,t,Pl)))return void(Il=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Ll=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Ll&&(Ll=5)}function _u(e,t,n){var r=xt,a=kl.transition;try{kl.transition=null,xt=1,function(e,t,n,r){do{Su()}while(null!==Xl);if(0!==(6&Tl))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===El&&(Il=El=null,Bl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Eu(tt,(function(){return Su(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=kl.transition,kl.transition=null;var s=xt;xt=1;var l=Tl;Tl|=4,Cl.current=null,function(e,t){if(ea=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==a&&3!==d.nodeType||(l=s+a),d!==o||0!==r&&3!==d.nodeType||(u=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===a&&(l=s),f===o&&++h===r&&(u=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:vi(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(_){Mu(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}m=tl,tl=!1}(e,n),vl(n,e),pr(ta),Ht=!!ea,ta=ea=null,e.current=n,yl(n,e,a),Ye(),Tl=l,xt=s,kl.transition=o}else e.current=n;if(Jl&&(Jl=!1,Xl=e,Kl=a),0===(o=e.pendingLanes)&&(Wl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((a=t[n]).value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Kl)&&0!==e.tag&&Su(),0!==(1&(o=e.pendingLanes))?e===Ql?Yl++:(Yl=0,Ql=e):Yl=0,Ga()}(e,t,n,r)}finally{kl.transition=a,xt=r}return null}function Su(){if(null!==Xl){var e=bt(Kl),t=kl.transition,n=xt;try{if(kl.transition=null,xt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Kl=0,0!==(6&Tl))throw Error(i(331));var a=Tl;for(Tl|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Zs=c;null!==Zs;){var h=Zs;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Zs=d;else for(;null!==Zs;){var f=(h=Zs).sibling,p=h.return;if(il(h),h===c){Zs=null;break}if(null!==f){f.return=p,Zs=f;break}Zs=p}}}var m=o.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var x=e.current;for(Zs=x;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=x;null!==Zs;){if(0!==(2048&(l=Zs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Mu(l,l.return,S)}if(l===s){Zs=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Zs=_;break e}Zs=l.return}}if(Tl=a,Ga(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(S){}r=!0}return r}finally{xt=n,kl.transition=t}}return!1}function wu(e,t,n){e=Li(e,t=ps(0,t=cs(n,t),1),1),t=eu(),null!==e&&(gt(e,1,t),ru(e,t))}function Mu(e,t,n){if(3===e.tag)wu(e,e,n);else for(;null!==t;){if(3===t.tag){wu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Li(t,e=ms(t,e=cs(n,e),1),1),e=eu(),null!==t&&(gt(t,1,e),ru(t,e));break}}t=t.return}}function Au(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Bl&n)===n&&(4===Ll||3===Ll&&(130023424&Bl)===Bl&&500>Qe()-Nl?du(e,0):ql|=n),ru(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ei(e,t))&&(gt(e,t,n),ru(e,n))}function ku(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cu(e,n)}function Eu(e,t){return Je(e,t)}function Iu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bu(e,t,n,r){return new Iu(e,t,n,r)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Bu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)Pu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case w:return Du(n.children,a,o,t);case M:s=8,a|=8;break;case A:return(e=Bu(12,n,t,2|a)).elementType=A,e.lanes=o,e;case E:return(e=Bu(13,n,t,a)).elementType=E,e.lanes=o,e;case I:return(e=Bu(19,n,t,a)).elementType=I,e.lanes=o,e;case R:return Fu(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case k:s=9;break e;case T:s=11;break e;case B:s=14;break e;case P:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Bu(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Du(e,t,n,r){return(e=Bu(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=Bu(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Uu(e,t,n){return(e=Bu(6,e,null,t)).lanes=n,e}function qu(e,t,n){return(t=Bu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ou(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,r,a,i,o,s,l){return e=new Ou(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Bu(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bi(i),e}function Nu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Gu(e){if(!e)return ka;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Pa(n))return Da(e,n,t)}return t}function ju(e,t,n,r,a,i,o,s,l){return(e=zu(n,r,!0,e,0,i,0,s,l)).context=Gu(null),n=e.current,(i=Ri(r=eu(),a=tu(n))).callback=void 0!==t&&null!==t?t:null,Li(n,i,a),e.current.lanes=a,gt(e,a,r),ru(e,r),e}function Hu(e,t,n,r){var a=t.current,i=eu(),o=tu(a);return n=Gu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ri(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Li(a,t,o))&&(nu(e,a,o,i),Di(e,a,o)),o}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ju(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ea.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Is(t),fi();break;case 5:io(t);break;case 1:Pa(t.type)&&Fa(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ca(gi,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ca(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Ca(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ca(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,As(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ai&&0!==(1048576&t.flags)&&$a(t,Wa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;js(e,t),e=t.pendingProps;var a=Ba(t,Ta.current);Mi(t,n),a=Mo(null,t,r,e,a,n);var o=Ao();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pa(r)?(o=!0,Fa(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Bi(t),a.updater=Ni,t.stateNode=a,a._reactInternals=t,Vi(t,r,e,n),t=Es(null,t,r,!0,o,n)):(t.tag=0,ai&&o&&ei(t),_s(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(js(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===B)return 14}return 2}(r),e=vi(r,e),a){case 0:t=ks(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=ws(null,t,r,vi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,ks(e,t,r,a=t.elementType===r?a:vi(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ts(e,t,r,a=t.elementType===r?a:vi(r,a),n);case 3:e:{if(Is(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Pi(e,t),Ui(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Bs(e,t,r,n,a=cs(Error(i(423)),t));break e}if(r!==a){t=Bs(e,t,r,n,a=cs(Error(i(424)),t));break e}for(ri=ua(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=Qi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===a){t=Hs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return io(t),null===e&&ui(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==o&&na(r,o)&&(t.flags|=32),Cs(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Us(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yi(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Ss(e,t,r,a=t.elementType===r?a:vi(r,a),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ca(gi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Ea.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Ri(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),wi(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wi(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Mi(t,n),r=r(a=Ai(a)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return a=vi(r=t.type,t.pendingProps),ws(e,t,r,a=vi(r.type,a),n);case 15:return Ms(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:vi(r,a),js(e,t),t.tag=1,Pa(r)?(e=!0,Fa(t)):e=!1,Mi(t,n),ji(t,r,a),Vi(t,r,a,n),Es(null,t,r,!0,e,n);case 19:return Gs(e,t,n);case 22:return As(e,t,n)}throw Error(i(156,t.tag))};var Xu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $u(){}function ec(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Vu(o);s.call(e)}}Hu(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Vu(o);i.call(e)}}var o=ju(t,r,e,0,null,!1,0,"",$u);return e._reactRootContainer=o,e[pa]=o.current,Gr(8===e.nodeType?e.parentNode:e),cu(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Vu(l);s.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",$u);return e._reactRootContainer=l,e[pa]=l.current,Gr(8===e.nodeType?e.parentNode:e),cu((function(){Hu(t,l,n,r)})),l}(n,t,e,a,r);return Vu(o)}Yu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hu(e,t,null,null)},Yu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Hu(null,e,null,null)})),t[pa]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ut(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Qe()),0===(6&Tl)&&(Gl=Qe()+500,Ga()))}break;case 13:cu((function(){var t=Ei(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Ju(e,1)}},St=function(e){if(13===e.tag){var t=Ei(e,134217728);if(null!==t)nu(t,e,134217728,eu());Ju(e,134217728)}},wt=function(e){if(13===e.tag){var t=tu(e),n=Ei(e,t);if(null!==n)nu(n,e,t,eu());Ju(e,t)}},Mt=function(){return xt},At=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=_a(r);if(!a)throw Error(i(90));J(r),Z(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uu,Ee=cu;var tc={usingClientEntryPoint:!1,Events:[xa,ba,_a,Ce,ke,uu]},nc={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(rc),it=ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(i(200));return Nu(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(i(299));var n=!1,r="",a=Xu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Gr(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(i(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=Xu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ju(t,null,e,1,null!=n?n:null,a,0,o,s),e[pa]=t.current,Gr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yu(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(i(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(i(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},976:function(e,t){"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},721:function(e,t,n){e.exports=function(e){var t={},r=n(791),a=n(100),i=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var b=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var _=Symbol.iterator;function S(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}function w(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case c:return"Fragment";case u:return"Portal";case d:return"Profiler";case h:return"StrictMode";case v:return"Suspense";case g:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case f:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:w(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return w(e(t))}catch(n){}}return null}function M(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return w(t);case 8:return t===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function A(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function C(e){if(A(e)!==e)throw Error(o(188))}function k(e){var t=e.alternate;if(!t){if(null===(t=A(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return C(a),e;if(i===r)return C(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function T(e){return null!==(e=k(e))?E(e):null}function E(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=E(e);if(null!==t)return t;e=e.sibling}return null}function I(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=I(e);if(null!==t)return t}e=e.sibling}return null}var B,P=Array.isArray,R=e.getPublicInstance,L=e.getRootHostContext,D=e.getChildHostContext,F=e.prepareForCommit,U=e.resetAfterCommit,q=e.createInstance,O=e.appendInitialChild,z=e.finalizeInitialChildren,N=e.prepareUpdate,G=e.shouldSetTextContent,j=e.createTextInstance,H=e.scheduleTimeout,V=e.cancelTimeout,W=e.noTimeout,J=e.isPrimaryRenderer,X=e.supportsMutation,K=e.supportsPersistence,Y=e.supportsHydration,Q=e.getInstanceFromNode,Z=e.preparePortalMount,$=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ae=e.findFiberRoot,ie=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,le=e.matchAccessibilityRole,ue=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,he=e.appendChild,de=e.appendChildToContainer,fe=e.commitTextUpdate,pe=e.commitMount,me=e.commitUpdate,ve=e.insertBefore,ge=e.insertInContainerBefore,ye=e.removeChild,xe=e.removeChildFromContainer,be=e.resetTextContent,_e=e.hideInstance,Se=e.hideTextInstance,we=e.unhideInstance,Me=e.unhideTextInstance,Ae=e.clearContainer,Ce=e.cloneInstance,ke=e.createContainerChildSet,Te=e.appendChildToContainerChildSet,Ee=e.finalizeContainerChildren,Ie=e.replaceContainerChildren,Be=e.cloneHiddenInstance,Pe=e.cloneHiddenTextInstance,Re=e.canHydrateInstance,Le=e.canHydrateTextInstance,De=e.canHydrateSuspenseInstance,Fe=e.isSuspenseInstancePending,Ue=e.isSuspenseInstanceFallback,qe=e.registerSuspenseInstanceRetry,Oe=e.getNextHydratableSibling,ze=e.getFirstHydratableChild,Ne=e.getFirstHydratableChildWithinContainer,Ge=e.getFirstHydratableChildWithinSuspenseInstance,je=e.hydrateInstance,He=e.hydrateTextInstance,Ve=e.hydrateSuspenseInstance,We=e.getNextHydratableInstanceAfterSuspenseInstance,Je=e.commitHydratedContainer,Xe=e.commitHydratedSuspenseInstance,Ke=e.clearSuspenseBoundary,Ye=e.clearSuspenseBoundaryFromContainer,Qe=e.shouldDeleteUnhydratedTailInstances,Ze=e.didNotMatchHydratedContainerTextInstance,$e=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,at=[],it=-1;function ot(e){return{current:e}}function st(e){0>it||(e.current=at[it],at[it]=null,it--)}function lt(e,t){it++,at[it]=e.current,e.current=t}var ut={},ct=ot(ut),ht=ot(!1),dt=ut;function ft(e,t){var n=e.type.contextTypes;if(!n)return ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function pt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mt(){st(ht),st(ct)}function vt(e,t,n){if(ct.current!==ut)throw Error(o(168));lt(ct,t),lt(ht,n)}function gt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,M(e)||"Unknown",a));return i({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ut,dt=ct.current,lt(ct,e),lt(ht,ht.current),!0}function xt(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=gt(e,t,dt),r.__reactInternalMemoizedMergedChildContext=e,st(ht),st(ct),lt(ct,e)):st(ht),lt(ht,n)}var bt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_t(e)/St|0)|0},_t=Math.log,St=Math.LN2;var wt=64,Mt=4194304;function At(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=At(s):0!==(i&=o)&&(r=At(i))}else 0!==(o=n&~a)?r=At(o):0!==i&&(r=At(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-bt(t)),r|=e[n],t&=~a;return r}function kt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Tt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Et(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function It(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-bt(t)]=n}function Bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Pt=0;function Rt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Lt=a.unstable_scheduleCallback,Dt=a.unstable_cancelCallback,Ft=a.unstable_shouldYield,Ut=a.unstable_requestPaint,qt=a.unstable_now,Ot=a.unstable_ImmediatePriority,zt=a.unstable_UserBlockingPriority,Nt=a.unstable_NormalPriority,Gt=a.unstable_IdlePriority,jt=null,Ht=null;var Vt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Wt=null,Jt=!1,Xt=!1;function Kt(e){null===Wt?Wt=[e]:Wt.push(e)}function Yt(){if(!Xt&&null!==Wt){Xt=!0;var e=0,t=Pt;try{var n=Wt;for(Pt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Wt=null,Jt=!1}catch(a){throw null!==Wt&&(Wt=Wt.slice(e+1)),Lt(Ot,Yt),a}finally{Pt=t,Xt=!1}}return null}var Qt=s.ReactCurrentBatchConfig;function Zt(e,t){if(Vt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!rt.call(t,a)||!Vt(e[a],t[a]))return!1}return!0}function $t(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t,n){J?(lt(tn,t._currentValue),t._currentValue=n):(lt(tn,t._currentValue2),t._currentValue2=n)}function ln(e){var t=tn.current;st(tn),J?e._currentValue=t:e._currentValue2=t}function un(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fa=!0),e.firstContext=null)}function hn(e){var t=J?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var dn=null,fn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Xi&&0!==(1&e.mode)&&0===(2&Ji)?(null===(e=n.interleaved)?(t.next=t,null===dn?dn=[n]:dn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Bt(e,n)}}function xn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bn(e,t,n,r){var a=e.updateQueue;fn=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var h=e.alternate;null!==h&&((l=(h=h.updateQueue).lastBaseUpdate)!==s&&(null===l?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(null!==o){var d=a.baseState;for(s=0,h=c=u=null,l=o;;){var f=l.lane,p=l.eventTime;if((r&f)===f){null!==h&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,v=l;switch(f=t,p=n,v.tag){case 1:if("function"===typeof(m=v.payload)){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=v.payload)?m.call(p,d,f):m)||void 0===f)break e;d=i({},d,f);break e;case 2:fn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===h?(c=h=p,u=d):h=h.next=p,s|=f;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(f=l).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===h&&(u=d),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=h,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);to|=s,e.lanes=s,e.memoizedState=d}}function _n(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Sn=(new r.Component).refs;function wn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Mn={isMounted:function(e){return!!(e=e._reactInternals)&&A(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_o(),a=So(e),i=vn(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),gn(e,i),null!==(t=wo(e,a,r))&&yn(t,e,a)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_o(),a=So(e),i=vn(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),gn(e,i),null!==(t=wo(e,a,r))&&yn(t,e,a)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_o(),r=So(e),a=vn(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),gn(e,a),null!==(t=wo(e,r,n))&&yn(t,e,r)}};function An(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!Zt(n,r)||!Zt(a,i))}function Cn(e,t,n){var r=!1,a=ut,i=t.contextType;return"object"===typeof i&&null!==i?i=hn(i):(a=pt(t)?dt:ct.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?ft(e,a):ut),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Mn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function kn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mn.enqueueReplaceState(t,t.state,null)}function Tn(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Sn,pn(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=hn(i):(i=pt(t)?dt:ct.current,a.context=ft(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(wn(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Mn.enqueueReplaceState(a,a.state,null),bn(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}var En=[],In=0,Bn=null,Pn=0,Rn=[],Ln=0,Dn=null,Fn=1,Un="";function qn(e,t){En[In++]=Pn,En[In++]=Bn,Bn=e,Pn=t}function On(e,t,n){Rn[Ln++]=Fn,Rn[Ln++]=Un,Rn[Ln++]=Dn,Dn=e;var r=Fn;e=Un;var a=32-bt(r)-1;r&=~(1<<a),n+=1;var i=32-bt(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Fn=1<<32-bt(t)+a|n<<a|r,Un=i+e}else Fn=1<<i|n<<a|r,Un=e}function zn(e){null!==e.return&&(qn(e,1),On(e,1,0))}function Nn(e){for(;e===Bn;)Bn=En[--In],En[In]=null,Pn=En[--In],En[In]=null;for(;e===Dn;)Dn=Rn[--Ln],Rn[Ln]=null,Un=Rn[--Ln],Rn[Ln]=null,Fn=Rn[--Ln],Rn[Ln]=null}var Gn=null,jn=null,Hn=!1,Vn=!1,Wn=null;function Jn(e,t){var n=Zo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Xn(e,t){switch(e.tag){case 5:return null!==(t=Re(t,e.type,e.pendingProps))&&(e.stateNode=t,Gn=e,jn=ze(t),!0);case 6:return null!==(t=Le(t,e.pendingProps))&&(e.stateNode=t,Gn=e,jn=null,!0);case 13:if(null!==(t=De(t))){var n=null!==Dn?{id:Fn,overflow:Un}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Zo(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Gn=e,jn=null,!0}return!1;default:return!1}}function Kn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Yn(e){if(Hn){var t=jn;if(t){var n=t;if(!Xn(e,t)){if(Kn(e))throw Error(o(418));t=Oe(n);var r=Gn;t&&Xn(e,t)?Jn(r,n):(e.flags=-4097&e.flags|2,Hn=!1,Gn=e)}}else{if(Kn(e))throw Error(o(418));e.flags=-4097&e.flags|2,Hn=!1,Gn=e}}}function Qn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Gn=e}function Zn(e){if(!Y||e!==Gn)return!1;if(!Hn)return Qn(e),Hn=!0,!1;if(3!==e.tag&&(5!==e.tag||Qe(e.type)&&!G(e.type,e.memoizedProps))){var t=jn;if(t){if(Kn(e)){for(e=jn;e;)e=Oe(e);throw Error(o(418))}for(;t;)Jn(e,t),t=Oe(t)}}if(Qn(e),13===e.tag){if(!Y)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));jn=We(e)}else jn=Gn?Oe(e.stateNode):null;return!0}function $n(){Y&&(jn=Gn=null,Vn=Hn=!1)}function er(e){null===Wn?Wn=[e]:Wn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;t===Sn&&(t=a.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ar(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=es(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function h(e,t,n,r){return null===t||6!==t.tag?((t=as(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n,r){var i=n.type;return i===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===x&&rr(i)===t.type)?((r=a(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=ts(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=is(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function p(e,t,n,r,i){return null===t||7!==t.tag?((t=ns(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=as(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(n=ts(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case u:return(t=is(t,e.mode,n)).return=e,t;case x:return m(e,(0,t._init)(t._payload),n)}if(P(t)||S(t))return(t=ns(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function v(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:h(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===a?d(e,t,n,r):null;case u:return n.key===a?f(e,t,n,r):null;case x:return v(e,t,(a=n._init)(n._payload),r)}if(P(n)||S(n))return null!==a?null:p(e,t,n,r,null);nr(e,n)}return null}function g(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return h(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,a);case x:return g(e,t,n,(0,r._init)(r._payload),a)}if(P(r)||S(r))return p(t,e=e.get(n)||null,r,a,null);nr(t,r)}return null}function y(a,o,s,l){for(var u=null,c=null,h=o,d=o=0,f=null;null!==h&&d<s.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var p=v(a,h,s[d],l);if(null===p){null===h&&(h=f);break}e&&h&&null===p.alternate&&t(a,h),o=i(p,o,d),null===c?u=p:c.sibling=p,c=p,h=f}if(d===s.length)return n(a,h),Hn&&qn(a,d),u;if(null===h){for(;d<s.length;d++)null!==(h=m(a,s[d],l))&&(o=i(h,o,d),null===c?u=h:c.sibling=h,c=h);return Hn&&qn(a,d),u}for(h=r(a,h);d<s.length;d++)null!==(f=g(h,a,d,s[d],l))&&(e&&null!==f.alternate&&h.delete(null===f.key?d:f.key),o=i(f,o,d),null===c?u=f:c.sibling=f,c=f);return e&&h.forEach((function(e){return t(a,e)})),Hn&&qn(a,d),u}function b(a,s,l,u){var c=S(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,d=s,f=s=0,p=null,y=l.next();null!==d&&!y.done;f++,y=l.next()){d.index>f?(p=d,d=null):p=d.sibling;var x=v(a,d,y.value,u);if(null===x){null===d&&(d=p);break}e&&d&&null===x.alternate&&t(a,d),s=i(x,s,f),null===h?c=x:h.sibling=x,h=x,d=p}if(y.done)return n(a,d),Hn&&qn(a,f),c;if(null===d){for(;!y.done;f++,y=l.next())null!==(y=m(a,y.value,u))&&(s=i(y,s,f),null===h?c=y:h.sibling=y,h=y);return Hn&&qn(a,f),c}for(d=r(a,d);!y.done;f++,y=l.next())null!==(y=g(d,a,f,y.value,u))&&(e&&null!==y.alternate&&d.delete(null===y.key?f:y.key),s=i(y,s,f),null===h?c=y:h.sibling=y,h=y);return e&&d.forEach((function(e){return t(a,e)})),Hn&&qn(a,f),c}return function e(r,i,o,h){if("object"===typeof o&&null!==o&&o.type===c&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case l:e:{for(var d=o.key,f=i;null!==f;){if(f.key===d){if((d=o.type)===c){if(7===f.tag){n(r,f.sibling),(i=a(f,o.props.children)).return=r,r=i;break e}}else if(f.elementType===d||"object"===typeof d&&null!==d&&d.$$typeof===x&&rr(d)===f.type){n(r,f.sibling),(i=a(f,o.props)).ref=tr(r,f,o),i.return=r,r=i;break e}n(r,f);break}t(r,f),f=f.sibling}o.type===c?((i=ns(o.props.children,r.mode,h,o.key)).return=r,r=i):((h=ts(o.type,o.key,o.props,null,r.mode,h)).ref=tr(r,i,o),h.return=r,r=h)}return s(r);case u:e:{for(f=o.key;null!==i;){if(i.key===f){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=is(o,r.mode,h)).return=r,r=i}return s(r);case x:return e(r,i,(f=o._init)(o._payload),h)}if(P(o))return y(r,i,o,h);if(S(o))return b(r,i,o,h);nr(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=as(o,r.mode,h)).return=r,r=i),s(r)):n(r,i)}}var ir=ar(!0),or=ar(!1),sr={},lr=ot(sr),ur=ot(sr),cr=ot(sr);function hr(e){if(e===sr)throw Error(o(174));return e}function dr(e,t){lt(cr,t),lt(ur,e),lt(lr,sr),e=L(t),st(lr),lt(lr,e)}function fr(){st(lr),st(ur),st(cr)}function pr(e){var t=hr(cr.current),n=hr(lr.current);n!==(t=D(n,e.type,t))&&(lt(ur,e),lt(lr,t))}function mr(e){ur.current===e&&(st(lr),st(ur))}var vr=ot(0);function gr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Fe(n)||Ue(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function xr(){for(var e=0;e<yr.length;e++){var t=yr[e];J?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var br=s.ReactCurrentDispatcher,_r=s.ReactCurrentBatchConfig,Sr=0,wr=null,Mr=null,Ar=null,Cr=!1,kr=!1,Tr=0,Er=0;function Ir(){throw Error(o(321))}function Br(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Pr(e,t,n,r,a,i){if(Sr=i,wr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,br.current=null===e||null===e.memoizedState?pa:ma,e=n(r,a),kr){i=0;do{if(kr=!1,Tr=0,25<=i)throw Error(o(301));i+=1,Ar=Mr=null,t.updateQueue=null,br.current=va,e=n(r,a)}while(kr)}if(br.current=fa,t=null!==Mr&&null!==Mr.next,Sr=0,Ar=Mr=wr=null,Cr=!1,t)throw Error(o(300));return e}function Rr(){var e=0!==Tr;return Tr=0,e}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ar?wr.memoizedState=Ar=e:Ar=Ar.next=e,Ar}function Dr(){if(null===Mr){var e=wr.alternate;e=null!==e?e.memoizedState:null}else e=Mr.next;var t=null===Ar?wr.memoizedState:Ar.next;if(null!==t)Ar=t,Mr=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Mr=e).memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},null===Ar?wr.memoizedState=Ar=e:Ar=Ar.next=e}return Ar}function Fr(e,t){return"function"===typeof t?t(e):t}function Ur(e){var t=Dr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Mr,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=s=null,u=null,c=i;do{var h=c.lane;if((Sr&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,s=r):u=u.next=d,wr.lanes|=h,to|=h}c=c.next}while(null!==c&&c!==i);null===u?s=r:u.next=l,Vt(r,t.memoizedState)||(Fa=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,wr.lanes|=i,to|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qr(e){var t=Dr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);Vt(i,t.memoizedState)||(Fa=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Or(){}function zr(e,t){var n=wr,r=Dr(),a=t(),i=!Vt(r.memoizedState,a);if(i&&(r.memoizedState=a,Fa=!0),r=r.queue,Qr(jr.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==Ar&&1&Ar.memoizedState.tag){if(n.flags|=2048,Wr(9,Gr.bind(null,n,r,a,t),void 0,null),null===Xi)throw Error(o(349));0!==(30&Sr)||Nr(n,t,a)}return a}function Nr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wr.updateQueue)?(t={lastEffect:null,stores:null},wr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Gr(e,t,n,r){t.value=n,t.getSnapshot=r,Hr(t)&&wo(e,1,-1)}function jr(e,t,n){return n((function(){Hr(t)&&wo(e,1,-1)}))}function Hr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch(r){return!0}}function Vr(e){var t=Lr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:e},t.queue=e,e=e.dispatch=la.bind(null,wr,e),[t.memoizedState,e]}function Wr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=wr.updateQueue)?(t={lastEffect:null,stores:null},wr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Jr(){return Dr().memoizedState}function Xr(e,t,n,r){var a=Lr();wr.flags|=e,a.memoizedState=Wr(1|t,n,void 0,void 0===r?null:r)}function Kr(e,t,n,r){var a=Dr();r=void 0===r?null:r;var i=void 0;if(null!==Mr){var o=Mr.memoizedState;if(i=o.destroy,null!==r&&Br(r,o.deps))return void(a.memoizedState=Wr(t,n,i,r))}wr.flags|=e,a.memoizedState=Wr(1|t,n,i,r)}function Yr(e,t){return Xr(8390656,8,e,t)}function Qr(e,t){return Kr(2048,8,e,t)}function Zr(e,t){return Kr(4,2,e,t)}function $r(e,t){return Kr(4,4,e,t)}function ea(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ta(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Kr(4,4,ea.bind(null,t,e),n)}function na(){}function ra(e,t){var n=Dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Br(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function aa(e,t){var n=Dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Br(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ia(e,t){var n=Pt;Pt=0!==n&&4>n?n:4,e(!0);var r=_r.transition;_r.transition={};try{e(!1),t()}finally{Pt=n,_r.transition=r}}function oa(){return Dr().memoizedState}function sa(e,t,n){var r=So(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ua(e)?ca(t,n):(ha(e,t,n),null!==(e=wo(e,r,n=_o()))&&da(e,t,r))}function la(e,t,n){var r=So(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ua(e))ca(t,a);else{ha(e,t,a);var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,Vt(s,o))return}catch(l){}null!==(e=wo(e,r,n=_o()))&&da(e,t,r)}}function ua(e){var t=e.alternate;return e===wr||null!==t&&t===wr}function ca(e,t){kr=Cr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ha(e,t,n){null!==Xi&&0!==(1&e.mode)&&0===(2&Ji)?(null===(e=t.interleaved)?(n.next=n,null===dn?dn=[t]:dn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function da(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Bt(e,n)}}var fa={readContext:hn,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},pa={readContext:hn,useCallback:function(e,t){return Lr().memoizedState=[e,void 0===t?null:t],e},useContext:hn,useEffect:Yr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Xr(4194308,4,ea.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xr(4,2,e,t)},useMemo:function(e,t){var n=Lr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sa.bind(null,wr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Lr().memoizedState=e},useState:Vr,useDebugValue:na,useDeferredValue:function(e){var t=Vr(e),n=t[0],r=t[1];return Yr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){var e=Vr(!1),t=e[0];return e=ia.bind(null,e[1]),Lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=wr,a=Lr();if(Hn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Xi)throw Error(o(349));0!==(30&Sr)||Nr(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Yr(jr.bind(null,r,i,e),[e]),r.flags|=2048,Wr(9,Gr.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Lr(),t=Xi.identifierPrefix;if(Hn){var n=Un;t=":"+t+"R"+(n=(Fn&~(1<<32-bt(Fn)-1)).toString(32)+n),0<(n=Tr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Er++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ma={readContext:hn,useCallback:ra,useContext:hn,useEffect:Qr,useImperativeHandle:ta,useInsertionEffect:Zr,useLayoutEffect:$r,useMemo:aa,useReducer:Ur,useRef:Jr,useState:function(){return Ur(Fr)},useDebugValue:na,useDeferredValue:function(e){var t=Ur(Fr),n=t[0],r=t[1];return Qr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){return[Ur(Fr)[0],Dr().memoizedState]},useMutableSource:Or,useSyncExternalStore:zr,useId:oa,unstable_isNewReconciler:!1},va={readContext:hn,useCallback:ra,useContext:hn,useEffect:Qr,useImperativeHandle:ta,useInsertionEffect:Zr,useLayoutEffect:$r,useMemo:aa,useReducer:qr,useRef:Jr,useState:function(){return qr(Fr)},useDebugValue:na,useDeferredValue:function(e){var t=qr(Fr),n=t[0],r=t[1];return Qr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){return[qr(Fr)[0],Dr().memoizedState]},useMutableSource:Or,useSyncExternalStore:zr,useId:oa,unstable_isNewReconciler:!1};function ga(e,t){try{var n="",r=t;do{n+=$t(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a}}function ya(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var xa,ba,_a,Sa,wa="function"===typeof WeakMap?WeakMap:Map;function Ma(e,t,n){(n=vn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,ho=r),ya(0,t)},n}function Aa(e,t,n){(n=vn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ya(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ya(0,t),"function"!==typeof r&&(null===fo?fo=new Set([this]):fo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ca(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new wa;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Wo.bind(null,e,t,n),t.then(e,e))}function ka(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ta(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=vn(-1,1)).tag=2,gn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}function Ea(e){e.flags|=4}function Ia(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(X)xa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)O(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ba=function(){},_a=function(e,t,n,r,a){if((e=e.memoizedProps)!==r){var i=t.stateNode,o=hr(lr.current);n=N(i,n,e,r,a,o),(t.updateQueue=n)&&Ea(t)}},Sa=function(e,t,n,r){n!==r&&Ea(t)};else if(K){xa=function(e,t,n,r){for(var a=t.child;null!==a;){if(5===a.tag){var i=a.stateNode;n&&r&&(i=Be(i,a.type,a.memoizedProps,a)),O(e,i)}else if(6===a.tag)i=a.stateNode,n&&r&&(i=Pe(i,a.memoizedProps,a)),O(e,i);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(i=a.child)&&(i.return=a),xa(e,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};var Ba=function e(t,n,r,a){for(var i=n.child;null!==i;){if(5===i.tag){var o=i.stateNode;r&&a&&(o=Be(o,i.type,i.memoizedProps,i)),Te(t,o)}else if(6===i.tag)o=i.stateNode,r&&a&&(o=Pe(o,i.memoizedProps,i)),Te(t,o);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(o=i.child)&&(o.return=i),e(t,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===n)break;for(;null===i.sibling;){if(null===i.return||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};ba=function(e,t){var n=t.stateNode;if(!Ia(e,t)){e=n.containerInfo;var r=ke(e);Ba(r,t,!1,!1),n.pendingChildren=r,Ea(t),Ee(e,r)}},_a=function(e,t,n,r,a){var i=e.stateNode,o=e.memoizedProps;if((e=Ia(e,t))&&o===r)t.stateNode=i;else{var s=t.stateNode,l=hr(lr.current),u=null;o!==r&&(u=N(s,n,o,r,a,l)),e&&null===u?t.stateNode=i:(i=Ce(i,u,n,o,r,t,e,s),z(i,n,r,a,l)&&Ea(t),t.stateNode=i,e?Ea(t):xa(i,t,!1,!1))}},Sa=function(e,t,n,r){n!==r?(e=hr(cr.current),n=hr(lr.current),t.stateNode=j(r,e,n,t),Ea(t)):t.stateNode=e.stateNode}}else ba=function(){},_a=function(){},Sa=function(){};function Pa(e,t){if(!Hn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ra(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function La(e,t,n){var r=t.pendingProps;switch(Nn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ra(t),null;case 1:case 17:return pt(t.type)&&mt(),Ra(t),null;case 3:return r=t.stateNode,fr(),st(ht),st(ct),xr(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Zn(t)?Ea(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Wn&&(To(Wn),Wn=null))),ba(e,t),Ra(t),null;case 5:mr(t),n=hr(cr.current);var a=t.type;if(null!==e&&null!=t.stateNode)_a(e,t,a,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ra(t),null}if(e=hr(lr.current),Zn(t)){if(!Y)throw Error(o(175));e=je(t.stateNode,t.type,t.memoizedProps,n,e,t,!Vn),t.updateQueue=e,null!==e&&Ea(t)}else{var i=q(a,r,n,e,t);xa(i,t,!1,!1),t.stateNode=i,z(i,a,r,n,e)&&Ea(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ra(t),null;case 6:if(e&&null!=t.stateNode)Sa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=hr(cr.current),n=hr(lr.current),Zn(t)){if(!Y)throw Error(o(176));if(e=t.stateNode,r=t.memoizedProps,(n=He(e,r,t,!Vn))&&null!==(a=Gn))switch(i=0!==(1&a.mode),a.tag){case 3:Ze(a.stateNode.containerInfo,e,r,i);break;case 5:$e(a.type,a.memoizedProps,a.stateNode,e,r,i)}n&&Ea(t)}else t.stateNode=j(r,e,n,t)}return Ra(t),null;case 13:if(st(vr),r=t.memoizedState,Hn&&null!==jn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=jn;e;)e=Oe(e);return $n(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Zn(t),null===e){if(!r)throw Error(o(318));if(!Y)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));Ve(e,t)}else $n(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ra(t),null}return null!==Wn&&(To(Wn),Wn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Zn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&vr.current)?0===$i&&($i=3):Fo())),null!==t.updateQueue&&(t.flags|=4),Ra(t),null);case 4:return fr(),ba(e,t),null===e&&Z(t.stateNode.containerInfo),Ra(t),null;case 10:return ln(t.type._context),Ra(t),null;case 19:if(st(vr),null===(a=t.memoizedState))return Ra(t),null;if(r=0!==(128&t.flags),null===(i=a.rendering))if(r)Pa(a,!1);else{if(0!==$i||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=gr(e))){for(t.flags|=128,Pa(a,!1),null!==(e=i.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)a=e,(n=r).flags&=14680066,null===(i=n.alternate)?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=i.childLanes,n.lanes=i.lanes,n.child=i.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=i.memoizedProps,n.memoizedState=i.memoizedState,n.updateQueue=i.updateQueue,n.type=i.type,a=i.dependencies,n.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),r=r.sibling;return lt(vr,1&vr.current|2),t.child}e=e.sibling}null!==a.tail&&qt()>so&&(t.flags|=128,r=!0,Pa(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=gr(i))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Pa(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!Hn)return Ra(t),null}else 2*qt()-a.renderingStartTime>so&&1073741824!==n&&(t.flags|=128,r=!0,Pa(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=qt(),t.sibling=null,e=vr.current,lt(vr,r?1&e|2:1&e),t):(Ra(t),null);case 22:case 23:return Po(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Qi)&&(Ra(t),X&&6&t.subtreeFlags&&(t.flags|=8192)):Ra(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var Da=s.ReactCurrentOwner,Fa=!1;function Ua(e,t,n,r){t.child=null===e?or(t,null,n,r):ir(t,e.child,n,r)}function qa(e,t,n,r,a){n=n.render;var i=t.ref;return cn(t,a),r=Pr(e,t,n,r,i,a),n=Rr(),null===e||Fa?(Hn&&n&&zn(t),t.flags|=1,Ua(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ai(e,t,a))}function Oa(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||$o(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ts(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,za(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:Zt)(o,r)&&e.ref===t.ref)return ai(e,t,a)}return t.flags|=1,(e=es(i,r)).ref=t.ref,e.return=t,t.child=e}function za(e,t,n,r,a){if(null!==e&&Zt(e.memoizedProps,r)&&e.ref===t.ref){if(Fa=!1,0===(e.lanes&a))return t.lanes=e.lanes,ai(e,t,a);0!==(131072&e.flags)&&(Fa=!0)}return ja(e,t,n,r,a)}function Na(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},lt(Zi,Qi),Qi|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,lt(Zi,Qi),Qi|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==i?i.baseLanes:n,lt(Zi,Qi),Qi|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,lt(Zi,Qi),Qi|=r;return Ua(e,t,a,n),t.child}function Ga(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ja(e,t,n,r,a){var i=pt(n)?dt:ct.current;return i=ft(t,i),cn(t,a),n=Pr(e,t,n,r,i,a),r=Rr(),null===e||Fa?(Hn&&r&&zn(t),t.flags|=1,Ua(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ai(e,t,a))}function Ha(e,t,n,r,a){if(pt(n)){var i=!0;yt(t)}else i=!1;if(cn(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Cn(t,n,r),Tn(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=hn(u):u=ft(t,u=pt(n)?dt:ct.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&kn(t,o,r,u),fn=!1;var d=t.memoizedState;o.state=d,bn(t,r,o,a),l=t.memoizedState,s!==r||d!==l||ht.current||fn?("function"===typeof c&&(wn(t,n,c,r),l=t.memoizedState),(s=fn||An(t,n,s,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,mn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:en(t.type,s),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=hn(l):l=ft(t,l=pt(n)?dt:ct.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||d!==l)&&kn(t,o,r,l),fn=!1,d=t.memoizedState,o.state=d,bn(t,r,o,a);var p=t.memoizedState;s!==h||d!==p||ht.current||fn?("function"===typeof f&&(wn(t,n,f,r),p=t.memoizedState),(u=fn||An(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Va(e,t,n,r,i,a)}function Va(e,t,n,r,a,i){Ga(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&xt(t,n,!1),ai(e,t,i);r=t.stateNode,Da.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ir(t,e.child,null,i),t.child=ir(t,null,s,i)):Ua(e,t,s,i),t.memoizedState=r.state,a&&xt(t,n,!0),t.child}function Wa(e){var t=e.stateNode;t.pendingContext?vt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vt(0,t.context,!1),dr(e,t.containerInfo)}function Ja(e,t,n,r,a){return $n(),er(a),t.flags|=256,Ua(e,t,n,r),t.child}var Xa={dehydrated:null,treeContext:null,retryLane:0};function Ka(e){return{baseLanes:e,cachePool:null}}function Ya(e,t,n){var r,a=t.pendingProps,i=vr.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),lt(vr,1&i),null===e)return Yn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Ue(e)?t.lanes=8:t.lanes=1073741824,null):(i=a.children,e=a.fallback,s?(a=t.mode,s=t.child,i={mode:"hidden",children:i},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=i):s=rs(i,a,0,null),e=ns(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ka(n),t.memoizedState=Xa,e):Qa(t,i));if(null!==(i=e.memoizedState)){if(null!==(r=i.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,ei(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=a.fallback,i=t.mode,a=rs({mode:"visible",children:a.children},i,0,null),(s=ns(s,i,n,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,0!==(1&t.mode)&&ir(t,e.child,null,n),t.child.memoizedState=Ka(n),t.memoizedState=Xa,s);if(0===(1&t.mode))t=ei(e,t,n,null);else if(Ue(r))t=ei(e,t,n,Error(o(419)));else if(a=0!==(n&e.childLanes),Fa||a){if(null!==(a=Xi)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(a=0!==(s&(a.suspendedLanes|n))?0:s)&&a!==i.retryLane&&(i.retryLane=a,wo(e,a,-1))}Fo(),t=ei(e,t,n,Error(o(421)))}else Fe(r)?(t.flags|=128,t.child=e.child,t=Xo.bind(null,e),qe(r,t),t=null):(n=i.treeContext,Y&&(jn=Ge(r),Gn=t,Hn=!0,Wn=null,Vn=!1,null!==n&&(Rn[Ln++]=Fn,Rn[Ln++]=Un,Rn[Ln++]=Dn,Fn=n.id,Un=n.overflow,Dn=t)),(t=Qa(t,t.pendingProps.children)).flags|=4096);return t}return s?(a=$a(e,t,a.children,a.fallback,n),s=t.child,i=e.child.memoizedState,s.memoizedState=null===i?Ka(n):{baseLanes:i.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xa,a):(n=Za(e,t,a.children,n),t.memoizedState=null,n)}return s?(a=$a(e,t,a.children,a.fallback,n),s=t.child,i=e.child.memoizedState,s.memoizedState=null===i?Ka(n):{baseLanes:i.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xa,a):(n=Za(e,t,a.children,n),t.memoizedState=null,n)}function Qa(e,t){return(t=rs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Za(e,t,n,r){var a=e.child;return e=a.sibling,n=es(a,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function $a(e,t,n,r,a){var i=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&i)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=es(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=es(o,r):(r=ns(r,i,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ei(e,t,n,r){return null!==r&&er(r),ir(t,e.child,null,n),(e=Qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ti(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),un(e.return,t,n)}function ni(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function ri(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Ua(e,t,r.children,n),0!==(2&(r=vr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ti(e,n,t);else if(19===e.tag)ti(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(vr,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===gr(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ni(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===gr(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ni(t,!0,n,null,i);break;case"together":ni(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ai(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),to|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=es(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=es(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ii(e,t){switch(Nn(t),t.tag){case 1:return pt(t.type)&&mt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return fr(),st(ht),st(ct),xr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return mr(t),null;case 13:if(st(vr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));$n()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(vr),null;case 4:return fr(),null;case 10:return ln(t.type._context),null;case 22:case 23:return Po(),null;default:return null}}var oi=!1,si=!1,li="function"===typeof WeakSet?WeakSet:Set,ui=null;function ci(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Vo(e,t,r)}else n.current=null}function hi(e,t,n){try{n()}catch(r){Vo(e,t,r)}}var di=!1;function fi(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&hi(t,n,i)}a=a.next}while(a!==r)}}function pi(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function mi(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=R(n);else e=n;"function"===typeof t?t(e):t.current=e}}function vi(e,t,n){if(Ht&&"function"===typeof Ht.onCommitFiberUnmount)try{Ht.onCommitFiberUnmount(jt,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var a=r,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&hi(t,n,i),r=r.next}while(r!==e)}break;case 1:if(ci(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Vo(t,n,o)}break;case 5:ci(t,n);break;case 4:X?Mi(e,t,n):K&&K&&(t=t.stateNode.containerInfo,n=ke(t),Ie(t,n))}}function gi(e,t,n){for(var r=t;;)if(vi(e,r,n),null===r.child||X&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function yi(e){var t=e.alternate;null!==t&&(e.alternate=null,yi(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xi(e){return 5===e.tag||3===e.tag||4===e.tag}function bi(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||xi(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function _i(e){if(X){e:{for(var t=e.return;null!==t;){if(xi(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(be(t),n.flags&=-33),wi(e,n=bi(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,Si(e,n=bi(e),t);break;default:throw Error(o(161))}}}function Si(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(Si(e,t,n),e=e.sibling;null!==e;)Si(e,t,n),e=e.sibling}function wi(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ve(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(wi(e,t,n),e=e.sibling;null!==e;)wi(e,t,n),e=e.sibling}function Mi(e,t,n){for(var r,a,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:a=!1;break e;case 3:case 4:r=r.containerInfo,a=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag)gi(e,i,n),a?xe(r,i.stateNode):ye(r,i.stateNode);else if(18===i.tag)a?Ye(r,i.stateNode):Ke(r,i.stateNode);else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,a=!0,i.child.return=i,i=i.child;continue}}else if(vi(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function Ai(e,t){if(X){switch(t.tag){case 0:case 11:case 14:case 15:return fi(3,t,t.return),pi(3,t),void fi(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var a=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&me(n,i,a,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void fe(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Y&&null!==e&&e.memoizedState.isDehydrated&&Je(t.stateNode.containerInfo));case 13:case 19:return void Ci(t)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:return fi(3,t,t.return),pi(3,t),void fi(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Ci(t);case 3:Y&&null!==e&&e.memoizedState.isDehydrated&&Je(t.stateNode.containerInfo)}e:if(K){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Ie(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Ci(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new li),t.forEach((function(t){var r=Ko.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ki(e,t,n){ui=e,Ti(e,t,n)}function Ti(e,t,n){for(var r=0!==(1&e.mode);null!==ui;){var a=ui,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||oi;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||si;s=oi;var u=si;if(oi=o,(si=l)&&!u)for(ui=a;null!==ui;)l=(o=ui).child,22===o.tag&&null!==o.memoizedState?Bi(a):null!==l?(l.return=o,ui=l):Bi(a);for(;null!==i;)ui=i,Ti(i,t,n),i=i.sibling;ui=a,oi=s,si=u}Ei(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,ui=i):Ei(e)}}function Ei(e){for(;null!==ui;){var t=ui;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:si||pi(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!si)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&_n(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=R(t.child.stateNode);break;case 1:n=t.child.stateNode}_n(t,s,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&pe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Y&&null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var h=c.dehydrated;null!==h&&Xe(h)}}}break;default:throw Error(o(163))}si||512&t.flags&&mi(t)}catch(d){Vo(t,t.return,d)}}if(t===e){ui=null;break}if(null!==(n=t.sibling)){n.return=t.return,ui=n;break}ui=t.return}}function Ii(e){for(;null!==ui;){var t=ui;if(t===e){ui=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ui=n;break}ui=t.return}}function Bi(e){for(;null!==ui;){var t=ui;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pi(4,t)}catch(l){Vo(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Vo(t,a,l)}}var i=t.return;try{mi(t)}catch(l){Vo(t,i,l)}break;case 5:var o=t.return;try{mi(t)}catch(l){Vo(t,o,l)}}}catch(l){Vo(t,t.return,l)}if(t===e){ui=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ui=s;break}ui=t.return}}var Pi=0,Ri=1,Li=2,Di=3,Fi=4;if("function"===typeof Symbol&&Symbol.for){var Ui=Symbol.for;Pi=Ui("selector.component"),Ri=Ui("selector.has_pseudo_class"),Li=Ui("selector.role"),Di=Ui("selector.test_id"),Fi=Ui("selector.text")}function qi(e){var t=Q(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ae(e)))throw Error(o(362));return e.stateNode.current}function Oi(e,t){switch(t.$$typeof){case Pi:if(e.type===t.value)return!0;break;case Ri:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],a=e[n++],i=t[a];if(5!==r.tag||!se(r)){for(;null!=i&&Oi(r,i);)i=t[++a];if(a===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,a),r=r.sibling}}t=!1}return t;case Li:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Fi:if((5===e.tag||6===e.tag)&&(null!==(e=oe(e))&&0<=e.indexOf(t.value)))return!0;break;case Di:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function zi(e){switch(e.$$typeof){case Pi:return"<"+(w(e.value)||"Unknown")+">";case Ri:return":has("+(zi(e)||"")+")";case Li:return'[role="'+e.value+'"]';case Fi:return'"'+e.value+'"';case Di:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function Ni(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var a=e[r++],i=e[r++],o=t[i];if(5!==a.tag||!se(a)){for(;null!=o&&Oi(a,o);)o=t[++i];if(i===t.length)n.push(a);else for(a=a.child;null!==a;)e.push(a,i),a=a.sibling}}return n}function Gi(e,t){if(!re)throw Error(o(363));e=Ni(e=qi(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var ji=Math.ceil,Hi=s.ReactCurrentDispatcher,Vi=s.ReactCurrentOwner,Wi=s.ReactCurrentBatchConfig,Ji=0,Xi=null,Ki=null,Yi=0,Qi=0,Zi=ot(0),$i=0,eo=null,to=0,no=0,ro=0,ao=null,io=null,oo=0,so=1/0;function lo(){so=qt()+500}var uo,co=!1,ho=null,fo=null,po=!1,mo=null,vo=0,go=0,yo=null,xo=-1,bo=0;function _o(){return 0!==(6&Ji)?qt():-1!==xo?xo:xo=qt()}function So(e){return 0===(1&e.mode)?1:0!==(2&Ji)&&0!==Yi?Yi&-Yi:null!==Qt.transition?(0===bo&&(e=wt,0===(4194240&(wt<<=1))&&(wt=64),bo=e),bo):0!==(e=Pt)?e:$()}function wo(e,t,n){if(50<go)throw go=0,yo=null,Error(o(185));var r=Mo(e,t);return null===r?null:(It(r,t,n),0!==(2&Ji)&&r===Xi||(r===Xi&&(0===(2&Ji)&&(no|=t),4===$i&&Eo(r,Yi)),Ao(r,n),1===t&&0===Ji&&0===(1&e.mode)&&(lo(),Jt&&Yt())),r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ao(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-bt(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=kt(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=Ct(e,e===Xi?Yi:0);if(0===r)null!==n&&Dt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Dt(n),1===t)0===e.tag?function(e){Jt=!0,Kt(e)}(Io.bind(null,e)):Kt(Io.bind(null,e)),te?ne((function(){0===Ji&&Yt()})):Lt(Ot,Yt),n=null;else{switch(Rt(r)){case 1:n=Ot;break;case 4:n=zt;break;case 16:default:n=Nt;break;case 536870912:n=Gt}n=Yo(n,Co.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Co(e,t){if(xo=-1,bo=0,0!==(6&Ji))throw Error(o(327));var n=e.callbackNode;if(jo()&&e.callbackNode!==n)return null;var r=Ct(e,e===Xi?Yi:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Uo(e,r);else{t=r;var a=Ji;Ji|=2;var i=Do();for(Xi===e&&Yi===t||(lo(),Ro(e,t));;)try{Oo();break}catch(l){Lo(e,l)}on(),Hi.current=i,Ji=a,null!==Ki?t=0:(Xi=null,Yi=0,t=$i)}if(0!==t){if(2===t&&(0!==(a=Tt(e))&&(r=a,t=ko(e,a))),1===t)throw n=eo,Ro(e,0),Eo(e,r),Ao(e,qt()),n;if(6===t)Eo(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Vt(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=Uo(e,r))&&(0!==(i=Tt(e))&&(r=i,t=ko(e,i))),1===t))throw n=eo,Ro(e,0),Eo(e,r),Ao(e,qt()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Go(e,io);break;case 3:if(Eo(e,r),(130023424&r)===r&&10<(t=oo+500-qt())){if(0!==Ct(e,0))break;if(((a=e.suspendedLanes)&r)!==r){_o(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=H(Go.bind(null,e,io),t);break}Go(e,io);break;case 4:if(Eo(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-bt(r);i=1<<s,(s=t[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=qt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ji(r/1960))-r)){e.timeoutHandle=H(Go.bind(null,e,io),r);break}Go(e,io);break;default:throw Error(o(329))}}}return Ao(e,qt()),e.callbackNode===n?Co.bind(null,e):null}function ko(e,t){var n=ao;return e.current.memoizedState.isDehydrated&&(Ro(e,t).flags|=256),2!==(e=Uo(e,t))&&(t=io,io=n,null!==t&&To(t)),e}function To(e){null===io?io=e:io.push.apply(io,e)}function Eo(e,t){for(t&=~ro,t&=~no,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),r=1<<n;e[n]=-1,t&=~r}}function Io(e){if(0!==(6&Ji))throw Error(o(327));jo();var t=Ct(e,0);if(0===(1&t))return Ao(e,qt()),null;var n=Uo(e,t);if(0!==e.tag&&2===n){var r=Tt(e);0!==r&&(t=r,n=ko(e,r))}if(1===n)throw n=eo,Ro(e,0),Eo(e,t),Ao(e,qt()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Go(e,io),Ao(e,qt()),null}function Bo(e){null!==mo&&0===mo.tag&&0===(6&Ji)&&jo();var t=Ji;Ji|=1;var n=Wi.transition,r=Pt;try{if(Wi.transition=null,Pt=1,e)return e()}finally{Pt=r,Wi.transition=n,0===(6&(Ji=t))&&Yt()}}function Po(){Qi=Zi.current,st(Zi)}function Ro(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==W&&(e.timeoutHandle=W,V(n)),null!==Ki)for(n=Ki.return;null!==n;){var r=n;switch(Nn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mt();break;case 3:fr(),st(ht),st(ct),xr();break;case 5:mr(r);break;case 4:fr();break;case 13:case 19:st(vr);break;case 10:ln(r.type._context);break;case 22:case 23:Po()}n=n.return}if(Xi=e,Ki=e=es(e.current,null),Yi=Qi=t,$i=0,eo=null,ro=no=to=0,io=ao=null,null!==dn){for(t=0;t<dn.length;t++)if(null!==(r=(n=dn[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}dn=null}return e}function Lo(e,t){for(;;){var n=Ki;try{if(on(),br.current=fa,Cr){for(var r=wr.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}Cr=!1}if(Sr=0,Ar=Mr=wr=null,kr=!1,Tr=0,Vi.current=null,null===n||null===n.return){$i=1,eo=t,Ki=null;break}e:{var i=e,s=n.return,l=n,u=t;if(t=Yi,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ka(s);if(null!==p){p.flags&=-257,Ta(p,s,l,0,t),1&p.mode&&Ca(i,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(u),t.updateQueue=v}else m.add(u);break e}if(0===(1&t)){Ca(i,c,t),Fo();break e}u=Error(o(426))}else if(Hn&&1&l.mode){var g=ka(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),Ta(g,s,l,0,t),er(u);break e}}i=u,4!==$i&&($i=2),null===ao?ao=[i]:ao.push(i),u=ga(u,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,xn(l,Ma(0,u,t));break e;case 1:i=u;var y=l.type,x=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===fo||!fo.has(x)))){l.flags|=65536,t&=-t,l.lanes|=t,xn(l,Aa(l,i,t));break e}}l=l.return}while(null!==l)}No(n)}catch(b){t=b,Ki===n&&null!==n&&(Ki=n=n.return);continue}break}}function Do(){var e=Hi.current;return Hi.current=fa,null===e?fa:e}function Fo(){0!==$i&&3!==$i&&2!==$i||($i=4),null===Xi||0===(268435455&to)&&0===(268435455&no)||Eo(Xi,Yi)}function Uo(e,t){var n=Ji;Ji|=2;var r=Do();for(Xi===e&&Yi===t||Ro(e,t);;)try{qo();break}catch(a){Lo(e,a)}if(on(),Ji=n,Hi.current=r,null!==Ki)throw Error(o(261));return Xi=null,Yi=0,$i}function qo(){for(;null!==Ki;)zo(Ki)}function Oo(){for(;null!==Ki&&!Ft();)zo(Ki)}function zo(e){var t=uo(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,null===t?No(e):Ki=t,Vi.current=null}function No(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=La(n,t,Qi)))return void(Ki=n)}else{if(null!==(n=ii(n,t)))return n.flags&=32767,void(Ki=n);if(null===e)return $i=6,void(Ki=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ki=t);Ki=t=e}while(null!==t);0===$i&&($i=5)}function Go(e,t){var n=Pt,r=Wi.transition;try{Wi.transition=null,Pt=1,function(e,t,n){do{jo()}while(null!==mo);if(0!==(6&Ji))throw Error(o(327));var r=e.finishedWork,a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-bt(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,i),e===Xi&&(Ki=Xi=null,Yi=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||po||(po=!0,Yo(Nt,(function(){return jo(),null}))),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=Wi.transition,Wi.transition=null;var s=Pt;Pt=1;var l=Ji;Ji|=4,Vi.current=null,function(e,t){for(F(e.containerInfo),ui=t;null!==ui;)if(t=(e=ui).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,ui=t;else for(;null!==ui;){e=ui;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,a=n.memoizedState,i=e.stateNode,s=i.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),a);i.__reactInternalSnapshotBeforeUpdate=s}break;case 3:X&&Ae(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(l){Vo(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,ui=t;break}ui=e.return}n=di,di=!1}(e,r),function(e,t){for(ui=t;null!==ui;){var n=(t=ui).deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e;X?Mi(i,a,t):gi(i,a,t);var o=a.alternate;null!==o&&(o.return=null),a.return=null}catch(_){Vo(a,t,_)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,ui=n;else for(;null!==ui;){t=ui;try{var s=t.flags;if(32&s&&X&&be(t.stateNode),512&s){var l=t.alternate;if(null!==l){var u=l.ref;null!==u&&("function"===typeof u?u(null):u.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(oo=qt())}break;case 22:var h=null!==t.memoizedState,d=t.alternate,f=null!==d&&null!==d.memoizedState;if(n=t,X)e:if(r=n,a=h,i=null,X)for(var p=r;;){if(5===p.tag){if(null===i){i=p;var m=p.stateNode;a?_e(m):we(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===i){var v=p.stateNode;a?Se(v):Me(v,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;i===p&&(i=null),p=p.return}i===p&&(i=null),p.sibling.return=p.return,p=p.sibling}if(h&&!f&&0!==(1&n.mode)){ui=n;for(var g=n.child;null!==g;){for(n=ui=g;null!==ui;){var y=(r=ui).child;switch(r.tag){case 0:case 11:case 14:case 15:fi(4,r,r.return);break;case 1:ci(r,r.return);var x=r.stateNode;if("function"===typeof x.componentWillUnmount){var b=r.return;try{x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(_){Vo(r,b,_)}}break;case 5:ci(r,r.return);break;case 22:if(null!==r.memoizedState){Ii(n);continue}}null!==y?(y.return=r,ui=y):Ii(n)}g=g.sibling}}}switch(4102&s){case 2:_i(t),t.flags&=-3;break;case 6:_i(t),t.flags&=-3,Ai(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ai(t.alternate,t);break;case 4:Ai(t.alternate,t)}}catch(_){Vo(t,t.return,_)}if(null!==(n=t.sibling)){n.return=t.return,ui=n;break}ui=t.return}}}(e,r),U(e.containerInfo),e.current=r,ki(r,e,a),Ut(),Ji=l,Pt=s,Wi.transition=i}else e.current=r;if(po&&(po=!1,mo=e,vo=a),0===(i=e.pendingLanes)&&(fo=null),function(e){if(Ht&&"function"===typeof Ht.onCommitFiberRoot)try{Ht.onCommitFiberRoot(jt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Ao(e,qt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(co)throw co=!1,e=ho,ho=null,e;0!==(1&vo)&&0!==e.tag&&jo(),0!==(1&(i=e.pendingLanes))?e===yo?go++:(go=0,yo=e):go=0,Yt()}(e,t,n)}finally{Wi.transition=r,Pt=n}return null}function jo(){if(null!==mo){var e=Rt(vo),t=Wi.transition,n=Pt;try{if(Wi.transition=null,Pt=16>e?16:e,null===mo)var r=!1;else{if(e=mo,mo=null,vo=0,0!==(6&Ji))throw Error(o(331));var a=Ji;for(Ji|=4,ui=e.current;null!==ui;){var i=ui,s=i.child;if(0!==(16&ui.flags)){var l=i.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(ui=c;null!==ui;){var h=ui;switch(h.tag){case 0:case 11:case 15:fi(8,h,i)}var d=h.child;if(null!==d)d.return=h,ui=d;else for(;null!==ui;){var f=(h=ui).sibling,p=h.return;if(yi(h),h===c){ui=null;break}if(null!==f){f.return=p,ui=f;break}ui=p}}}var m=i.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}ui=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,ui=s;else e:for(;null!==ui;){if(0!==(2048&(i=ui).flags))switch(i.tag){case 0:case 11:case 15:fi(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,ui=y;break e}ui=i.return}}var x=e.current;for(ui=x;null!==ui;){var b=(s=ui).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,ui=b;else e:for(s=x;null!==ui;){if(0!==(2048&(l=ui).flags))try{switch(l.tag){case 0:case 11:case 15:pi(9,l)}}catch(S){Vo(l,l.return,S)}if(l===s){ui=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,ui=_;break e}ui=l.return}}if(Ji=a,Yt(),Ht&&"function"===typeof Ht.onPostCommitFiberRoot)try{Ht.onPostCommitFiberRoot(jt,e)}catch(S){}r=!0}return r}finally{Pt=n,Wi.transition=t}}return!1}function Ho(e,t,n){gn(e,t=Ma(0,t=ga(n,t),1)),t=_o(),null!==(e=Mo(e,1))&&(It(e,1,t),Ao(e,t))}function Vo(e,t,n){if(3===e.tag)Ho(e,e,n);else for(;null!==t;){if(3===t.tag){Ho(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===fo||!fo.has(r))){gn(t,e=Aa(t,e=ga(n,e),1)),e=_o(),null!==(t=Mo(t,1))&&(It(t,1,e),Ao(t,e));break}}t=t.return}}function Wo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=_o(),e.pingedLanes|=e.suspendedLanes&n,Xi===e&&(Yi&n)===n&&(4===$i||3===$i&&(130023424&Yi)===Yi&&500>qt()-oo?Ro(e,0):ro|=n),Ao(e,t)}function Jo(e,t){0===t&&(0===(1&e.mode)?t=1:(t=Mt,0===(130023424&(Mt<<=1))&&(Mt=4194304)));var n=_o();null!==(e=Mo(e,t))&&(It(e,t,n),Ao(e,n))}function Xo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Jo(e,n)}function Ko(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Jo(e,n)}function Yo(e,t){return Lt(e,t)}function Qo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zo(e,t,n,r){return new Qo(e,t,n,r)}function $o(e){return!(!(e=e.prototype)||!e.isReactComponent)}function es(e,t){var n=e.alternate;return null===n?((n=Zo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)$o(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case c:return ns(n.children,a,i,t);case h:s=8,a|=8;break;case d:return(e=Zo(12,n,t,2|a)).elementType=d,e.lanes=i,e;case v:return(e=Zo(13,n,t,a)).elementType=v,e.lanes=i,e;case g:return(e=Zo(19,n,t,a)).elementType=g,e.lanes=i,e;case b:return rs(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case f:s=10;break e;case p:s=9;break e;case m:s=11;break e;case y:s=14;break e;case x:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Zo(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function ns(e,t,n,r){return(e=Zo(7,e,r,t)).lanes=n,e}function rs(e,t,n,r){return(e=Zo(22,e,r,t)).elementType=b,e.lanes=n,e.stateNode={},e}function as(e,t,n){return(e=Zo(6,e,null,t)).lanes=n,e}function is(e,t,n){return(t=Zo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function os(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=W,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Et(0),this.expirationTimes=Et(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Et(0),this.identifierPrefix=r,this.onRecoverableError=a,Y&&(this.mutableSourceEagerHydrationData=null)}function ss(e,t,n,r,a,i,o,s,l){return e=new os(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Zo(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(i),e}function ls(e){if(!e)return ut;e:{if(A(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(pt(n))return gt(e,n,t)}return t}function us(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=T(t))?null:e.stateNode}function cs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function hs(e,t){cs(e,t),(e=e.alternate)&&cs(e,t)}function ds(e){return null===(e=T(e))?null:e.stateNode}function fs(){return null}return uo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ht.current)Fa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Fa=!1,function(e,t,n){switch(t.tag){case 3:Wa(t),$n();break;case 5:pr(t);break;case 1:pt(t.type)&&yt(t);break;case 4:dr(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(vr,1&vr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ya(e,t,n):(lt(vr,1&vr.current),null!==(e=ai(e,t,n))?e.sibling:null);lt(vr,1&vr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ri(e,t,n);t.flags|=128}var a=t.memoizedState;if(null!==a&&(a.rendering=null,a.tail=null,a.lastEffect=null),lt(vr,vr.current),r)break;return null;case 22:case 23:return t.lanes=0,Na(e,t,n)}return ai(e,t,n)}(e,t,n);Fa=0!==(131072&e.flags)}else Fa=!1,Hn&&0!==(1048576&t.flags)&&On(t,Pn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var a=ft(t,ct.current);cn(t,n),a=Pr(null,t,r,e,a,n);var i=Rr();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(i=!0,yt(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,pn(t),a.updater=Mn,t.stateNode=a,a._reactInternals=t,Tn(t,r,e,n),t=Va(null,t,r,!0,i,n)):(t.tag=0,Hn&&i&&zn(t),Ua(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return $o(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===m)return 11;if(e===y)return 14}return 2}(r),e=en(r,e),a){case 0:t=ja(null,t,r,e,n);break e;case 1:t=Ha(null,t,r,e,n);break e;case 11:t=qa(null,t,r,e,n);break e;case 14:t=Oa(null,t,r,en(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,ja(e,t,r,a=t.elementType===r?a:en(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ha(e,t,r,a=t.elementType===r?a:en(r,a),n);case 3:e:{if(Wa(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,mn(e,t),bn(t,r,null,n);var s=t.memoizedState;if(r=s.element,Y&&i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ja(e,t,r,n,a=Error(o(423)));break e}if(r!==a){t=Ja(e,t,r,n,a=Error(o(424)));break e}for(Y&&(jn=Ne(t.stateNode.containerInfo),Gn=t,Hn=!0,Wn=null,Vn=!1),n=or(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if($n(),r===a){t=ai(e,t,n);break e}Ua(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&Yn(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,G(r,a)?s=null:null!==i&&G(r,i)&&(t.flags|=32),Ga(e,t),Ua(e,t,s,n),t.child;case 6:return null===e&&Yn(t),null;case 13:return Ya(e,t,n);case 4:return dr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ir(t,null,r,n):Ua(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,qa(e,t,r,a=t.elementType===r?a:en(r,a),n);case 7:return Ua(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ua(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,sn(0,r,s=a.value),null!==i)if(Vt(i.value,s)){if(i.children===a.children&&!ht.current){t=ai(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=vn(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),un(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),un(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}Ua(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,cn(t,n),r=r(a=hn(a)),t.flags|=1,Ua(e,t,r,n),t.child;case 14:return a=en(r=t.type,t.pendingProps),Oa(e,t,r,a=en(r.type,a),n);case 15:return za(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:en(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,yt(t)):e=!1,cn(t,n),Cn(t,r,a),Tn(t,r,a,n),Va(null,t,r,!0,e,n);case 19:return ri(e,t,n);case 22:return Na(e,t,n)}throw Error(o(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(wo(e,134217728,_o()),hs(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=_o(),n=So(e);wo(e,n,t),hs(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=At(t.pendingLanes);0!==n&&(Bt(t,1|n),Ao(t,qt()),0===(6&Ji)&&(lo(),Yt()))}break;case 13:var r=_o();Bo((function(){return wo(e,1,r)})),hs(e,1)}},t.batchedUpdates=function(e,t){var n=Ji;Ji|=1;try{return e(t)}finally{0===(Ji=n)&&(lo(),Jt&&Yt())}},t.createComponentSelector=function(e){return{$$typeof:Pi,value:e}},t.createContainer=function(e,t,n,r,a,i,o){return ss(e,t,!1,null,0,r,0,i,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Ri,value:e}},t.createHydrationContainer=function(e,t,n,r,a,i,o,s,l){return(e=ss(n,r,!0,e,0,i,0,s,l)).context=ls(null),n=e.current,(i=vn(r=_o(),a=So(n))).callback=void 0!==t&&null!==t?t:null,gn(n,i),e.current.lanes=a,It(e,a,r),Ao(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:u,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Li,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Di,value:e}},t.createTextSelector=function(e){return{$$typeof:Fi,value:e}},t.deferredUpdates=function(e){var t=Pt,n=Wi.transition;try{return Wi.transition=null,Pt=16,e()}finally{Pt=t,Wi.transition=n}},t.discreteUpdates=function(e,t,n,r,a){var i=Pt,o=Wi.transition;try{return Wi.transition=null,Pt=1,e(t,n,r,a)}finally{Pt=i,Wi.transition=o,0===Ji&&lo()}},t.findAllNodes=Gi,t.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=Gi(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ie(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,a=r+n.width,i=n.y,s=i+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,h=c+u.width,d=u.y,f=d+u.height;if(r>=c&&i>=d&&a<=h&&s<=f){e.splice(t,1);break}if(!(r!==c||n.width!==u.width||f<i||d>s)){d>i&&(u.height+=d-i,u.y=i),f<s&&(u.height=s-d),e.splice(t,1);break}if(!(i!==d||n.height!==u.height||h<r||c>a)){c>r&&(u.width+=c-r,u.x=r),h<a&&(u.width=a-c),e.splice(t,1);break}}return e},t.findHostInstance=us,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=k(e))?I(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return us(e)},t.flushControlled=function(e){var t=Ji;Ji|=1;var n=Wi.transition,r=Pt;try{Wi.transition=null,Pt=1,e()}finally{Pt=r,Wi.transition=n,0===(Ji=t)&&(lo(),Yt())}},t.flushPassiveEffects=jo,t.flushSync=Bo,t.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=Ni(e=qi(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&ue(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Pt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,r=[];e=[qi(e),0];for(var a=0;a<e.length;){var i=e[a++],s=e[a++],l=t[s];if((5!==i.tag||!se(i))&&(Oi(i,l)&&(r.push(zi(l)),++s>n&&(n=s)),s<t.length))for(i=i.child;null!==i;)e.push(i,s),i=i.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(zi(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?R(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:ds,findFiberByHostInstance:e.findFiberByHostInstance||fs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{jt=t.inject(e),Ht=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(o(363));e=Gi(e,t);var a=ce(e,n,r).disconnect;return{disconnect:function(){a()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Pt;try{return Pt=e,t()}finally{Pt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var a=t.current,i=_o(),o=So(a);return n=ls(n),null===t.context?t.context=n:t.pendingContext=n,(t=vn(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gn(a,t),null!==(e=wo(a,o,i))&&yn(e,a,o),o},t}},585:function(e,t,n){"use strict";e.exports=n(976)},258:function(e,t,n){"use strict";e.exports=n(721)},783:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(v=!1,b(e),!m)if(null!==r(u))m=!0,R(S);else{var t=r(c);null!==t&&L(_,t.startTime-e)}}function S(e,n){m=!1,v&&(v=!1,y(C),C=-1),p=!0;var i=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!E());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(u)&&a(u),b(n)}else a(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&L(_,h.startTime-n),l=!1}return l}finally{d=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,M=!1,A=null,C=-1,k=5,T=-1;function E(){return!(t.unstable_now()-T<k)}function I(){if(null!==A){var e=t.unstable_now();T=e;var n=!0;try{n=A(!0,e)}finally{n?w():(M=!1,A=null)}}else M=!1}if("function"===typeof x)w=function(){x(I)};else if("undefined"!==typeof MessageChannel){var B=new MessageChannel,P=B.port2;B.port1.onmessage=I,w=function(){P.postMessage(null)}}else w=function(){g(I,0)};function R(e){A=e,M||(M=!0,w())}function L(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(v?(y(C),C=-1):v=!0,L(_,i-o))):(e.sortIndex=s,n(u,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},100:function(e,t,n){"use strict";e.exports=n(783)},374:function(e,t,n){"use strict";var r=n(791),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=x.prototype=new y;b.constructor=x,m(b,g.prototype),b.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,w={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,a)&&!M.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+T(l,0):i,_(o)?(a="",null!=e&&(a=e.replace(k,"$&/")+"/"),E(o,t,a,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",_(e))for(var u=0;u<e.length;u++){var c=i+T(s=e[u],u);l+=E(s,t,a,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=E(s=s.value,t,a,c=i+T(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],a=0;return E(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function B(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:w};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=x,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!M.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:B}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(v=!1,b(e),!m)if(null!==r(u))m=!0,R(S);else{var t=r(c);null!==t&&L(_,t.startTime-e)}}function S(e,n){m=!1,v&&(v=!1,y(C),C=-1),p=!0;var i=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!E());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(u)&&a(u),b(n)}else a(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&L(_,h.startTime-n),l=!1}return l}finally{d=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,M=!1,A=null,C=-1,k=5,T=-1;function E(){return!(t.unstable_now()-T<k)}function I(){if(null!==A){var e=t.unstable_now();T=e;var n=!0;try{n=A(!0,e)}finally{n?w():(M=!1,A=null)}}else M=!1}if("function"===typeof x)w=function(){x(I)};else if("undefined"!==typeof MessageChannel){var B=new MessageChannel,P=B.port2;B.port1.onmessage=I,w=function(){P.postMessage(null)}}else w=function(){g(I,0)};function R(e){A=e,M||(M=!0,w())}function L(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(v?(y(C),C=-1):v=!0,L(_,i-o))):(e.sortIndex=s,n(u,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:function(){return Pe},AddEquation:function(){return te},AddOperation:function(){return ke},AdditiveAnimationBlendMode:function(){return an},AdditiveBlending:function(){return Q},AlphaFormat:function(){return ct},AlwaysDepth:function(){return ye},AlwaysStencilFunc:function(){return Rn},AmbientLight:function(){return Cd},AmbientLightProbe:function(){return Gd},AnimationClip:function(){return Kh},AnimationLoader:function(){return id},AnimationMixer:function(){return bf},AnimationObjectGroup:function(){return gf},AnimationUtils:function(){return Fh},ArcCurve:function(){return Zu},ArrayCamera:function(){return kl},ArrowHelper:function(){return hp},Audio:function(){return ef},AudioAnalyser:function(){return sf},AudioContext:function(){return Od},AudioListener:function(){return $d},AudioLoader:function(){return zd},AxesHelper:function(){return dp},BackSide:function(){return J},BasicDepthPacking:function(){return hn},BasicShadowMap:function(){return G},Bone:function(){return mu},BooleanKeyframeTrack:function(){return Gh},Box2:function(){return Pf},Box3:function(){return Nr},Box3Helper:function(){return lp},BoxBufferGeometry:function(){return _p},BoxGeometry:function(){return zi},BoxHelper:function(){return sp},BufferAttribute:function(){return ni},BufferGeometry:function(){return bi},BufferGeometryLoader:function(){return Rd},ByteType:function(){return et},Cache:function(){return Zh},Camera:function(){return Vi},CameraHelper:function(){return np},CanvasTexture:function(){return Ku},CapsuleBufferGeometry:function(){return Sp},CapsuleGeometry:function(){return xc},CatmullRomCurve3:function(){return ac},CineonToneMapping:function(){return Be},CircleBufferGeometry:function(){return wp},CircleGeometry:function(){return bc},ClampToEdgeWrapping:function(){return Ne},Clock:function(){return Jd},Color:function(){return Mr},ColorKeyframeTrack:function(){return jh},ColorManagement:function(){return vr},CompressedArrayTexture:function(){return Xu},CompressedTexture:function(){return Ju},CompressedTextureLoader:function(){return od},ConeBufferGeometry:function(){return Mp},ConeGeometry:function(){return Sc},CubeCamera:function(){return Xi},CubeReflectionMapping:function(){return De},CubeRefractionMapping:function(){return Fe},CubeTexture:function(){return Ki},CubeTextureLoader:function(){return ld},CubeUVReflectionMapping:function(){return Oe},CubicBezierCurve:function(){return lc},CubicBezierCurve3:function(){return uc},CubicInterpolant:function(){return qh},CullFaceBack:function(){return O},CullFaceFront:function(){return z},CullFaceFrontBack:function(){return N},CullFaceNone:function(){return q},Curve:function(){return Yu},CurvePath:function(){return vc},CustomBlending:function(){return ee},CustomToneMapping:function(){return Re},CylinderBufferGeometry:function(){return Ap},CylinderGeometry:function(){return _c},Cylindrical:function(){return If},Data3DTexture:function(){return Lr},DataArrayTexture:function(){return Pr},DataTexture:function(){return vu},DataTexture2DArray:function(){return xp},DataTexture3D:function(){return bp},DataTextureLoader:function(){return ud},DataUtils:function(){return vp},DecrementStencilOp:function(){return Sn},DecrementWrapStencilOp:function(){return Mn},DefaultLoadingManager:function(){return ed},DepthFormat:function(){return mt},DepthStencilFormat:function(){return vt},DepthTexture:function(){return Bl},DirectionalLight:function(){return Ad},DirectionalLightHelper:function(){return $f},DiscreteInterpolant:function(){return zh},DodecahedronBufferGeometry:function(){return Cp},DodecahedronGeometry:function(){return Mc},DoubleSide:function(){return X},DstAlphaFactor:function(){return de},DstColorFactor:function(){return pe},DynamicCopyUsage:function(){return Nn},DynamicDrawUsage:function(){return Dn},DynamicReadUsage:function(){return qn},EdgesGeometry:function(){return Ec},EllipseCurve:function(){return Qu},EqualDepth:function(){return _e},EqualStencilFunc:function(){return Tn},EquirectangularReflectionMapping:function(){return Ue},EquirectangularRefractionMapping:function(){return qe},Euler:function(){return Ma},EventDispatcher:function(){return Wn},ExtrudeBufferGeometry:function(){return kp},ExtrudeGeometry:function(){return oh},FileLoader:function(){return ad},Float16BufferAttribute:function(){return ci},Float32BufferAttribute:function(){return hi},Float64BufferAttribute:function(){return di},FloatType:function(){return it},Fog:function(){return zl},FogExp2:function(){return Ol},FramebufferTexture:function(){return Wu},FrontSide:function(){return W},Frustum:function(){return ro},GLBufferAttribute:function(){return Af},GLSL1:function(){return jn},GLSL3:function(){return Hn},GreaterDepth:function(){return we},GreaterEqualDepth:function(){return Se},GreaterEqualStencilFunc:function(){return Pn},GreaterStencilFunc:function(){return In},GridHelper:function(){return Xf},Group:function(){return Tl},HalfFloatType:function(){return ot},HemisphereLight:function(){return dd},HemisphereLightHelper:function(){return Jf},HemisphereLightProbe:function(){return Nd},IcosahedronBufferGeometry:function(){return Tp},IcosahedronGeometry:function(){return lh},ImageBitmapLoader:function(){return qd},ImageLoader:function(){return sd},ImageUtils:function(){return Ar},ImmediateRenderObject:function(){return gp},IncrementStencilOp:function(){return _n},IncrementWrapStencilOp:function(){return wn},InstancedBufferAttribute:function(){return bu},InstancedBufferGeometry:function(){return Pd},InstancedInterleavedBuffer:function(){return Mf},InstancedMesh:function(){return Cu},Int16BufferAttribute:function(){return oi},Int32BufferAttribute:function(){return li},Int8BufferAttribute:function(){return ri},IntType:function(){return rt},InterleavedBuffer:function(){return Gl},InterleavedBufferAttribute:function(){return Hl},Interpolant:function(){return Uh},InterpolateDiscrete:function(){return Qt},InterpolateLinear:function(){return Zt},InterpolateSmooth:function(){return $t},InvertStencilOp:function(){return An},KeepStencilOp:function(){return xn},KeyframeTrack:function(){return Nh},LOD:function(){return lu},LatheBufferGeometry:function(){return Ep},LatheGeometry:function(){return yc},Layers:function(){return Aa},LessDepth:function(){return xe},LessEqualDepth:function(){return be},LessEqualStencilFunc:function(){return En},LessStencilFunc:function(){return kn},Light:function(){return hd},LightProbe:function(){return Ed},Line:function(){return Ru},Line3:function(){return Df},LineBasicMaterial:function(){return ku},LineCurve:function(){return cc},LineCurve3:function(){return hc},LineDashedMaterial:function(){return Eh},LineLoop:function(){return Uu},LineSegments:function(){return Fu},LinearEncoding:function(){return un},LinearFilter:function(){return Xe},LinearInterpolant:function(){return Oh},LinearMipMapLinearFilter:function(){return Ze},LinearMipMapNearestFilter:function(){return Ye},LinearMipmapLinearFilter:function(){return Qe},LinearMipmapNearestFilter:function(){return Ke},LinearSRGBColorSpace:function(){return gn},LinearToneMapping:function(){return Ee},Loader:function(){return td},LoaderUtils:function(){return Bd},LoadingManager:function(){return $h},LoopOnce:function(){return Xt},LoopPingPong:function(){return Yt},LoopRepeat:function(){return Kt},LuminanceAlphaFormat:function(){return pt},LuminanceFormat:function(){return ft},MOUSE:function(){return F},Material:function(){return Za},MaterialLoader:function(){return Id},MathUtils:function(){return or},Matrix3:function(){return lr},Matrix4:function(){return pa},MaxEquation:function(){return ie},Mesh:function(){return qi},MeshBasicMaterial:function(){return $a},MeshDepthMaterial:function(){return _l},MeshDistanceMaterial:function(){return Sl},MeshLambertMaterial:function(){return kh},MeshMatcapMaterial:function(){return Th},MeshNormalMaterial:function(){return Ch},MeshPhongMaterial:function(){return Mh},MeshPhysicalMaterial:function(){return wh},MeshStandardMaterial:function(){return Sh},MeshToonMaterial:function(){return Ah},MinEquation:function(){return ae},MirroredRepeatWrapping:function(){return Ge},MixOperation:function(){return Ce},MultiplyBlending:function(){return $},MultiplyOperation:function(){return Ae},NearestFilter:function(){return je},NearestMipMapLinearFilter:function(){return Je},NearestMipMapNearestFilter:function(){return Ve},NearestMipmapLinearFilter:function(){return We},NearestMipmapNearestFilter:function(){return He},NeverDepth:function(){return ge},NeverStencilFunc:function(){return Cn},NoBlending:function(){return K},NoColorSpace:function(){return mn},NoToneMapping:function(){return Te},NormalAnimationBlendMode:function(){return rn},NormalBlending:function(){return Y},NotEqualDepth:function(){return Me},NotEqualStencilFunc:function(){return Bn},NumberKeyframeTrack:function(){return Hh},Object3D:function(){return Oa},ObjectLoader:function(){return Ld},ObjectSpaceNormalMap:function(){return pn},OctahedronBufferGeometry:function(){return Ip},OctahedronGeometry:function(){return uh},OneFactor:function(){return se},OneMinusDstAlphaFactor:function(){return fe},OneMinusDstColorFactor:function(){return me},OneMinusSrcAlphaFactor:function(){return he},OneMinusSrcColorFactor:function(){return ue},OrthographicCamera:function(){return go},PCFShadowMap:function(){return j},PCFSoftShadowMap:function(){return H},PMREMGenerator:function(){return Co},Path:function(){return gc},PerspectiveCamera:function(){return Wi},Plane:function(){return eo},PlaneBufferGeometry:function(){return Bp},PlaneGeometry:function(){return oo},PlaneHelper:function(){return up},PointLight:function(){return wd},PointLightHelper:function(){return jf},Points:function(){return ju},PointsMaterial:function(){return qu},PolarGridHelper:function(){return Kf},PolyhedronBufferGeometry:function(){return Pp},PolyhedronGeometry:function(){return wc},PositionalAudio:function(){return of},PropertyBinding:function(){return vf},PropertyMixer:function(){return lf},QuadraticBezierCurve:function(){return dc},QuadraticBezierCurve3:function(){return fc},Quaternion:function(){return Ur},QuaternionKeyframeTrack:function(){return Wh},QuaternionLinearInterpolant:function(){return Vh},REVISION:function(){return D},RGBADepthPacking:function(){return dn},RGBAFormat:function(){return dt},RGBAIntegerFormat:function(){return _t},RGBA_ASTC_10x10_Format:function(){return Ht},RGBA_ASTC_10x5_Format:function(){return Nt},RGBA_ASTC_10x6_Format:function(){return Gt},RGBA_ASTC_10x8_Format:function(){return jt},RGBA_ASTC_12x10_Format:function(){return Vt},RGBA_ASTC_12x12_Format:function(){return Wt},RGBA_ASTC_4x4_Format:function(){return Rt},RGBA_ASTC_5x4_Format:function(){return Lt},RGBA_ASTC_5x5_Format:function(){return Dt},RGBA_ASTC_6x5_Format:function(){return Ft},RGBA_ASTC_6x6_Format:function(){return Ut},RGBA_ASTC_8x5_Format:function(){return qt},RGBA_ASTC_8x6_Format:function(){return Ot},RGBA_ASTC_8x8_Format:function(){return zt},RGBA_BPTC_Format:function(){return Jt},RGBA_ETC2_EAC_Format:function(){return Pt},RGBA_PVRTC_2BPPV1_Format:function(){return Et},RGBA_PVRTC_4BPPV1_Format:function(){return Tt},RGBA_S3TC_DXT1_Format:function(){return wt},RGBA_S3TC_DXT3_Format:function(){return Mt},RGBA_S3TC_DXT5_Format:function(){return At},RGBFormat:function(){return ht},RGB_ETC1_Format:function(){return It},RGB_ETC2_Format:function(){return Bt},RGB_PVRTC_2BPPV1_Format:function(){return kt},RGB_PVRTC_4BPPV1_Format:function(){return Ct},RGB_S3TC_DXT1_Format:function(){return St},RGFormat:function(){return xt},RGIntegerFormat:function(){return bt},RawShaderMaterial:function(){return _h},Ray:function(){return fa},Raycaster:function(){return Cf},RectAreaLight:function(){return kd},RedFormat:function(){return gt},RedIntegerFormat:function(){return yt},ReinhardToneMapping:function(){return Ie},RepeatWrapping:function(){return ze},ReplaceStencilOp:function(){return bn},ReverseSubtractEquation:function(){return re},RingBufferGeometry:function(){return Rp},RingGeometry:function(){return ch},SRGBColorSpace:function(){return vn},Scene:function(){return Nl},ShaderChunk:function(){return so},ShaderLib:function(){return uo},ShaderMaterial:function(){return Hi},ShadowMaterial:function(){return bh},Shape:function(){return Ic},ShapeBufferGeometry:function(){return Lp},ShapeGeometry:function(){return hh},ShapePath:function(){return fp},ShapeUtils:function(){return rh},ShortType:function(){return tt},Skeleton:function(){return xu},SkeletonHelper:function(){return Nf},SkinnedMesh:function(){return pu},Source:function(){return Cr},Sphere:function(){return ia},SphereBufferGeometry:function(){return Dp},SphereGeometry:function(){return dh},Spherical:function(){return Ef},SphericalHarmonics3:function(){return Td},SplineCurve:function(){return pc},SpotLight:function(){return yd},SpotLightHelper:function(){return Uf},Sprite:function(){return au},SpriteMaterial:function(){return Vl},SrcAlphaFactor:function(){return ce},SrcAlphaSaturateFactor:function(){return ve},SrcColorFactor:function(){return le},StaticCopyUsage:function(){return zn},StaticDrawUsage:function(){return Ln},StaticReadUsage:function(){return Un},StereoCamera:function(){return Wd},StreamCopyUsage:function(){return Gn},StreamDrawUsage:function(){return Fn},StreamReadUsage:function(){return On},StringKeyframeTrack:function(){return Jh},SubtractEquation:function(){return ne},SubtractiveBlending:function(){return Z},TOUCH:function(){return U},TangentSpaceNormalMap:function(){return fn},TetrahedronBufferGeometry:function(){return Fp},TetrahedronGeometry:function(){return fh},Texture:function(){return Er},TextureLoader:function(){return cd},TorusBufferGeometry:function(){return Up},TorusGeometry:function(){return ph},TorusKnotBufferGeometry:function(){return qp},TorusKnotGeometry:function(){return mh},Triangle:function(){return Ya},TriangleFanDrawMode:function(){return ln},TriangleStripDrawMode:function(){return sn},TrianglesDrawMode:function(){return on},TubeBufferGeometry:function(){return Op},TubeGeometry:function(){return vh},UVMapping:function(){return Le},Uint16BufferAttribute:function(){return si},Uint32BufferAttribute:function(){return ui},Uint8BufferAttribute:function(){return ai},Uint8ClampedBufferAttribute:function(){return ii},Uniform:function(){return _f},UniformsGroup:function(){return wf},UniformsLib:function(){return lo},UniformsUtils:function(){return ji},UnsignedByteType:function(){return $e},UnsignedInt248Type:function(){return ut},UnsignedIntType:function(){return at},UnsignedShort4444Type:function(){return st},UnsignedShort5551Type:function(){return lt},UnsignedShortType:function(){return nt},VSMShadowMap:function(){return V},Vector2:function(){return sr},Vector3:function(){return qr},Vector4:function(){return Ir},VectorKeyframeTrack:function(){return Xh},VideoTexture:function(){return Vu},WebGL1Renderer:function(){return Ul},WebGL3DRenderTarget:function(){return Dr},WebGLArrayRenderTarget:function(){return Rr},WebGLCubeRenderTarget:function(){return Yi},WebGLMultipleRenderTargets:function(){return Fr},WebGLMultisampleRenderTarget:function(){return yp},WebGLRenderTarget:function(){return Br},WebGLRenderer:function(){return Fl},WebGLUtils:function(){return Cl},WireframeGeometry:function(){return gh},WrapAroundEnding:function(){return nn},ZeroCurvatureEnding:function(){return en},ZeroFactor:function(){return oe},ZeroSlopeEnding:function(){return tn},ZeroStencilOp:function(){return yn},_SRGBAFormat:function(){return Vn},sRGBEncoding:function(){return cn}});var t,r=n(791),a=n(250);function i(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||s(e,t)||l()}function c(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,n){return f=d()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&h(a,n.prototype),a},f.apply(null,arguments)}function p(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){return function(e){if(Array.isArray(e))return o(e)}(e)||p(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){if(t&&("object"===A(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function T(e){var t=d();return function(){var n,r=M(e);if(t){var a=M(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k(this,n)}}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,M(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,e)},E(e)}function I(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){I(i,r,a,o,s,"next",e)}function s(e){I(i,r,a,o,s,"throw",e)}o(void 0)}))}}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}function R(){return R="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=P(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},R.apply(this,arguments)}function L(){L=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(E){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),s=new C(a||[]);return r(o,"_invoke",{value:_(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&n.call(g,i)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,i,o,s){var l=c(e[r],e,i);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==A(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,o,s)}),(function(e){a("throw",e,o,s)})):t.resolve(h).then((function(e){u.value=e,o(u)}),(function(e){return a("throw",e,o,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return T()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},x(b.prototype),l(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new b(u(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(y),l(y,s,"Generator"),l(y,i,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;M(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}var D="146",F={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},U={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},q=0,O=1,z=2,N=3,G=0,j=1,H=2,V=3,W=0,J=1,X=2,K=0,Y=1,Q=2,Z=3,$=4,ee=5,te=100,ne=101,re=102,ae=103,ie=104,oe=200,se=201,le=202,ue=203,ce=204,he=205,de=206,fe=207,pe=208,me=209,ve=210,ge=0,ye=1,xe=2,be=3,_e=4,Se=5,we=6,Me=7,Ae=0,Ce=1,ke=2,Te=0,Ee=1,Ie=2,Be=3,Pe=4,Re=5,Le=300,De=301,Fe=302,Ue=303,qe=304,Oe=306,ze=1e3,Ne=1001,Ge=1002,je=1003,He=1004,Ve=1004,We=1005,Je=1005,Xe=1006,Ke=1007,Ye=1007,Qe=1008,Ze=1008,$e=1009,et=1010,tt=1011,nt=1012,rt=1013,at=1014,it=1015,ot=1016,st=1017,lt=1018,ut=1020,ct=1021,ht=1022,dt=1023,ft=1024,pt=1025,mt=1026,vt=1027,gt=1028,yt=1029,xt=1030,bt=1031,_t=1033,St=33776,wt=33777,Mt=33778,At=33779,Ct=35840,kt=35841,Tt=35842,Et=35843,It=36196,Bt=37492,Pt=37496,Rt=37808,Lt=37809,Dt=37810,Ft=37811,Ut=37812,qt=37813,Ot=37814,zt=37815,Nt=37816,Gt=37817,jt=37818,Ht=37819,Vt=37820,Wt=37821,Jt=36492,Xt=2200,Kt=2201,Yt=2202,Qt=2300,Zt=2301,$t=2302,en=2400,tn=2401,nn=2402,rn=2500,an=2501,on=0,sn=1,ln=2,un=3e3,cn=3001,hn=3200,dn=3201,fn=0,pn=1,mn="",vn="srgb",gn="srgb-linear",yn=0,xn=7680,bn=7681,_n=7682,Sn=7683,wn=34055,Mn=34056,An=5386,Cn=512,kn=513,Tn=514,En=515,In=516,Bn=517,Pn=518,Rn=519,Ln=35044,Dn=35048,Fn=35040,Un=35045,qn=35049,On=35041,zn=35046,Nn=35050,Gn=35042,jn="100",Hn="300 es",Vn=1035,Wn=function(){function e(){b(this,e)}return S(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,a=n.length;r<a;r++)n[r].call(this,e);e.target=null}}}}]),e}(),Jn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Xn=1234567,Kn=Math.PI/180,Yn=180/Math.PI;function Qn(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Jn[255&e]+Jn[e>>8&255]+Jn[e>>16&255]+Jn[e>>24&255]+"-"+Jn[255&t]+Jn[t>>8&255]+"-"+Jn[t>>16&15|64]+Jn[t>>24&255]+"-"+Jn[63&n|128]+Jn[n>>8&255]+"-"+Jn[n>>16&255]+Jn[n>>24&255]+Jn[255&r]+Jn[r>>8&255]+Jn[r>>16&255]+Jn[r>>24&255]).toLowerCase()}function Zn(e,t,n){return Math.max(t,Math.min(n,e))}function $n(e,t){return(e%t+t)%t}function er(e,t,n){return(1-n)*e+n*t}function tr(e){return 0===(e&e-1)&&0!==e}function nr(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function rr(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function ar(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function ir(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var or=Object.freeze({__proto__:null,DEG2RAD:Kn,RAD2DEG:Yn,generateUUID:Qn,clamp:Zn,euclideanModulo:$n,mapLinear:function(e,t,n,r,a){return r+(e-t)*(a-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:er,damp:function(e,t,n,r){return er(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs($n(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Xn=e);var t=Xn+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Kn},radToDeg:function(e){return e*Yn},isPowerOfTwo:tr,ceilPowerOfTwo:nr,floorPowerOfTwo:rr,setQuaternionFromProperEuler:function(e,t,n,r,a){var i=Math.cos,o=Math.sin,s=i(n/2),l=o(n/2),u=i((t+r)/2),c=o((t+r)/2),h=i((t-r)/2),d=o((t-r)/2),f=i((r-t)/2),p=o((r-t)/2);switch(a){case"XYX":e.set(s*c,l*h,l*d,s*u);break;case"YZY":e.set(l*d,s*c,l*h,s*u);break;case"ZXZ":e.set(l*h,l*d,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*f,s*u);break;case"YXY":e.set(l*f,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*f,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}},normalize:ir,denormalize:ar}),sr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;b(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return S(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),a=this.x-e.x,i=this.y-e.y;return this.x=a*n-i*r+e.x,this.y=a*r+i*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(),lr=function(){function e(){b(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}return S(e,[{key:"set",value:function(e,t,n,r,a,i,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=a,u[5]=s,u[6]=n,u[7]=i,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,a=this.elements,i=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],d=n[5],f=n[8],p=r[0],m=r[3],v=r[6],g=r[1],y=r[4],x=r[7],b=r[2],_=r[5],S=r[8];return a[0]=i*p+o*g+s*b,a[3]=i*m+o*y+s*_,a[6]=i*v+o*x+s*S,a[1]=l*p+u*g+c*b,a[4]=l*m+u*y+c*_,a[7]=l*v+u*x+c*S,a[2]=h*p+d*g+f*b,a[5]=h*m+d*y+f*_,a[8]=h*v+d*x+f*S,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*i*u-t*o*l-n*a*u+n*o*s+r*a*l-r*i*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*i-o*l,h=o*s-u*a,d=l*a-i*s,f=t*c+n*h+r*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*i)*p,e[3]=h*p,e[4]=(u*t-r*s)*p,e[5]=(r*a-o*t)*p,e[6]=d*p,e[7]=(n*s-l*t)*p,e[8]=(i*t-n*a)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,a,i,o){var s=Math.cos(a),l=Math.sin(a);return this.set(n*s,n*l,-n*(s*i+l*o)+i+e,-r*l,r*s,-r*(-l*i+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,a=r[0],i=r[3],o=r[6],s=r[1],l=r[4],u=r[7];return r[0]=t*a+n*s,r[3]=t*i+n*l,r[6]=t*o+n*u,r[1]=-n*a+t*s,r[4]=-n*i+t*l,r[7]=-n*o+t*u,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();function ur(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var cr={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function hr(e,t){return new cr[e](t)}function dr(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function fr(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function pr(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var mr=(g(t={},vn,g({},gn,fr)),g(t,gn,g({},vn,pr)),t),vr={legacyMode:!0,get workingColorSpace(){return gn},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(mr[t]&&void 0!==mr[t][n]){var r=mr[t][n];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},gr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},yr={r:0,g:0,b:0},xr={h:0,s:0,l:0},br={h:0,s:0,l:0};function _r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Sr(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var wr,Mr=function(e){function t(e,n,r){return b(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===r?this.set(e):this.setRGB(e,n,r)}return S(t,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vn;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,vr.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gn;return this.r=e,this.g=t,this.b=n,vr.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gn;if(e=$n(e,1),t=Zn(t,0,1),n=Zn(n,0,1),0===t)this.r=this.g=this.b=n;else{var a=n<=.5?n*(1+t):n+t-n*t,i=2*n-a;this.r=_r(i,a,e+1/3),this.g=_r(i,a,e),this.b=_r(i,a,e-1/3)}return vr.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vn;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var a,i=t[1],o=t[2];switch(i){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,vr.toWorkingColorSpace(this,n),r(a[4]),this;if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,vr.toWorkingColorSpace(this,n),r(a[4]),this;break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var s=parseFloat(a[1])/360,l=parseFloat(a[2])/100,u=parseFloat(a[3])/100;return r(a[4]),this.setHSL(s,l,u,n)}}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=t[1],h=c.length;if(3===h)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,vr.toWorkingColorSpace(this,n),this;if(6===h)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,vr.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vn,n=gr[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=fr(e.r),this.g=fr(e.g),this.b=fr(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=pr(e.r),this.g=pr(e.g),this.b=pr(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn;return vr.fromWorkingColorSpace(Sr(this,yr),e),Zn(255*yr.r,0,255)<<16^Zn(255*yr.g,0,255)<<8^Zn(255*yr.b,0,255)<<0}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gn;vr.fromWorkingColorSpace(Sr(this,yr),t);var n,r,a=yr.r,i=yr.g,o=yr.b,s=Math.max(a,i,o),l=Math.min(a,i,o),u=(l+s)/2;if(l===s)n=0,r=0;else{var c=s-l;switch(r=u<=.5?c/(s+l):c/(2-s-l),s){case a:n=(i-o)/c+(i<o?6:0);break;case i:n=(o-a)/c+2;break;case o:n=(a-i)/c+4}n/=6}return e.h=n,e.s=r,e.l=u,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gn;return vr.fromWorkingColorSpace(Sr(this,yr),t),e.r=yr.r,e.g=yr.g,e.b=yr.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn;return vr.fromWorkingColorSpace(Sr(this,yr),e),e!==vn?"color(".concat(e," ").concat(yr.r," ").concat(yr.g," ").concat(yr.b,")"):"rgb(".concat(255*yr.r|0,",").concat(255*yr.g|0,",").concat(255*yr.b|0,")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(xr),xr.h+=e,xr.s+=t,xr.l+=n,this.setHSL(xr.h,xr.s,xr.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(xr),e.getHSL(br);var n=er(xr.h,br.h,t),r=er(xr.s,br.s,t),a=er(xr.l,br.l,t);return this.setHSL(n,r,a),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}();Mr.NAMES=gr;var Ar=function(){function e(){b(this,e)}return S(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===wr&&(wr=dr("canvas")),wr.width=e.width,wr.height=e.height;var n=wr.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=wr}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=dr("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),a=r.data,i=0;i<a.length;i++)a[i]=255*fr(a[i]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*fr(o[s]/255)):o[s]=fr(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),Cr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;b(this,e),this.isSource=!0,this.uuid=Qn(),this.data=t,this.version=0}return S(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var a;if(Array.isArray(r)){a=[];for(var i=0,o=r.length;i<o;i++)r[i].isDataTexture?a.push(kr(r[i].image)):a.push(kr(r[i]))}else a=kr(r);n.url=a}return t||(e.images[this.uuid]=n),n}}]),e}();function kr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?Ar.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Tr=0,Er=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ne,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ne,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xe,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Qe,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:dt,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:$e,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:un;return b(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty(C(e),"id",{value:Tr++}),e.uuid=Qn(),e.name="",e.source=new Cr(r),e.mipmaps=[],e.mapping=a,e.wrapS=i,e.wrapT=o,e.magFilter=s,e.minFilter=l,e.anisotropy=h,e.format=u,e.internalFormat=null,e.type=c,e.offset=new sr(0,0),e.repeat=new sr(1,1),e.center=new sr(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new lr,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=d,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return S(n,[{key:"image",get:function(){return this.source.data},set:function(e){this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==Le)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ze:e.x=e.x-Math.floor(e.x);break;case Ne:e.x=e.x<0?0:1;break;case Ge:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case ze:e.y=e.y-Math.floor(e.y);break;case Ne:e.y=e.y<0?0:1;break;case Ge:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),n}(Wn);Er.DEFAULT_IMAGE=null,Er.DEFAULT_MAPPING=Le;var Ir=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;b(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=a}return S(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,a=this.w,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r+i[12]*a,this.y=i[1]*t+i[5]*n+i[9]*r+i[13]*a,this.z=i[2]*t+i[6]*n+i[10]*r+i[14]*a,this.w=i[3]*t+i[7]*n+i[11]*r+i[15]*a,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,a,i=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],h=s[1],d=s[5],f=s[9],p=s[2],m=s[6],v=s[10];if(Math.abs(u-h)<i&&Math.abs(c-p)<i&&Math.abs(f-m)<i){if(Math.abs(u+h)<o&&Math.abs(c+p)<o&&Math.abs(f+m)<o&&Math.abs(l+d+v-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(l+1)/2,y=(d+1)/2,x=(v+1)/2,b=(u+h)/4,_=(c+p)/4,S=(f+m)/4;return g>y&&g>x?g<i?(n=0,r=.707106781,a=.707106781):(r=b/(n=Math.sqrt(g)),a=_/n):y>x?y<i?(n=.707106781,r=0,a=.707106781):(n=b/(r=Math.sqrt(y)),a=S/r):x<i?(n=.707106781,r=.707106781,a=0):(n=_/(a=Math.sqrt(x)),r=S/a),this.set(n,r,a,t),this}var w=Math.sqrt((m-f)*(m-f)+(c-p)*(c-p)+(h-u)*(h-u));return Math.abs(w)<.001&&(w=1),this.x=(m-f)/w,this.y=(c-p)/w,this.z=(h-u)/w,this.w=Math.acos((l+d+v-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(),Br=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,n),(e=t.call(this)).isWebGLRenderTarget=!0,e.width=r,e.height=a,e.depth=1,e.scissor=new Ir(0,0,r,a),e.scissorTest=!1,e.viewport=new Ir(0,0,r,a);var o={width:r,height:a,depth:1};return e.texture=new Er(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:Xe,e.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,e.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,e.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,e.samples=void 0!==i.samples?i.samples:0,e}return S(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new Cr(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Wn),Pr=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return b(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:a,height:i,depth:o},e.magFilter=je,e.minFilter=je,e.wrapR=Ne,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return S(n)}(Er),Rr=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return b(this,n),(e=t.call(this,r,a)).isWebGLArrayRenderTarget=!0,e.depth=i,e.texture=new Pr(null,r,a,i),e.texture.isRenderTargetTexture=!0,e}return S(n)}(Br),Lr=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return b(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:a,height:i,depth:o},e.magFilter=je,e.minFilter=je,e.wrapR=Ne,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return S(n)}(Er),Dr=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return b(this,n),(e=t.call(this,r,a)).isWebGL3DRenderTarget=!0,e.depth=i,e.texture=new Lr(null,r,a,i),e.texture.isRenderTargetTexture=!0,e}return S(n)}(Br),Fr=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};b(this,n),(e=t.call(this,r,a,o)).isWebGLMultipleRenderTargets=!0;var s=e.texture;e.texture=[];for(var l=0;l<i;l++)e.texture[l]=s.clone(),e.texture[l].isRenderTargetTexture=!0;return e}return S(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,a=this.texture.length;r<a;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}]),n}(Br),Ur=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;b(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=a}return S(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,r=e._y,a=e._z,i=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(a/2),h=s(n/2),d=s(r/2),f=s(a/2);switch(i){case"XYZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"YXZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"ZXY":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"ZYX":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"YZX":this._x=h*u*c+l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c-h*d*f;break;case"XZY":this._x=h*u*c-l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+i)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],a=t[8],i=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],h=n+o+c;if(h>0){var d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-s)*d,this._y=(a-l)*d,this._z=(i-r)*d}else if(n>o&&n>c){var f=2*Math.sqrt(1+n-o-c);this._w=(u-s)/f,this._x=.25*f,this._y=(r+i)/f,this._z=(a+l)/f}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(a-l)/p,this._x=(r+i)/p,this._y=.25*p,this._z=(s+u)/p}else{var m=2*Math.sqrt(1+c-n-o);this._w=(i-r)/m,this._x=(a+l)/m,this._y=(s+u)/m,this._z=.25*m}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Zn(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,a=e._z,i=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+i*o+r*l-a*s,this._y=r*u+i*s+a*o-n*l,this._z=a*u+i*l+n*s-r*o,this._w=i*u-n*o-r*s-a*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,a=this._z,i=this._w,o=i*e._w+n*e._x+r*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=i,this._x=n,this._y=r,this._z=a,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*i+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*a+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-t)*c)/u,d=Math.sin(t*c)/u;return this._w=i*h+this._w*d,this._x=n*h+this._x*d,this._y=r*h+this._y*d,this._z=a*h+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(a),n*Math.cos(a),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,a,i,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],h=a[i+0],d=a[i+1],f=a[i+2],p=a[i+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=f,void(e[t+3]=p);if(c!==p||s!==h||l!==d||u!==f){var m=1-o,v=s*h+l*d+u*f+c*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var x=Math.sqrt(y),b=Math.atan2(x,v*g);m=Math.sin(m*b)/x,o=Math.sin(o*b)/x}var _=o*g;if(s=s*m+h*_,l=l*m+d*_,u=u*m+f*_,c=c*m+p*_,m===1-o){var S=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=S,l*=S,u*=S,c*=S}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,a,i){var o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=a[i],h=a[i+1],d=a[i+2],f=a[i+3];return e[t]=o*f+u*c+s*d-l*h,e[t+1]=s*f+u*h+l*c-o*d,e[t+2]=l*f+u*d+o*h-s*c,e[t+3]=u*f-o*c-s*h-l*d,e}}]),t}(),qr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;b(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return S(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(zr.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(zr.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*r,this.y=a[1]*t+a[4]*n+a[7]*r,this.z=a[2]*t+a[5]*n+a[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements,i=1/(a[3]*t+a[7]*n+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*r+a[12])*i,this.y=(a[1]*t+a[5]*n+a[9]*r+a[13])*i,this.z=(a[2]*t+a[6]*n+a[10]*r+a[14])*i,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.x,i=e.y,o=e.z,s=e.w,l=s*t+i*r-o*n,u=s*n+o*t-a*r,c=s*r+a*n-i*t,h=-a*t-i*n-o*r;return this.x=l*s+h*-a+u*-o-c*-i,this.y=u*s+h*-i+c*-a-l*-o,this.z=c*s+h*-o+l*-i-u*-a,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r,this.y=a[1]*t+a[5]*n+a[9]*r,this.z=a[2]*t+a[6]*n+a[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,a=e.z,i=t.x,o=t.y,s=t.z;return this.x=r*s-a*o,this.y=a*i-n*s,this.z=n*o-r*i,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return Or.copy(this).projectOnVector(e),this.sub(Or)}},{key:"reflect",value:function(e){return this.sub(Or.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Zn(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),Or=new qr,zr=new Ur,Nr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qr(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qr(-1/0,-1/0,-1/0);b(this,e),this.isBox3=!0,this.min=t,this.max=n}return S(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,a=-1/0,i=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],h=e[s+2];u<t&&(t=u),c<n&&(n=c),h<r&&(r=h),u>a&&(a=u),c>i&&(i=c),h>o&&(o=h)}return this.min.set(t,n,r),this.max.set(a,i,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,a=-1/0,i=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),h=e.getZ(s);u<t&&(t=u),c<n&&(n=c),h<r&&(r=h),u>a&&(a=u),c>i&&(i=c),h>o&&(o=h)}return this.min.set(t,n,r),this.max.set(a,i,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=jr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var n=e.geometry;if(void 0!==n)if(t&&void 0!=n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,a=0,i=r.count;a<i;a++)jr.fromBufferAttribute(r,a).applyMatrix4(e.matrixWorld),this.expandByPoint(jr);else null===n.boundingBox&&n.computeBoundingBox(),Hr.copy(n.boundingBox),Hr.applyMatrix4(e.matrixWorld),this.union(Hr);for(var o=e.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,jr),jr.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Qr),Zr.subVectors(this.max,Qr),Vr.subVectors(e.a,Qr),Wr.subVectors(e.b,Qr),Jr.subVectors(e.c,Qr),Xr.subVectors(Wr,Vr),Kr.subVectors(Jr,Wr),Yr.subVectors(Vr,Jr);var t=[0,-Xr.z,Xr.y,0,-Kr.z,Kr.y,0,-Yr.z,Yr.y,Xr.z,0,-Xr.x,Kr.z,0,-Kr.x,Yr.z,0,-Yr.x,-Xr.y,Xr.x,0,-Kr.y,Kr.x,0,-Yr.y,Yr.x,0];return!!ta(t,Vr,Wr,Jr,Zr)&&(!!ta(t=[1,0,0,0,1,0,0,0,1],Vr,Wr,Jr,Zr)&&($r.crossVectors(Xr,Kr),ta(t=[$r.x,$r.y,$r.z],Vr,Wr,Jr,Zr)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return jr.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(jr).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Gr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Gr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Gr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Gr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Gr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Gr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Gr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Gr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Gr)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Gr=[new qr,new qr,new qr,new qr,new qr,new qr,new qr,new qr],jr=new qr,Hr=new Nr,Vr=new qr,Wr=new qr,Jr=new qr,Xr=new qr,Kr=new qr,Yr=new qr,Qr=new qr,Zr=new qr,$r=new qr,ea=new qr;function ta(e,t,n,r,a){for(var i=0,o=e.length-3;i<=o;i+=3){ea.fromArray(e,i);var s=a.x*Math.abs(ea.x)+a.y*Math.abs(ea.y)+a.z*Math.abs(ea.z),l=t.dot(ea),u=n.dot(ea),c=r.dot(ea);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var na=new Nr,ra=new qr,aa=new qr,ia=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;b(this,e),this.center=t,this.radius=n}return S(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):na.setFromPoints(e).getCenter(n);for(var r=0,a=0,i=e.length;a<i;a++)r=Math.max(r,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ra.subVectors(e,this.center);var t=ra.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(ra,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(aa.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ra.copy(e.center).add(aa)),this.expandByPoint(ra.copy(e.center).sub(aa))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),oa=new qr,sa=new qr,la=new qr,ua=new qr,ca=new qr,ha=new qr,da=new qr,fa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qr(0,0,-1);b(this,e),this.origin=t,this.direction=n}return S(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,oa)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=oa.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(oa.copy(this.direction).multiplyScalar(t).add(this.origin),oa.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){sa.copy(e).add(t).multiplyScalar(.5),la.copy(t).sub(e).normalize(),ua.copy(this.origin).sub(sa);var a,i,o,s,l=.5*e.distanceTo(t),u=-this.direction.dot(la),c=ua.dot(this.direction),h=-ua.dot(la),d=ua.lengthSq(),f=Math.abs(1-u*u);if(f>0)if(i=u*c-h,s=l*f,(a=u*h-c)>=0)if(i>=-s)if(i<=s){var p=1/f;o=(a*=p)*(a+u*(i*=p)+2*c)+i*(u*a+i+2*h)+d}else i=l,o=-(a=Math.max(0,-(u*i+c)))*a+i*(i+2*h)+d;else i=-l,o=-(a=Math.max(0,-(u*i+c)))*a+i*(i+2*h)+d;else i<=-s?o=-(a=Math.max(0,-(-u*l+c)))*a+(i=a>0?-l:Math.min(Math.max(-l,-h),l))*(i+2*h)+d:i<=s?(a=0,o=(i=Math.min(Math.max(-l,-h),l))*(i+2*h)+d):o=-(a=Math.max(0,-(u*l+c)))*a+(i=a>0?l:Math.min(Math.max(-l,-h),l))*(i+2*h)+d;else i=u>0?-l:l,o=-(a=Math.max(0,-(u*i+c)))*a+i*(i+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(a).add(this.origin),r&&r.copy(la).multiplyScalar(i).add(sa),o}},{key:"intersectSphere",value:function(e,t){oa.subVectors(e.center,this.origin);var n=oa.dot(this.direction),r=oa.dot(oa)-n*n,a=e.radius*e.radius;if(r>a)return null;var i=Math.sqrt(a-r),o=n-i,s=n+i;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,a,i,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),u>=0?(a=(e.min.y-h.y)*u,i=(e.max.y-h.y)*u):(a=(e.max.y-h.y)*u,i=(e.min.y-h.y)*u),n>i||a>r?null:((a>n||isNaN(n))&&(n=a),(i<r||isNaN(r))&&(r=i),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,oa)}},{key:"intersectTriangle",value:function(e,t,n,r,a){ca.subVectors(t,e),ha.subVectors(n,e),da.crossVectors(ca,ha);var i,o=this.direction.dot(da);if(o>0){if(r)return null;i=1}else{if(!(o<0))return null;i=-1,o=-o}ua.subVectors(this.origin,e);var s=i*this.direction.dot(ha.crossVectors(ua,ha));if(s<0)return null;var l=i*this.direction.dot(ca.cross(ua));if(l<0)return null;if(s+l>o)return null;var u=-i*ua.dot(da);return u<0?null:this.at(u/o,a)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),pa=function(){function e(){b(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return S(e,[{key:"set",value:function(e,t,n,r,a,i,o,s,l,u,c,h,d,f,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=a,v[5]=i,v[9]=o,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=h,v[3]=d,v[7]=f,v[11]=p,v[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/ma.setFromMatrixColumn(e,0).length(),a=1/ma.setFromMatrixColumn(e,1).length(),i=1/ma.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*i,t[9]=n[9]*i,t[10]=n[10]*i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,a=e.z,i=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(a),c=Math.sin(a);if("XYZ"===e.order){var h=i*u,d=i*c,f=o*u,p=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=d+f*l,t[5]=h-p*l,t[9]=-o*s,t[2]=p-h*l,t[6]=f+d*l,t[10]=i*s}else if("YXZ"===e.order){var m=s*u,v=s*c,g=l*u,y=l*c;t[0]=m+y*o,t[4]=g*o-v,t[8]=i*l,t[1]=i*c,t[5]=i*u,t[9]=-o,t[2]=v*o-g,t[6]=y+m*o,t[10]=i*s}else if("ZXY"===e.order){var x=s*u,b=s*c,_=l*u,S=l*c;t[0]=x-S*o,t[4]=-i*c,t[8]=_+b*o,t[1]=b+_*o,t[5]=i*u,t[9]=S-x*o,t[2]=-i*l,t[6]=o,t[10]=i*s}else if("ZYX"===e.order){var w=i*u,M=i*c,A=o*u,C=o*c;t[0]=s*u,t[4]=A*l-M,t[8]=w*l+C,t[1]=s*c,t[5]=C*l+w,t[9]=M*l-A,t[2]=-l,t[6]=o*s,t[10]=i*s}else if("YZX"===e.order){var k=i*s,T=i*l,E=o*s,I=o*l;t[0]=s*u,t[4]=I-k*c,t[8]=E*c+T,t[1]=c,t[5]=i*u,t[9]=-o*u,t[2]=-l*u,t[6]=T*c+E,t[10]=k-I*c}else if("XZY"===e.order){var B=i*s,P=i*l,R=o*s,L=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=B*c+L,t[5]=i*u,t[9]=P*c-R,t[2]=R*c-P,t[6]=o*u,t[10]=L*c+B}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(ga,e,ya)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return _a.subVectors(e,t),0===_a.lengthSq()&&(_a.z=1),_a.normalize(),xa.crossVectors(n,_a),0===xa.lengthSq()&&(1===Math.abs(n.z)?_a.x+=1e-4:_a.z+=1e-4,_a.normalize(),xa.crossVectors(n,_a)),xa.normalize(),ba.crossVectors(_a,xa),r[0]=xa.x,r[4]=ba.x,r[8]=_a.x,r[1]=xa.y,r[5]=ba.y,r[9]=_a.y,r[2]=xa.z,r[6]=ba.z,r[10]=_a.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,a=this.elements,i=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],x=n[11],b=n[15],_=r[0],S=r[4],w=r[8],M=r[12],A=r[1],C=r[5],k=r[9],T=r[13],E=r[2],I=r[6],B=r[10],P=r[14],R=r[3],L=r[7],D=r[11],F=r[15];return a[0]=i*_+o*A+s*E+l*R,a[4]=i*S+o*C+s*I+l*L,a[8]=i*w+o*k+s*B+l*D,a[12]=i*M+o*T+s*P+l*F,a[1]=u*_+c*A+h*E+d*R,a[5]=u*S+c*C+h*I+d*L,a[9]=u*w+c*k+h*B+d*D,a[13]=u*M+c*T+h*P+d*F,a[2]=f*_+p*A+m*E+v*R,a[6]=f*S+p*C+m*I+v*L,a[10]=f*w+p*k+m*B+v*D,a[14]=f*M+p*T+m*P+v*F,a[3]=g*_+y*A+x*E+b*R,a[7]=g*S+y*C+x*I+b*L,a[11]=g*w+y*k+x*B+b*D,a[15]=g*M+y*T+x*P+b*F,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],a=e[12],i=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],d=e[14];return e[3]*(+a*s*c-r*l*c-a*o*h+n*l*h+r*o*d-n*s*d)+e[7]*(+t*s*d-t*l*h+a*i*h-r*i*d+r*l*u-a*s*u)+e[11]*(+t*l*c-t*o*d-a*i*c+n*i*d+a*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*h+r*i*c-n*i*h+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],v=e[15],g=c*m*l-p*h*l+p*s*d-o*m*d-c*s*v+o*h*v,y=f*h*l-u*m*l-f*s*d+i*m*d+u*s*v-i*h*v,x=u*p*l-f*c*l+f*o*d-i*p*d-u*o*v+i*c*v,b=f*c*s-u*p*s-f*o*h+i*p*h+u*o*m-i*c*m,_=t*g+n*y+r*x+a*b;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var S=1/_;return e[0]=g*S,e[1]=(p*h*a-c*m*a-p*r*d+n*m*d+c*r*v-n*h*v)*S,e[2]=(o*m*a-p*s*a+p*r*l-n*m*l-o*r*v+n*s*v)*S,e[3]=(c*s*a-o*h*a-c*r*l+n*h*l+o*r*d-n*s*d)*S,e[4]=y*S,e[5]=(u*m*a-f*h*a+f*r*d-t*m*d-u*r*v+t*h*v)*S,e[6]=(f*s*a-i*m*a-f*r*l+t*m*l+i*r*v-t*s*v)*S,e[7]=(i*h*a-u*s*a+u*r*l-t*h*l-i*r*d+t*s*d)*S,e[8]=x*S,e[9]=(f*c*a-u*p*a-f*n*d+t*p*d+u*n*v-t*c*v)*S,e[10]=(i*p*a-f*o*a+f*n*l-t*p*l-i*n*v+t*o*v)*S,e[11]=(u*o*a-i*c*a-u*n*l+t*c*l+i*n*d-t*o*d)*S,e[12]=b*S,e[13]=(u*p*r-f*c*r+f*n*h-t*p*h-u*n*m+t*c*m)*S,e[14]=(f*o*r-i*p*r-f*n*s+t*p*s+i*n*m-t*o*m)*S,e[15]=(i*c*r-u*o*r+u*n*s-t*c*s-i*n*h+t*o*h)*S,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,a=e.z;return t[0]*=n,t[4]*=r,t[8]*=a,t[1]*=n,t[5]*=r,t[9]*=a,t[2]*=n,t[6]*=r,t[10]*=a,t[3]*=n,t[7]*=r,t[11]*=a,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),a=1-n,i=e.x,o=e.y,s=e.z,l=a*i,u=a*o;return this.set(l*i+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*i,0,l*s-r*o,u*s+r*i,a*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,a,i){return this.set(1,n,a,0,e,1,i,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,a=t._x,i=t._y,o=t._z,s=t._w,l=a+a,u=i+i,c=o+o,h=a*l,d=a*u,f=a*c,p=i*u,m=i*c,v=o*c,g=s*l,y=s*u,x=s*c,b=n.x,_=n.y,S=n.z;return r[0]=(1-(p+v))*b,r[1]=(d+x)*b,r[2]=(f-y)*b,r[3]=0,r[4]=(d-x)*_,r[5]=(1-(h+v))*_,r[6]=(m+g)*_,r[7]=0,r[8]=(f+y)*S,r[9]=(m-g)*S,r[10]=(1-(h+p))*S,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,a=ma.set(r[0],r[1],r[2]).length(),i=ma.set(r[4],r[5],r[6]).length(),o=ma.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],va.copy(this);var s=1/a,l=1/i,u=1/o;return va.elements[0]*=s,va.elements[1]*=s,va.elements[2]*=s,va.elements[4]*=l,va.elements[5]*=l,va.elements[6]*=l,va.elements[8]*=u,va.elements[9]*=u,va.elements[10]*=u,t.setFromRotationMatrix(va),n.x=a,n.y=i,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,a,i){var o=this.elements,s=2*a/(t-e),l=2*a/(n-r),u=(t+e)/(t-e),c=(n+r)/(n-r),h=-(i+a)/(i-a),d=-2*i*a/(i-a);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,a,i){var o=this.elements,s=1/(t-e),l=1/(n-r),u=1/(i-a),c=(t+e)*s,h=(n+r)*l,d=(i+a)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),ma=new qr,va=new pa,ga=new qr(0,0,0),ya=new qr(1,1,1),xa=new qr,ba=new qr,_a=new qr,Sa=new pa,wa=new Ur,Ma=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DefaultOrder;b(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=a}return S(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,a=r[0],i=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(Zn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-i,a)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Zn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,a),this._z=0);break;case"ZXY":this._x=Math.asin(Zn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-i,l)):(this._y=0,this._z=Math.atan2(s,a));break;case"ZYX":this._y=Math.asin(-Zn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,a)):(this._x=0,this._z=Math.atan2(-i,l));break;case"YZX":this._z=Math.asin(Zn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,a)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-Zn(i,-1,1)),Math.abs(i)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return Sa.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Sa,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return wa.setFromEuler(this),this.setFromQuaternion(wa,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))},{key:"toVector3",value:function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}]),t}();Ma.DefaultOrder="XYZ",Ma.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Aa=function(){function e(){b(this,e),this.mask=1}return S(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),Ca=0,ka=new qr,Ta=new Ur,Ea=new pa,Ia=new qr,Ba=new qr,Pa=new qr,Ra=new Ur,La=new qr(1,0,0),Da=new qr(0,1,0),Fa=new qr(0,0,1),Ua={type:"added"},qa={type:"removed"},Oa=function(e){w(n,e);var t=T(n);function n(){var e;b(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty(C(e),"id",{value:Ca++}),e.uuid=Qn(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DefaultUp.clone();var r=new qr,a=new Ma,i=new Ur,o=new qr(1,1,1);return a._onChange((function(){i.setFromEuler(a,!1)})),i._onChange((function(){a.setFromQuaternion(i,void 0,!1)})),Object.defineProperties(C(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:a},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new pa},normalMatrix:{value:new lr}}),e.matrix=new pa,e.matrixWorld=new pa,e.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DefaultMatrixWorldAutoUpdate,e.layers=new Aa,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return S(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return Ta.setFromAxisAngle(e,t),this.quaternion.multiply(Ta),this}},{key:"rotateOnWorldAxis",value:function(e,t){return Ta.setFromAxisAngle(e,t),this.quaternion.premultiply(Ta),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(La,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(Da,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Fa,e)}},{key:"translateOnAxis",value:function(e,t){return ka.copy(e).applyQuaternion(this.quaternion),this.position.add(ka.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(La,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(Da,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Fa,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(Ea.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Ia.copy(e):Ia.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Ba.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ea.lookAt(Ba,Ia,this.up):Ea.lookAt(Ia,Ba,this.up),this.quaternion.setFromRotationMatrix(Ea),r&&(Ea.extractRotation(r.matrixWorld),Ta.setFromRotationMatrix(Ea),this.quaternion.premultiply(Ta.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Ua)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(qa)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(qa)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Ea.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Ea.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ea),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var a=this.children[n].getObjectByProperty(e,t);if(void 0!==a)return a}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ba,e,Pa),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ba,Ra,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var a=t[n];!0!==a.matrixWorldAutoUpdate&&!0!==e||a.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,a=0,i=r.length;a<i;a++){var o=r[a];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function a(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);var i=this.geometry.parameters;if(void 0!==i&&void 0!==i.shapes){var o=i.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];a(e.shapes,u)}else a(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,d=this.material.length;h<d;h++)c.push(a(e.materials,this.material[h]));r.material=c}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(var f=0;f<this.children.length;f++)r.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var m=this.animations[p];r.animations.push(a(e.animations,m))}}if(t){var v=M(e.geometries),g=M(e.materials),y=M(e.textures),x=M(e.images),b=M(e.shapes),_=M(e.skeletons),S=M(e.animations),w=M(e.nodes);v.length>0&&(n.geometries=v),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),x.length>0&&(n.images=x),b.length>0&&(n.shapes=b),_.length>0&&(n.skeletons=_),S.length>0&&(n.animations=S),w.length>0&&(n.nodes=w)}return n.object=r,n;function M(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(Wn);Oa.DefaultUp=new qr(0,1,0),Oa.DefaultMatrixAutoUpdate=!0,Oa.DefaultMatrixWorldAutoUpdate=!0;var za=new qr,Na=new qr,Ga=new qr,ja=new qr,Ha=new qr,Va=new qr,Wa=new qr,Ja=new qr,Xa=new qr,Ka=new qr,Ya=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qr,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new qr;b(this,e),this.a=t,this.b=n,this.c=r}return S(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return za.subVectors(this.c,this.b),Na.subVectors(this.a,this.b),.5*za.cross(Na).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,a,i){return e.getUV(t,this.a,this.b,this.c,n,r,a,i)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,a=this.a,i=this.b,o=this.c;Ha.subVectors(i,a),Va.subVectors(o,a),Ja.subVectors(e,a);var s=Ha.dot(Ja),l=Va.dot(Ja);if(s<=0&&l<=0)return t.copy(a);Xa.subVectors(e,i);var u=Ha.dot(Xa),c=Va.dot(Xa);if(u>=0&&c<=u)return t.copy(i);var h=s*c-u*l;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(a).addScaledVector(Ha,n);Ka.subVectors(e,o);var d=Ha.dot(Ka),f=Va.dot(Ka);if(f>=0&&d<=f)return t.copy(o);var p=d*l-s*f;if(p<=0&&l>=0&&f<=0)return r=l/(l-f),t.copy(a).addScaledVector(Va,r);var m=u*f-d*c;if(m<=0&&c-u>=0&&d-f>=0)return Wa.subVectors(o,i),r=(c-u)/(c-u+(d-f)),t.copy(i).addScaledVector(Wa,r);var v=1/(m+p+h);return n=p*v,r=h*v,t.copy(a).addScaledVector(Ha,n).addScaledVector(Va,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),za.subVectors(e,t),r.cross(za);var a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,a){za.subVectors(r,t),Na.subVectors(n,t),Ga.subVectors(e,t);var i=za.dot(za),o=za.dot(Na),s=za.dot(Ga),l=Na.dot(Na),u=Na.dot(Ga),c=i*l-o*o;if(0===c)return a.set(-2,-1,-1);var h=1/c,d=(l*s-o*u)*h,f=(i*u-o*s)*h;return a.set(1-d-f,f,d)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,ja),ja.x>=0&&ja.y>=0&&ja.x+ja.y<=1}},{key:"getUV",value:function(e,t,n,r,a,i,o,s){return this.getBarycoord(e,t,n,r,ja),s.set(0,0),s.addScaledVector(a,ja.x),s.addScaledVector(i,ja.y),s.addScaledVector(o,ja.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return za.subVectors(n,t),Na.subVectors(e,t),za.cross(Na).dot(r)<0}}]),e}(),Qa=0,Za=function(e){w(n,e);var t=T(n);function n(){var e;return b(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty(C(e),"id",{value:Qa++}),e.uuid=Qn(),e.name="",e.type="Material",e.blending=Y,e.side=W,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=ce,e.blendDst=he,e.blendEquation=te,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=be,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=Rn,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=xn,e.stencilZFail=xn,e.stencilZPass=xn,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return S(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Y&&(n.blending=this.blending),this.side!==W&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var a=r(e.textures),i=r(e.images);a.length>0&&(n.textures=a),i.length>0&&(n.images=i)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var a=0;a!==r;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(Wn),$a=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new Mr(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=Ae,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(Za),ei=new qr,ti=new sr,ni=function(){function e(t,n,r){if(b(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=!0===r,this.usage=Ln,this.updateRange={offset:0,count:-1},this.version=0}return S(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)ti.fromBufferAttribute(this,t),ti.applyMatrix3(e),this.setXY(t,ti.x,ti.y);else if(3===this.itemSize)for(var r=0,a=this.count;r<a;r++)ei.fromBufferAttribute(this,r),ei.applyMatrix3(e),this.setXYZ(r,ei.x,ei.y,ei.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)ei.fromBufferAttribute(this,t),ei.applyMatrix4(e),this.setXYZ(t,ei.x,ei.y,ei.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)ei.fromBufferAttribute(this,t),ei.applyNormalMatrix(e),this.setXYZ(t,ei.x,ei.y,ei.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)ei.fromBufferAttribute(this,t),ei.transformDirection(e),this.setXYZ(t,ei.x,ei.y,ei.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=ar(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=ar(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=ar(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=ar(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=ir(t,this.array),n=ir(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=ir(t,this.array),n=ir(n,this.array),r=ir(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,a){return e*=this.itemSize,this.normalized&&(t=ir(t,this.array),n=ir(n,this.array),r=ir(r,this.array),a=ir(a,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=a,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Ln&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}},{key:"copyColorsArray",value:function(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}},{key:"copyVector2sArray",value:function(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}},{key:"copyVector3sArray",value:function(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}},{key:"copyVector4sArray",value:function(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}]),e}(),ri=function(e){w(n,e);var t=T(n);function n(e,r,a){return b(this,n),t.call(this,new Int8Array(e),r,a)}return S(n)}(ni),ai=function(e){w(n,e);var t=T(n);function n(e,r,a){return b(this,n),t.call(this,new Uint8Array(e),r,a)}return S(n)}(ni),ii=function(e){w(n,e);var t=T(n);function n(e,r,a){return b(this,n),t.call(this,new Uint8ClampedArray(e),r,a)}return S(n)}(ni),oi=function(e){w(n,e);var t=T(n);function n(e,r,a){return b(this,n),t.call(this,new Int16Array(e),r,a)}return S(n)}(ni),si=function(e){w(n,e);var t=T(n);function n(e,r,a){return b(this,n),t.call(this,new Uint16Array(e),r,a)}return S(n)}(ni),li=function(e){w(n,e);var t=T(n);function n(e,r,a){return b(this,n),t.call(this,new Int32Array(e),r,a)}return S(n)}(ni),ui=function(e){w(n,e);var t=T(n);function n(e,r,a){return b(this,n),t.call(this,new Uint32Array(e),r,a)}return S(n)}(ni),ci=function(e){w(n,e);var t=T(n);function n(e,r,a){var i;return b(this,n),(i=t.call(this,new Uint16Array(e),r,a)).isFloat16BufferAttribute=!0,i}return S(n)}(ni),hi=function(e){w(n,e);var t=T(n);function n(e,r,a){return b(this,n),t.call(this,new Float32Array(e),r,a)}return S(n)}(ni),di=function(e){w(n,e);var t=T(n);function n(e,r,a){return b(this,n),t.call(this,new Float64Array(e),r,a)}return S(n)}(ni),fi=0,pi=new pa,mi=new Oa,vi=new qr,gi=new Nr,yi=new Nr,xi=new qr,bi=function(e){w(n,e);var t=T(n);function n(){var e;return b(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty(C(e),"id",{value:fi++}),e.uuid=Qn(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return S(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(ur(e)?ui:si)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new lr).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var a=this.attributes.tangent;return void 0!==a&&(a.transformDirection(e),a.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return pi.makeRotationFromQuaternion(e),this.applyMatrix4(pi),this}},{key:"rotateX",value:function(e){return pi.makeRotationX(e),this.applyMatrix4(pi),this}},{key:"rotateY",value:function(e){return pi.makeRotationY(e),this.applyMatrix4(pi),this}},{key:"rotateZ",value:function(e){return pi.makeRotationZ(e),this.applyMatrix4(pi),this}},{key:"translate",value:function(e,t,n){return pi.makeTranslation(e,t,n),this.applyMatrix4(pi),this}},{key:"scale",value:function(e,t,n){return pi.makeScale(e,t,n),this.applyMatrix4(pi),this}},{key:"lookAt",value:function(e){return mi.lookAt(e),mi.updateMatrix(),this.applyMatrix4(mi.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(vi).negate(),this.translate(vi.x,vi.y,vi.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var a=e[n];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new hi(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Nr);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new qr(-1/0,-1/0,-1/0),new qr(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var a=t[n];gi.setFromBufferAttribute(a),this.morphTargetsRelative?(xi.addVectors(this.boundingBox.min,gi.min),this.boundingBox.expandByPoint(xi),xi.addVectors(this.boundingBox.max,gi.max),this.boundingBox.expandByPoint(xi)):(this.boundingBox.expandByPoint(gi.min),this.boundingBox.expandByPoint(gi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new ia);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new qr,1/0);if(e){var n=this.boundingSphere.center;if(gi.setFromBufferAttribute(e),t)for(var r=0,a=t.length;r<a;r++){var i=t[r];yi.setFromBufferAttribute(i),this.morphTargetsRelative?(xi.addVectors(gi.min,yi.min),gi.expandByPoint(xi),xi.addVectors(gi.max,yi.max),gi.expandByPoint(xi)):(gi.expandByPoint(yi.min),gi.expandByPoint(yi.max))}gi.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)xi.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(xi));if(t)for(var u=0,c=t.length;u<c;u++)for(var h=t[u],d=this.morphTargetsRelative,f=0,p=h.count;f<p;f++)xi.fromBufferAttribute(h,f),d&&(vi.fromBufferAttribute(e,f),xi.add(vi)),o=Math.max(o,n.distanceToSquared(xi));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,a=t.normal.array,i=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ni(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<o;c++)l[c]=new qr,u[c]=new qr;var h=new qr,d=new qr,f=new qr,p=new sr,m=new sr,v=new sr,g=new qr,y=new qr,x=this.groups;0===x.length&&(x=[{start:0,count:n.length}]);for(var b=0,_=x.length;b<_;++b)for(var S=x[b],w=S.start,M=w,A=w+S.count;M<A;M+=3)F(n[M+0],n[M+1],n[M+2]);for(var C=new qr,k=new qr,T=new qr,E=new qr,I=0,B=x.length;I<B;++I)for(var P=x[I],R=P.start,L=R,D=R+P.count;L<D;L+=3)U(n[L+0]),U(n[L+1]),U(n[L+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function F(e,t,n){h.fromArray(r,3*e),d.fromArray(r,3*t),f.fromArray(r,3*n),p.fromArray(i,2*e),m.fromArray(i,2*t),v.fromArray(i,2*n),d.sub(h),f.sub(h),m.sub(p),v.sub(p);var a=1/(m.x*v.y-v.x*m.y);isFinite(a)&&(g.copy(d).multiplyScalar(v.y).addScaledVector(f,-m.y).multiplyScalar(a),y.copy(f).multiplyScalar(m.x).addScaledVector(d,-v.x).multiplyScalar(a),l[e].add(g),l[t].add(g),l[n].add(g),u[e].add(y),u[t].add(y),u[n].add(y))}function U(e){T.fromArray(a,3*e),E.copy(T);var t=l[e];C.copy(t),C.sub(T.multiplyScalar(T.dot(t))).normalize(),k.crossVectors(E,t);var n=k.dot(u[e])<0?-1:1;s[4*e]=C.x,s[4*e+1]=C.y,s[4*e+2]=C.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new ni(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,a=n.count;r<a;r++)n.setXYZ(r,0,0,0);var i=new qr,o=new qr,s=new qr,l=new qr,u=new qr,c=new qr,h=new qr,d=new qr;if(e)for(var f=0,p=e.count;f<p;f+=3){var m=e.getX(f+0),v=e.getX(f+1),g=e.getX(f+2);i.fromBufferAttribute(t,m),o.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),h.subVectors(s,o),d.subVectors(i,o),h.cross(d),l.fromBufferAttribute(n,m),u.fromBufferAttribute(n,v),c.fromBufferAttribute(n,g),l.add(h),u.add(h),c.add(h),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,x=t.count;y<x;y+=3)i.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),h.subVectors(s,o),d.subVectors(i,o),h.cross(d),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)xi.fromBufferAttribute(e,t),xi.normalize(),e.setXYZ(t,xi.x,xi.y,xi.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,a=e.normalized,i=new n.constructor(t.length*r),o=0,s=0,l=0,u=t.length;l<u;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(var c=0;c<r;c++)i[s++]=n[o++]}return new ni(i,r,a)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,a=this.attributes;for(var i in a){var o=e(a[i],r);t.setAttribute(i,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],h=0,d=c.length;h<d;h++){var f=e(c[h],r);u.push(f)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,m=0,v=p.length;m<v;m++){var g=p[m];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var a=this.attributes;for(var i in a){var o=a[i];e.data.attributes[i]=o.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],h=[],d=0,f=c.length;d<f;d++){var p=c[d];h.push(p.toJSON(e.data))}h.length>0&&(s[u]=h,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var m=this.groups;m.length>0&&(e.data.groups=JSON.parse(JSON.stringify(m)));var v=this.boundingSphere;return null!==v&&(e.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var a in r){var i=r[a];this.setAttribute(a,i.clone(t))}var o=e.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,h=u.length;c<h;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,f=0,p=d.length;f<p;f++){var m=d[f];this.addGroup(m.start,m.count,m.materialIndex)}var v=e.boundingBox;null!==v&&(this.boundingBox=v.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Wn),_i=new pa,Si=new fa,wi=new ia,Mi=new qr,Ai=new qr,Ci=new qr,ki=new qr,Ti=new qr,Ei=new qr,Ii=new qr,Bi=new qr,Pi=new qr,Ri=new sr,Li=new sr,Di=new sr,Fi=new qr,Ui=new qr,qi=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bi,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $a;return b(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=a,e.updateMorphTargets(),e}return S(n,[{key:"copy",value:function(e,t){return R(M(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=n.length;r<a;r++){var i=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=r}}}}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,a=this.matrixWorld;if(void 0!==r&&(null===n.boundingSphere&&n.computeBoundingSphere(),wi.copy(n.boundingSphere),wi.applyMatrix4(a),!1!==e.ray.intersectsSphere(wi)&&(_i.copy(a).invert(),Si.copy(e.ray).applyMatrix4(_i),null===n.boundingBox||!1!==Si.intersectsBox(n.boundingBox)))){var i,o=n.index,s=n.attributes.position,l=n.morphAttributes.position,u=n.morphTargetsRelative,c=n.attributes.uv,h=n.attributes.uv2,d=n.groups,f=n.drawRange;if(null!==o)if(Array.isArray(r))for(var p=0,m=d.length;p<m;p++)for(var v=d[p],g=r[v.materialIndex],y=Math.max(v.start,f.start),x=Math.min(o.count,Math.min(v.start+v.count,f.start+f.count));y<x;y+=3){var b=o.getX(y),_=o.getX(y+1),S=o.getX(y+2);(i=Oi(this,g,e,Si,s,l,u,c,h,b,_,S))&&(i.faceIndex=Math.floor(y/3),i.face.materialIndex=v.materialIndex,t.push(i))}else for(var w=Math.max(0,f.start),M=Math.min(o.count,f.start+f.count);w<M;w+=3){var A=o.getX(w),C=o.getX(w+1),k=o.getX(w+2);(i=Oi(this,r,e,Si,s,l,u,c,h,A,C,k))&&(i.faceIndex=Math.floor(w/3),t.push(i))}else if(void 0!==s)if(Array.isArray(r))for(var T=0,E=d.length;T<E;T++)for(var I=d[T],B=r[I.materialIndex],P=Math.max(I.start,f.start),R=Math.min(s.count,Math.min(I.start+I.count,f.start+f.count));P<R;P+=3){(i=Oi(this,B,e,Si,s,l,u,c,h,P,P+1,P+2))&&(i.faceIndex=Math.floor(P/3),i.face.materialIndex=I.materialIndex,t.push(i))}else for(var L=Math.max(0,f.start),D=Math.min(s.count,f.start+f.count);L<D;L+=3){(i=Oi(this,r,e,Si,s,l,u,c,h,L,L+1,L+2))&&(i.faceIndex=Math.floor(L/3),t.push(i))}}}}]),n}(Oa);function Oi(e,t,n,r,a,i,o,s,l,u,c,h){Mi.fromBufferAttribute(a,u),Ai.fromBufferAttribute(a,c),Ci.fromBufferAttribute(a,h);var d=e.morphTargetInfluences;if(i&&d){Ii.set(0,0,0),Bi.set(0,0,0),Pi.set(0,0,0);for(var f=0,p=i.length;f<p;f++){var m=d[f],v=i[f];0!==m&&(ki.fromBufferAttribute(v,u),Ti.fromBufferAttribute(v,c),Ei.fromBufferAttribute(v,h),o?(Ii.addScaledVector(ki,m),Bi.addScaledVector(Ti,m),Pi.addScaledVector(Ei,m)):(Ii.addScaledVector(ki.sub(Mi),m),Bi.addScaledVector(Ti.sub(Ai),m),Pi.addScaledVector(Ei.sub(Ci),m)))}Mi.add(Ii),Ai.add(Bi),Ci.add(Pi)}e.isSkinnedMesh&&(e.boneTransform(u,Mi),e.boneTransform(c,Ai),e.boneTransform(h,Ci));var g=function(e,t,n,r,a,i,o,s){if(null===(t.side===J?r.intersectTriangle(o,i,a,!0,s):r.intersectTriangle(a,i,o,t.side!==X,s)))return null;Ui.copy(s),Ui.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(Ui);return l<n.near||l>n.far?null:{distance:l,point:Ui.clone(),object:e}}(e,t,n,r,Mi,Ai,Ci,Fi);if(g){s&&(Ri.fromBufferAttribute(s,u),Li.fromBufferAttribute(s,c),Di.fromBufferAttribute(s,h),g.uv=Ya.getUV(Fi,Mi,Ai,Ci,Ri,Li,Di,new sr)),l&&(Ri.fromBufferAttribute(l,u),Li.fromBufferAttribute(l,c),Di.fromBufferAttribute(l,h),g.uv2=Ya.getUV(Fi,Mi,Ai,Ci,Ri,Li,Di,new sr));var y={a:u,b:c,c:h,normal:new qr,materialIndex:0};Ya.getNormal(Mi,Ai,Ci,y.normal),g.face=y}return g}var zi=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;b(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:a,depth:i,widthSegments:o,heightSegments:s,depthSegments:l};var u=C(e);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var c=[],h=[],d=[],f=[],p=0,m=0;function v(e,t,n,r,a,i,o,s,l,v,g){for(var y=i/l,x=o/v,b=i/2,_=o/2,S=s/2,w=l+1,M=v+1,A=0,C=0,k=new qr,T=0;T<M;T++)for(var E=T*x-_,I=0;I<w;I++){var B=I*y-b;k[e]=B*r,k[t]=E*a,k[n]=S,h.push(k.x,k.y,k.z),k[e]=0,k[t]=0,k[n]=s>0?1:-1,d.push(k.x,k.y,k.z),f.push(I/l),f.push(1-T/v),A+=1}for(var P=0;P<v;P++)for(var R=0;R<l;R++){var L=p+R+w*P,D=p+R+w*(P+1),F=p+(R+1)+w*(P+1),U=p+(R+1)+w*P;c.push(L,D,U),c.push(D,F,U),C+=6}u.addGroup(m,C,g),m+=C,p+=A}return v("z","y","x",-1,-1,i,a,r,l,s,0),v("z","y","x",1,-1,i,a,-r,l,s,1),v("x","z","y",1,1,r,i,a,o,l,2),v("x","z","y",1,-1,r,i,-a,o,l,3),v("x","y","z",1,-1,r,a,i,o,s,4),v("x","y","z",-1,-1,r,a,-i,o,s,5),e.setIndex(c),e.setAttribute("position",new hi(h,3)),e.setAttribute("normal",new hi(d,3)),e.setAttribute("uv",new hi(f,2)),e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(bi);function Ni(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var a=e[n][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?t[n][r]=a.clone():Array.isArray(a)?t[n][r]=a.slice():t[n][r]=a}return t}function Gi(e){for(var t={},n=0;n<e.length;n++){var r=Ni(e[n]);for(var a in r)t[a]=r[a]}return t}var ji={clone:Ni,merge:Gi},Hi=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ni(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=R(M(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}]),n}(Za),Vi=function(e){w(n,e);var t=T(n);function n(){var e;return b(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new pa,e.projectionMatrix=new pa,e.projectionMatrixInverse=new pa,e}return S(n,[{key:"copy",value:function(e,t){return R(M(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){R(M(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){R(M(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Oa),Wi=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return b(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=i,e.far=o,e.focus=10,e.aspect=a,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return S(n,[{key:"copy",value:function(e,t){return R(M(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Yn*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Kn*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*Yn*Math.atan(Math.tan(.5*Kn*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,a,i){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=i,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*Kn*this.fov)/this.zoom,n=2*t,r=this.aspect*n,a=-.5*r,i=this.view;if(null!==this.view&&this.view.enabled){var o=i.fullWidth,s=i.fullHeight;a+=i.offsetX*r/o,t-=i.offsetY*n/s,r*=i.width/o,n*=i.height/s}var l=this.filmOffset;0!==l&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=R(M(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(Vi),Ji=90,Xi=function(e){w(n,e);var t=T(n);function n(e,r,a){var i;b(this,n),(i=t.call(this)).type="CubeCamera",i.renderTarget=a;var o=new Wi(Ji,1,e,r);o.layers=i.layers,o.up.set(0,-1,0),o.lookAt(new qr(1,0,0)),i.add(o);var s=new Wi(Ji,1,e,r);s.layers=i.layers,s.up.set(0,-1,0),s.lookAt(new qr(-1,0,0)),i.add(s);var l=new Wi(Ji,1,e,r);l.layers=i.layers,l.up.set(0,0,1),l.lookAt(new qr(0,1,0)),i.add(l);var u=new Wi(Ji,1,e,r);u.layers=i.layers,u.up.set(0,0,-1),u.lookAt(new qr(0,-1,0)),i.add(u);var c=new Wi(Ji,1,e,r);c.layers=i.layers,c.up.set(0,-1,0),c.lookAt(new qr(0,0,1)),i.add(c);var h=new Wi(Ji,1,e,r);return h.layers=i.layers,h.up.set(0,-1,0),h.lookAt(new qr(0,0,-1)),i.add(h),i}return S(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=u(this.children,6),a=r[0],i=r[1],o=r[2],s=r[3],l=r[4],c=r[5],h=e.getRenderTarget(),d=e.toneMapping,f=e.xr.enabled;e.toneMapping=Te,e.xr.enabled=!1;var p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,a),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(h),e.toneMapping=d,e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}]),n}(Oa),Ki=function(e){w(n,e);var t=T(n);function n(e,r,a,i,o,s,l,u,c,h){var d;return b(this,n),e=void 0!==e?e:[],r=void 0!==r?r:De,(d=t.call(this,e,r,a,i,o,s,l,u,c,h)).isCubeTexture=!0,d.flipY=!1,d}return S(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(Er),Yi=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(this,n),(e=t.call(this,r,r,a)).isWebGLCubeRenderTarget=!0;var i={width:r,height:r,depth:1},o=[i,i,i,i,i,i];return e.texture=new Ki(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,e.texture.minFilter=void 0!==a.minFilter?a.minFilter:Xe,e}return S(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",a="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new zi(5,5,5),o=new Hi({name:"CubemapFromEquirect",uniforms:Ni(n),vertexShader:r,fragmentShader:a,side:J,blending:K});o.uniforms.tEquirect.value=t;var s=new qi(i,o),l=t.minFilter;return t.minFilter===Qe&&(t.minFilter=Xe),new Xi(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var a=e.getRenderTarget(),i=0;i<6;i++)e.setRenderTarget(this,i),e.clear(t,n,r);e.setRenderTarget(a)}}]),n}(Br),Qi=new qr,Zi=new qr,$i=new lr,eo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qr(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;b(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return S(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=Qi.subVectors(n,t).cross(Zi.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(Qi),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(n).multiplyScalar(a).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||$i.getNormalMatrix(e),r=this.coplanarPoint(Qi).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(a),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),to=new ia,no=new qr,ro=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new eo,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new eo,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new eo,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new eo,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new eo,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new eo;b(this,e),this.planes=[t,n,r,a,i,o]}return S(e,[{key:"set",value:function(e,t,n,r,a,i){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(a),o[5].copy(i),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(o-r,c-s,p-h,y-m).normalize(),t[1].setComponents(o+r,c+s,p+h,y+m).normalize(),t[2].setComponents(o+a,c+l,p+d,y+v).normalize(),t[3].setComponents(o-a,c-l,p-d,y-v).normalize(),t[4].setComponents(o-i,c-u,p-f,y-g).normalize(),t[5].setComponents(o+i,c+u,p+f,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),to.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(to)}},{key:"intersectsSprite",value:function(e){return to.center.set(0,0,0),to.radius=.7071067811865476,to.applyMatrix4(e.matrixWorld),this.intersectsSphere(to)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,a=0;a<6;a++){if(t[a].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(no.x=r.normal.x>0?e.max.x:e.min.x,no.y=r.normal.y>0?e.max.y:e.min.y,no.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(no)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function ao(){var e=null,t=!1,n=null,r=null;function a(t,i){n(t,i),r=e.requestAnimationFrame(a)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(a),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function io(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,a){if(t.isGLBufferAttribute){var i=r.get(t);(!i||i.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var a,i=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,i,o),t.onUploadCallback(),i instanceof Float32Array)a=5126;else if(i instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");a=5131}else a=5123;else if(i instanceof Int16Array)a=5122;else if(i instanceof Uint32Array)a=5125;else if(i instanceof Int32Array)a=5124;else if(i instanceof Int8Array)a=5120;else if(i instanceof Uint8Array)a=5121;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);a=5121}return{buffer:s,type:a,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,a)):o.version<t.version&&(!function(t,r,a){var i=r.array,o=r.updateRange;e.bindBuffer(a,t),-1===o.count?e.bufferSubData(a,0,i):(n?e.bufferSubData(a,o.offset*i.BYTES_PER_ELEMENT,i,o.offset,o.count):e.bufferSubData(a,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,t,a),o.version=t.version)}}}}var oo=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;b(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:a,widthSegments:i,heightSegments:o};for(var s=r/2,l=a/2,u=Math.floor(i),c=Math.floor(o),h=u+1,d=c+1,f=r/u,p=a/c,m=[],v=[],g=[],y=[],x=0;x<d;x++)for(var _=x*p-l,S=0;S<h;S++){var w=S*f-s;v.push(w,-_,0),g.push(0,0,1),y.push(S/u),y.push(1-x/c)}for(var M=0;M<c;M++)for(var A=0;A<u;A++){var C=A+h*M,k=A+h*(M+1),T=A+1+h*(M+1),E=A+1+h*M;m.push(C,k,E),m.push(k,T,E)}return e.setIndex(m),e.setAttribute("position",new hi(v,3)),e.setAttribute("normal",new hi(g,3)),e.setAttribute("uv",new hi(y,2)),e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(bi),so={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert\n#define Material_LightProbeLOD( material )\t(0)",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},lo={common:{diffuse:{value:new Mr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new lr},uv2Transform:{value:new lr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new sr(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Mr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new lr}},sprite:{diffuse:{value:new Mr(16777215)},opacity:{value:1},center:{value:new sr(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new lr}}},uo={basic:{uniforms:Gi([lo.common,lo.specularmap,lo.envmap,lo.aomap,lo.lightmap,lo.fog]),vertexShader:so.meshbasic_vert,fragmentShader:so.meshbasic_frag},lambert:{uniforms:Gi([lo.common,lo.specularmap,lo.envmap,lo.aomap,lo.lightmap,lo.emissivemap,lo.bumpmap,lo.normalmap,lo.displacementmap,lo.fog,lo.lights,{emissive:{value:new Mr(0)}}]),vertexShader:so.meshlambert_vert,fragmentShader:so.meshlambert_frag},phong:{uniforms:Gi([lo.common,lo.specularmap,lo.envmap,lo.aomap,lo.lightmap,lo.emissivemap,lo.bumpmap,lo.normalmap,lo.displacementmap,lo.fog,lo.lights,{emissive:{value:new Mr(0)},specular:{value:new Mr(1118481)},shininess:{value:30}}]),vertexShader:so.meshphong_vert,fragmentShader:so.meshphong_frag},standard:{uniforms:Gi([lo.common,lo.envmap,lo.aomap,lo.lightmap,lo.emissivemap,lo.bumpmap,lo.normalmap,lo.displacementmap,lo.roughnessmap,lo.metalnessmap,lo.fog,lo.lights,{emissive:{value:new Mr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:so.meshphysical_vert,fragmentShader:so.meshphysical_frag},toon:{uniforms:Gi([lo.common,lo.aomap,lo.lightmap,lo.emissivemap,lo.bumpmap,lo.normalmap,lo.displacementmap,lo.gradientmap,lo.fog,lo.lights,{emissive:{value:new Mr(0)}}]),vertexShader:so.meshtoon_vert,fragmentShader:so.meshtoon_frag},matcap:{uniforms:Gi([lo.common,lo.bumpmap,lo.normalmap,lo.displacementmap,lo.fog,{matcap:{value:null}}]),vertexShader:so.meshmatcap_vert,fragmentShader:so.meshmatcap_frag},points:{uniforms:Gi([lo.points,lo.fog]),vertexShader:so.points_vert,fragmentShader:so.points_frag},dashed:{uniforms:Gi([lo.common,lo.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:so.linedashed_vert,fragmentShader:so.linedashed_frag},depth:{uniforms:Gi([lo.common,lo.displacementmap]),vertexShader:so.depth_vert,fragmentShader:so.depth_frag},normal:{uniforms:Gi([lo.common,lo.bumpmap,lo.normalmap,lo.displacementmap,{opacity:{value:1}}]),vertexShader:so.meshnormal_vert,fragmentShader:so.meshnormal_frag},sprite:{uniforms:Gi([lo.sprite,lo.fog]),vertexShader:so.sprite_vert,fragmentShader:so.sprite_frag},background:{uniforms:{uvTransform:{value:new lr},t2D:{value:null}},vertexShader:so.background_vert,fragmentShader:so.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0}},vertexShader:so.backgroundCube_vert,fragmentShader:so.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:so.cube_vert,fragmentShader:so.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:so.equirect_vert,fragmentShader:so.equirect_frag},distanceRGBA:{uniforms:Gi([lo.common,lo.displacementmap,{referencePosition:{value:new qr},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:so.distanceRGBA_vert,fragmentShader:so.distanceRGBA_frag},shadow:{uniforms:Gi([lo.lights,lo.fog,{color:{value:new Mr(0)},opacity:{value:1}}]),vertexShader:so.shadow_vert,fragmentShader:so.shadow_frag}};function co(e,t,n,r,a,i,o){var s,l,u=new Mr(0),c=!0===i?0:1,h=null,d=0,f=null;function p(e,t){r.buffers.color.setClear(e.r,e.g,e.b,t,o)}return{getClearColor:function(){return u},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u.set(e),p(u,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){p(u,c=e)},render:function(r,i){var o=!1,m=!0===i.isScene?i.background:null;m&&m.isTexture&&(m=(i.backgroundBlurriness>0?n:t).get(m));var v=e.xr,g=v.getSession&&v.getSession();g&&"additive"===g.environmentBlendMode&&(m=null),null===m?p(u,c):m&&m.isColor&&(p(m,1),o=!0),(e.autoClear||o)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.mapping===Oe)?(void 0===l&&((l=new qi(new zi(1,1,1),new Hi({name:"BackgroundCubeMaterial",uniforms:Ni(uo.backgroundCube.uniforms),vertexShader:uo.backgroundCube.vertexShader,fragmentShader:uo.backgroundCube.fragmentShader,side:J,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(l)),l.material.uniforms.envMap.value=m,l.material.uniforms.flipEnvMap.value=m.isCubeTexture&&!1===m.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=i.backgroundBlurriness,h===m&&d===m.version&&f===e.toneMapping||(l.material.needsUpdate=!0,h=m,d=m.version,f=e.toneMapping),l.layers.enableAll(),r.unshift(l,l.geometry,l.material,0,0,null)):m&&m.isTexture&&(void 0===s&&((s=new qi(new oo(2,2),new Hi({name:"BackgroundMaterial",uniforms:Ni(uo.background.uniforms),vertexShader:uo.background.vertexShader,fragmentShader:uo.background.fragmentShader,side:W,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(s)),s.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),s.material.uniforms.uvTransform.value.copy(m.matrix),h===m&&d===m.version&&f===e.toneMapping||(s.material.needsUpdate=!0,h=m,d=m.version,f=e.toneMapping),s.layers.enableAll(),r.unshift(s,s.geometry,s.material,0,0,null))}}}function ho(e,t,n,r){var a=e.getParameter(34921),i=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==i,s={},l=f(null),u=l,c=!1;function h(t){return r.isWebGL2?e.bindVertexArray(t):i.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):i.deleteVertexArrayOES(t)}function f(e){for(var t=[],n=[],r=[],i=0;i<a;i++)t[i]=0,n[i]=0,r[i]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function m(e){v(e,0)}function v(n,a){var i=u.newAttributes,o=u.enabledAttributes,s=u.attributeDivisors;(i[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==a)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,a),s[n]=a)}function g(){for(var t=u.newAttributes,n=u.enabledAttributes,r=0,a=n.length;r<a;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,a,i,o,s){!0!==r.isWebGL2||5124!==a&&5125!==a?e.vertexAttribPointer(t,n,a,i,o,s):e.vertexAttribIPointer(t,n,a,o,s)}function x(){b(),c=!0,u!==l&&h((u=l).object)}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(a,l,d,x,b){var _=!1;if(o){var S=function(t,n,a){var o=!0===a.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[o];void 0===c&&(c=f(r.isWebGL2?e.createVertexArray():i.createVertexArrayOES()),u[o]=c);return c}(x,d,l);u!==S&&h((u=S).object),_=function(e,t,n,r){var a=u.attributes,i=t.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=a[l],h=i[l];if(void 0===h&&("instanceMatrix"===l&&e.instanceMatrix&&(h=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(h=e.instanceColor)),void 0===c)return!0;if(c.attribute!==h)return!0;if(h&&c.data!==h.data)return!0;o++}}return u.attributesNum!==o||u.index!==r}(a,x,d,b),_&&function(e,t,n,r){var a={},i=t.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=i[l];void 0===c&&("instanceMatrix"===l&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(c=e.instanceColor));var h={};h.attribute=c,c&&c.data&&(h.data=c.data),a[l]=h,o++}}u.attributes=a,u.attributesNum=o,u.index=r}(a,x,d,b)}else{var w=!0===l.wireframe;u.geometry===x.id&&u.program===d.id&&u.wireframe===w||(u.geometry=x.id,u.program=d.id,u.wireframe=w,_=!0)}null!==b&&n.update(b,34963),(_||c)&&(c=!1,function(a,i,o,s){if(!1===r.isWebGL2&&(a.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();var l=s.attributes,u=o.getAttributes(),c=i.defaultAttributeValues;for(var h in u){var d=u[h];if(d.location>=0){var f=l[h];if(void 0===f&&("instanceMatrix"===h&&a.instanceMatrix&&(f=a.instanceMatrix),"instanceColor"===h&&a.instanceColor&&(f=a.instanceColor)),void 0!==f){var x=f.normalized,b=f.itemSize,_=n.get(f);if(void 0===_)continue;var S=_.buffer,w=_.type,M=_.bytesPerElement;if(f.isInterleavedBufferAttribute){var A=f.data,C=A.stride,k=f.offset;if(A.isInstancedInterleavedBuffer){for(var T=0;T<d.locationSize;T++)v(d.location+T,A.meshPerAttribute);!0!==a.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=A.meshPerAttribute*A.count)}else for(var E=0;E<d.locationSize;E++)m(d.location+E);e.bindBuffer(34962,S);for(var I=0;I<d.locationSize;I++)y(d.location+I,b/d.locationSize,w,x,C*M,(k+b/d.locationSize*I)*M)}else{if(f.isInstancedBufferAttribute){for(var B=0;B<d.locationSize;B++)v(d.location+B,f.meshPerAttribute);!0!==a.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=f.meshPerAttribute*f.count)}else for(var P=0;P<d.locationSize;P++)m(d.location+P);e.bindBuffer(34962,S);for(var R=0;R<d.locationSize;R++)y(d.location+R,b/d.locationSize,w,x,b*M,b/d.locationSize*R*M)}}else if(void 0!==c){var L=c[h];if(void 0!==L)switch(L.length){case 2:e.vertexAttrib2fv(d.location,L);break;case 3:e.vertexAttrib3fv(d.location,L);break;case 4:e.vertexAttrib4fv(d.location,L);break;default:e.vertexAttrib1fv(d.location,L)}}}}g()}(a,l,d,x),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:x,resetDefaultState:b,dispose:function(){for(var e in x(),s){var t=s[e];for(var n in t){var r=t[n];for(var a in r)d(r[a].object),delete r[a];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var a in r)d(r[a].object),delete r[a];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var a in r)d(r[a].object),delete r[a];delete n[e.id]}}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:g}}function fo(e,t,n,r){var a,i=r.isWebGL2;this.setMode=function(e){a=e},this.render=function(t,r){e.drawArrays(a,t,r),n.update(r,a,1)},this.renderInstances=function(r,o,s){if(0!==s){var l,u;if(i)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](a,r,o,s),n.update(o,a,s)}}}function po(e,t,n){var r;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var i="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=a(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=i||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),h=e.getParameter(35660),d=e.getParameter(3379),f=e.getParameter(34076),p=e.getParameter(34921),m=e.getParameter(36347),v=e.getParameter(36348),g=e.getParameter(36349),y=h>0,x=i||t.has("OES_texture_float");return{isWebGL2:i,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:a,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:x,floatVertexTextures:y&&x,maxSamples:i?e.getParameter(36183):0}}function mo(e){var t=this,n=null,r=0,a=!1,i=!1,o=new eo,s=new lr,l={value:null,needsUpdate:!1};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function c(e,n,r,a){var i=null!==e?e.length:0,u=null;if(0!==i){if(u=l.value,!0!==a||null===u){var c=r+4*i,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===u||u.length<c)&&(u=new Float32Array(c));for(var d=0,f=r;d!==i;++d,f+=4)o.copy(e[d]).applyMatrix4(h,s),o.normal.toArray(u,f),u[f+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=i,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,i){var o=0!==e.length||t||0!==r||a;return a=t,n=c(e,i,0),r=e.length,o},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1,u()},this.setState=function(t,o,s){var h=t.clippingPlanes,d=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!a||null===h||0===h.length||i&&!f)i?c(null):u();else{var m=i?0:r,v=4*m,g=p.clippingState||null;l.value=g,g=c(h,o,v,s);for(var y=0;y!==v;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=m}}}function vo(e){var t=new WeakMap;function n(e,t){return t===Ue?e.mapping=De:t===qe&&(e.mapping=Fe),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var a=t.get(n);void 0!==a&&(t.delete(n),a.dispose())}return{get:function(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){var i=a.mapping;if(i===Ue||i===qe){if(t.has(a))return n(t.get(a).texture,a.mapping);var o=a.image;if(o&&o.height>0){var s=new Yi(o.height/2);return s.fromEquirectangularTexture(e,a),t.set(a,s),a.addEventListener("dispose",r),n(s.texture,a.mapping)}return null}}return a},dispose:function(){t=new WeakMap}}}uo.physical={uniforms:Gi([uo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new sr(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Mr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new sr},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Mr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Mr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:so.meshphysical_vert,fragmentShader:so.meshphysical_frag};var go=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return b(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=a,e.top=i,e.bottom=o,e.near=s,e.far=l,e.updateProjectionMatrix(),e}return S(n,[{key:"copy",value:function(e,t){return R(M(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,a,i){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=i,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,a=n-e,i=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i=(a+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(a,i,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=R(M(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(Vi),yo=[.125,.215,.35,.446,.526,.582],xo=20,bo=new go,_o=new Mr,So=null,wo=(1+Math.sqrt(5))/2,Mo=1/wo,Ao=[new qr(1,1,1),new qr(-1,1,1),new qr(1,1,-1),new qr(-1,1,-1),new qr(0,wo,Mo),new qr(0,wo,-Mo),new qr(Mo,0,wo),new qr(-Mo,0,wo),new qr(wo,Mo,0),new qr(-wo,Mo,0)],Co=function(){function e(t){b(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return S(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;So=this._renderer.getRenderTarget(),this._setSize(256);var a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,n,r,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Io(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Eo(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(So),e.scissorTest=!1,To(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===De||e.mapping===Fe?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),So=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Xe,minFilter:Xe,generateMipmaps:!1,type:ot,format:dt,encoding:un,depthBuffer:!1},r=ko(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=ko(e,t,n);var a=this._lodMax,i=function(e){for(var t=[],n=[],r=[],a=e,i=e-4+1+yo.length,o=0;o<i;o++){var s=Math.pow(2,a);n.push(s);var l=1/s;o>e-4?l=yo[o-e+4-1]:0===o&&(l=0),r.push(l);for(var u=1/(s-2),c=-u,h=1+u,d=[c,c,h,c,h,h,c,c,h,h,c,h],f=6,p=6,m=3,v=2,g=1,y=new Float32Array(m*p*f),x=new Float32Array(v*p*f),b=new Float32Array(g*p*f),_=0;_<f;_++){var S=_%3*2/3-1,w=_>2?0:-1,M=[S,w,0,S+2/3,w,0,S+2/3,w+1,0,S,w,0,S+2/3,w+1,0,S,w+1,0];y.set(M,m*p*_),x.set(d,v*p*_);var A=[_,_,_,_,_,_];b.set(A,g*p*_)}var C=new bi;C.setAttribute("position",new ni(y,m)),C.setAttribute("uv",new ni(x,v)),C.setAttribute("faceIndex",new ni(b,g)),t.push(C),a>4&&a--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(a);this._sizeLods=i.sizeLods,this._lodPlanes=i.lodPlanes,this._sigmas=i.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(xo),a=new qr(0,1,0);return new Hi({name:"SphericalGaussianBlur",defines:{n:xo,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:K,depthTest:!1,depthWrite:!1})}(a,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new qi(this._lodPlanes[0],e);this._renderer.compile(t,bo)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var a=new Wi(90,1,t,n),i=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(_o),s.toneMapping=Te,s.autoClear=!1;var c=new $a({name:"PMREM.Background",side:J,depthWrite:!1,depthTest:!1}),h=new qi(new zi,c),d=!1,f=e.background;f?f.isColor&&(c.color.copy(f),e.background=null,d=!0):(c.color.copy(_o),d=!0);for(var p=0;p<6;p++){var m=p%3;0===m?(a.up.set(0,i[p],0),a.lookAt(o[p],0,0)):1===m?(a.up.set(0,0,i[p]),a.lookAt(0,o[p],0)):(a.up.set(0,i[p],0),a.lookAt(0,0,o[p]));var v=this._cubeSize;To(r,m*v,p>2?v:0,v,v),s.setRenderTarget(r),d&&s.render(h,a),s.render(e,a)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=f}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===De||e.mapping===Fe;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Io()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Eo());var a=r?this._cubemapMaterial:this._equirectMaterial,i=new qi(this._lodPlanes[0],a);a.uniforms.envMap.value=e;var o=this._cubeSize;To(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(i,bo)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var a=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),i=Ao[(r-1)%Ao.length];this._blur(e,r-1,r,a,i)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,a){var i=this._pingPongRenderTarget;this._halfBlur(e,i,t,n,r,"latitudinal",a),this._halfBlur(i,e,n,n,r,"longitudinal",a)}},{key:"_halfBlur",value:function(e,t,n,r,a,i,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==i&&"longitudinal"!==i&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new qi(this._lodPlanes[r],l),c=l.uniforms,h=this._sizeLods[n]-1,d=isFinite(a)?Math.PI/(2*h):2*Math.PI/39,f=a/d,p=isFinite(a)?1+Math.floor(3*f):xo;p>xo&&console.warn("sigmaRadians, ".concat(a,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(xo));for(var m=[],v=0,g=0;g<xo;++g){var y=g/f,x=Math.exp(-y*y/2);m.push(x),0===g?v+=x:g<p&&(v+=2*x)}for(var b=0;b<m.length;b++)m[b]=m[b]/v;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=m,c.latitudinal.value="latitudinal"===i,o&&(c.poleAxis.value=o);var _=this._lodMax;c.dTheta.value=d,c.mipInt.value=_-n;var S=this._sizeLods[r];To(t,3*S*(r>_-4?r-_+4:0),4*(this._cubeSize-S),3*S,2*S),s.setRenderTarget(t),s.render(u,bo)}}]),e}();function ko(e,t,n){var r=new Br(e,t,n);return r.texture.mapping=Oe,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function To(e,t,n,r,a){e.viewport.set(t,n,r,a),e.scissor.set(t,n,r,a)}function Eo(){return new Hi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:K,depthTest:!1,depthWrite:!1})}function Io(){return new Hi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:K,depthTest:!1,depthWrite:!1})}function Bo(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var a=t.get(n);void 0!==a&&(t.delete(n),a.dispose())}return{get:function(a){if(a&&a.isTexture){var i=a.mapping,o=i===Ue||i===qe,s=i===De||i===Fe;if(o||s){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;var l=t.get(a);return null===n&&(n=new Co(e)),l=o?n.fromEquirectangular(a,l):n.fromCubemap(a,l),t.set(a,l),l.texture}if(t.has(a))return t.get(a).texture;var u=a.image;if(o&&u&&u.height>0||s&&u&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(u)){null===n&&(n=new Co(e));var c=o?n.fromEquirectangular(a):n.fromCubemap(a);return t.set(a,c),a.addEventListener("dispose",r),c.texture}return null}}return a},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Po(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Ro(e,t,n,r){var a={},i=new WeakMap;function o(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);s.removeEventListener("dispose",o),delete a[s.id];var u=i.get(s);u&&(t.remove(u),i.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,a=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],h=s[l+1],d=s[l+2];n.push(c,h,h,d,d,c)}}else{var f=a.array;o=a.version;for(var p=0,m=f.length/3-1;p<m;p+=3){var v=p+0,g=p+1,y=p+2;n.push(v,g,g,y,y,v)}}var x=new(ur(n)?ui:si)(n,1);x.version=o;var b=i.get(e);b&&t.remove(b),i.set(e,x)}return{get:function(e,t){return!0===a[t.id]||(t.addEventListener("dispose",o),a[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var a=e.morphAttributes;for(var i in a)for(var o=a[i],s=0,l=o.length;s<l;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=i.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return i.get(e)}}}function Lo(e,t,n,r){var a,i,o,s=r.isWebGL2;this.setMode=function(e){a=e},this.setIndex=function(e){i=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(a,r,i,t*o),n.update(r,a,1)},this.renderInstances=function(r,l,u){if(0!==u){var c,h;if(s)c=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](a,l,i,r*o,u),n.update(l,a,u)}}}function Do(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Fo(e,t){return e[0]-t[0]}function Uo(e,t){return Math.abs(t[1])-Math.abs(e[1])}function qo(e,t,n){for(var r={},a=new Float32Array(8),i=new WeakMap,o=new Ir,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c,h){var d=l.morphTargetInfluences;if(!0===t.isWebGL2){var f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=void 0!==f?f.length:0,m=i.get(u);if(void 0===m||m.count!==p){void 0!==m&&m.texture.dispose();var v=void 0!==u.morphAttributes.position,g=void 0!==u.morphAttributes.normal,y=void 0!==u.morphAttributes.color,x=u.morphAttributes.position||[],b=u.morphAttributes.normal||[],_=u.morphAttributes.color||[],S=0;!0===v&&(S=1),!0===g&&(S=2),!0===y&&(S=3);var w=u.attributes.position.count*S,M=1;w>t.maxTextureSize&&(M=Math.ceil(w/t.maxTextureSize),w=t.maxTextureSize);var A=new Float32Array(w*M*4*p),C=new Pr(A,w,M,p);C.type=it,C.needsUpdate=!0;for(var k=4*S,T=0;T<p;T++)for(var E=x[T],I=b[T],B=_[T],P=w*M*4*T,R=0;R<E.count;R++){var L=R*k;!0===v&&(o.fromBufferAttribute(E,R),A[P+L+0]=o.x,A[P+L+1]=o.y,A[P+L+2]=o.z,A[P+L+3]=0),!0===g&&(o.fromBufferAttribute(I,R),A[P+L+4]=o.x,A[P+L+5]=o.y,A[P+L+6]=o.z,A[P+L+7]=0),!0===y&&(o.fromBufferAttribute(B,R),A[P+L+8]=o.x,A[P+L+9]=o.y,A[P+L+10]=o.z,A[P+L+11]=4===B.itemSize?o.w:1)}m={count:p,texture:C,size:new sr(w,M)},i.set(u,m),u.addEventListener("dispose",(function e(){C.dispose(),i.delete(u),u.removeEventListener("dispose",e)}))}for(var D=0,F=0;F<d.length;F++)D+=d[F];var U=u.morphTargetsRelative?1:1-D;h.getUniforms().setValue(e,"morphTargetBaseInfluence",U),h.getUniforms().setValue(e,"morphTargetInfluences",d),h.getUniforms().setValue(e,"morphTargetsTexture",m.texture,n),h.getUniforms().setValue(e,"morphTargetsTextureSize",m.size)}else{var q=void 0===d?0:d.length,O=r[u.id];if(void 0===O||O.length!==q){O=[];for(var z=0;z<q;z++)O[z]=[z,0];r[u.id]=O}for(var N=0;N<q;N++){var G=O[N];G[0]=N,G[1]=d[N]}O.sort(Uo);for(var j=0;j<8;j++)j<q&&O[j][1]?(s[j][0]=O[j][0],s[j][1]=O[j][1]):(s[j][0]=Number.MAX_SAFE_INTEGER,s[j][1]=0);s.sort(Fo);for(var H=u.morphAttributes.position,V=u.morphAttributes.normal,W=0,J=0;J<8;J++){var X=s[J],K=X[0],Y=X[1];K!==Number.MAX_SAFE_INTEGER&&Y?(H&&u.getAttribute("morphTarget"+J)!==H[K]&&u.setAttribute("morphTarget"+J,H[K]),V&&u.getAttribute("morphNormal"+J)!==V[K]&&u.setAttribute("morphNormal"+J,V[K]),a[J]=Y,W+=Y):(H&&!0===u.hasAttribute("morphTarget"+J)&&u.deleteAttribute("morphTarget"+J),V&&!0===u.hasAttribute("morphNormal"+J)&&u.deleteAttribute("morphNormal"+J),a[J]=0)}var Q=u.morphTargetsRelative?1:1-W;h.getUniforms().setValue(e,"morphTargetBaseInfluence",Q),h.getUniforms().setValue(e,"morphTargetInfluences",a)}}}}function Oo(e,t,n,r){var a=new WeakMap;function i(e){var t=e.target;t.removeEventListener("dispose",i),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=r.render.frame,s=e.geometry,l=t.get(e,s);return a.get(l)!==o&&(t.update(l),a.set(l,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",i)&&e.addEventListener("dispose",i),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){a=new WeakMap}}}var zo=new Er,No=new Pr,Go=new Lr,jo=new Ki,Ho=[],Vo=[],Wo=new Float32Array(16),Jo=new Float32Array(9),Xo=new Float32Array(4);function Ko(e,t,n){var r=e[0];if(r<=0||r>0)return e;var a=t*n,i=Ho[a];if(void 0===i&&(i=new Float32Array(a),Ho[a]=i),0!==t){r.toArray(i,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(i,s)}return i}function Yo(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Qo(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Zo(e,t){var n=Vo[t];void 0===n&&(n=new Int32Array(t),Vo[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function $o(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function es(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Yo(n,t))return;e.uniform2fv(this.addr,t),Qo(n,t)}}function ts(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Yo(n,t))return;e.uniform3fv(this.addr,t),Qo(n,t)}}function ns(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Yo(n,t))return;e.uniform4fv(this.addr,t),Qo(n,t)}}function rs(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Yo(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Qo(n,t)}else{if(Yo(n,r))return;Xo.set(r),e.uniformMatrix2fv(this.addr,!1,Xo),Qo(n,r)}}function as(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Yo(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Qo(n,t)}else{if(Yo(n,r))return;Jo.set(r),e.uniformMatrix3fv(this.addr,!1,Jo),Qo(n,r)}}function is(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Yo(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Qo(n,t)}else{if(Yo(n,r))return;Wo.set(r),e.uniformMatrix4fv(this.addr,!1,Wo),Qo(n,r)}}function os(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function ss(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Yo(n,t))return;e.uniform2iv(this.addr,t),Qo(n,t)}}function ls(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Yo(n,t))return;e.uniform3iv(this.addr,t),Qo(n,t)}}function us(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Yo(n,t))return;e.uniform4iv(this.addr,t),Qo(n,t)}}function cs(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function hs(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Yo(n,t))return;e.uniform2uiv(this.addr,t),Qo(n,t)}}function ds(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Yo(n,t))return;e.uniform3uiv(this.addr,t),Qo(n,t)}}function fs(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Yo(n,t))return;e.uniform4uiv(this.addr,t),Qo(n,t)}}function ps(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTexture2D(t||zo,a)}function ms(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTexture3D(t||Go,a)}function vs(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTextureCube(t||jo,a)}function gs(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTexture2DArray(t||No,a)}function ys(e,t){e.uniform1fv(this.addr,t)}function xs(e,t){var n=Ko(t,this.size,2);e.uniform2fv(this.addr,n)}function bs(e,t){var n=Ko(t,this.size,3);e.uniform3fv(this.addr,n)}function _s(e,t){var n=Ko(t,this.size,4);e.uniform4fv(this.addr,n)}function Ss(e,t){var n=Ko(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function ws(e,t){var n=Ko(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Ms(e,t){var n=Ko(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function As(e,t){e.uniform1iv(this.addr,t)}function Cs(e,t){e.uniform2iv(this.addr,t)}function ks(e,t){e.uniform3iv(this.addr,t)}function Ts(e,t){e.uniform4iv(this.addr,t)}function Es(e,t){e.uniform1uiv(this.addr,t)}function Is(e,t){e.uniform2uiv(this.addr,t)}function Bs(e,t){e.uniform3uiv(this.addr,t)}function Ps(e,t){e.uniform4uiv(this.addr,t)}function Rs(e,t,n){var r=this.cache,a=t.length,i=Zo(n,a);Yo(r,i)||(e.uniform1iv(this.addr,i),Qo(r,i));for(var o=0;o!==a;++o)n.setTexture2D(t[o]||zo,i[o])}function Ls(e,t,n){var r=this.cache,a=t.length,i=Zo(n,a);Yo(r,i)||(e.uniform1iv(this.addr,i),Qo(r,i));for(var o=0;o!==a;++o)n.setTexture3D(t[o]||Go,i[o])}function Ds(e,t,n){var r=this.cache,a=t.length,i=Zo(n,a);Yo(r,i)||(e.uniform1iv(this.addr,i),Qo(r,i));for(var o=0;o!==a;++o)n.setTextureCube(t[o]||jo,i[o])}function Fs(e,t,n){var r=this.cache,a=t.length,i=Zo(n,a);Yo(r,i)||(e.uniform1iv(this.addr,i),Qo(r,i));for(var o=0;o!==a;++o)n.setTexture2DArray(t[o]||No,i[o])}var Us=S((function e(t,n,r){b(this,e),this.id=t,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return $o;case 35664:return es;case 35665:return ts;case 35666:return ns;case 35674:return rs;case 35675:return as;case 35676:return is;case 5124:case 35670:return os;case 35667:case 35671:return ss;case 35668:case 35672:return ls;case 35669:case 35673:return us;case 5125:return cs;case 36294:return hs;case 36295:return ds;case 36296:return fs;case 35678:case 36198:case 36298:case 36306:case 35682:return ps;case 35679:case 36299:case 36307:return ms;case 35680:case 36300:case 36308:case 36293:return vs;case 36289:case 36303:case 36311:case 36292:return gs}}(n.type)})),qs=S((function e(t,n,r){b(this,e),this.id=t,this.addr=r,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return ys;case 35664:return xs;case 35665:return bs;case 35666:return _s;case 35674:return Ss;case 35675:return ws;case 35676:return Ms;case 5124:case 35670:return As;case 35667:case 35671:return Cs;case 35668:case 35672:return ks;case 35669:case 35673:return Ts;case 5125:return Es;case 36294:return Is;case 36295:return Bs;case 36296:return Ps;case 35678:case 36198:case 36298:case 36306:case 35682:return Rs;case 35679:case 36299:case 36307:return Ls;case 35680:case 36300:case 36308:case 36293:return Ds;case 36289:case 36303:case 36311:case 36292:return Fs}}(n.type)})),Os=function(){function e(t){b(this,e),this.id=t,this.seq=[],this.map={}}return S(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,a=0,i=r.length;a!==i;++a){var o=r[a];o.setValue(e,t[o.id],n)}}}]),e}(),zs=/(\w+)(\])?(\[|\.)?/g;function Ns(e,t){e.seq.push(t),e.map[t.id]=t}function Gs(e,t,n){var r=e.name,a=r.length;for(zs.lastIndex=0;;){var i=zs.exec(r),o=zs.lastIndex,s=i[1],l="]"===i[2],u=i[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===a){Ns(n,void 0===u?new Us(s,e,t):new qs(s,e,t));break}var c=n.map[s];void 0===c&&Ns(n,c=new Os(s)),n=c}}var js=function(){function e(t,n){b(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,35718),a=0;a<r;++a){var i=t.getActiveUniform(n,a);Gs(i,t.getUniformLocation(n,i.name),this)}}return S(e,[{key:"setValue",value:function(e,t,n,r){var a=this.map[t];void 0!==a&&a.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var a=0,i=t.length;a!==i;++a){var o=t[a],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,a=e.length;r!==a;++r){var i=e[r];i.id in t&&n.push(i)}return n}}]),e}();function Hs(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var Vs=0;function Ws(e,t,n){var r=e.getShaderParameter(t,35713),a=e.getShaderInfoLog(t).trim();if(r&&""===a)return"";var i=/ERROR: 0:(\d+)/.exec(a);if(i){var o=parseInt(i[1]);return n.toUpperCase()+"\n\n"+a+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],a=Math.max(t-6,0),i=Math.min(t+6,n.length),o=a;o<i;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return a}function Js(e,t){var n=function(e){switch(e){case un:return["Linear","( value )"];case cn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Xs(e,t){var n;switch(t){case Ee:n="Linear";break;case Ie:n="Reinhard";break;case Be:n="OptimizedCineon";break;case Pe:n="ACESFilmic";break;case Re:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ks(e){return""!==e}function Ys(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Qs(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Zs=/^[ \t]*#include +<([\w\d./]+)>/gm;function $s(e){return e.replace(Zs,el)}function el(e,t){var n=so[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return $s(n)}var tl=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function nl(e){return e.replace(tl,rl)}function rl(e,t,n,r){for(var a="",i=parseInt(t);i<parseInt(n);i++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return a}function al(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function il(e,t,n,r){var a,i,o=e.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===j?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===H?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===V&&(t="SHADOWMAP_TYPE_VSM"),t}(n),h=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case De:case Fe:t="ENVMAP_TYPE_CUBE";break;case Oe:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),d=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===Fe&&(t="ENVMAP_MODE_REFRACTION");return t}(n),f=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Ae:t="ENVMAP_BLENDING_MULTIPLY";break;case Ce:t="ENVMAP_BLENDING_MIX";break;case ke:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),m=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ks).join("\n")}(n),v=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((a=[v].filter(Ks).join("\n")).length>0&&(a+="\n"),(i=[m,v].filter(Ks).join("\n")).length>0&&(i+="\n")):(a=[al(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ks).join("\n"),i=[m,al(n),"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Te?"#define TONE_MAPPING":"",n.toneMapping!==Te?so.tonemapping_pars_fragment:"",n.toneMapping!==Te?Xs("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",so.encodings_pars_fragment,Js("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ks).join("\n")),l=Qs(l=Ys(l=$s(l),n),n),u=Qs(u=Ys(u=$s(u),n),n),l=nl(l),u=nl(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",a=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+a,i=["#define varying in",n.glslVersion===Hn?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Hn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+i);var x,b,_=y+i+u,S=Hs(o,35633,y+a+l),w=Hs(o,35632,_);if(o.attachShader(g,S),o.attachShader(g,w),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var M=o.getProgramInfoLog(g).trim(),A=o.getShaderInfoLog(S).trim(),C=o.getShaderInfoLog(w).trim(),k=!0,T=!0;if(!1===o.getProgramParameter(g,35714)){k=!1;var E=Ws(o,S,"vertex"),I=Ws(o,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(g,35715)+"\n\nProgram Info Log: "+M+"\n"+E+"\n"+I)}else""!==M?console.warn("THREE.WebGLProgram: Program Info Log:",M):""!==A&&""!==C||(T=!1);T&&(this.diagnostics={runnable:k,programLog:M,vertexShader:{log:A,prefix:a},fragmentShader:{log:C,prefix:i}})}return o.deleteShader(S),o.deleteShader(w),this.getUniforms=function(){return void 0===x&&(x=new js(o,g)),x},this.getAttributes=function(){return void 0===b&&(b=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),a=0;a<r;a++){var i=e.getActiveAttrib(t,a),o=i.name,s=1;35674===i.type&&(s=2),35675===i.type&&(s=3),35676===i.type&&(s=4),n[o]={type:i.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,g)),b},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=Vs++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=S,this.fragmentShader=w,this}var ol=0,sl=function(){function e(){b(this,e),this.shaderCache=new Map,this.materialCache=new Map}return S(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(n),i=this._getShaderCacheForMaterial(e);return!1===i.has(r)&&(i.add(r),r.usedTimes++),!1===i.has(a)&&(i.add(a),a.usedTimes++),this}},{key:"remove",value:function(e){var t,n=c(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code)}}catch(a){n.e(a)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new ll(e),t.set(e,n)),n}}]),e}(),ll=S((function e(t){b(this,e),this.id=ol++,this.code=t,this.usedTimes=0}));function ul(e,t,n,r,a,i,o){var s=new Aa,l=new sl,u=[],c=a.isWebGL2,h=a.logarithmicDepthBuffer,d=a.vertexTextures,f=a.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(i,s,u,m,v){var g=m.fog,y=v.geometry,x=i.isMeshStandardMaterial?m.environment:null,b=(i.isMeshStandardMaterial?n:t).get(i.envMap||x),_=b&&b.mapping===Oe?b.image.height:null,S=p[i.type];null!==i.precision&&(f=a.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",f,"instead.");var w,M,A,C,k=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,T=void 0!==k?k.length:0,E=0;if(void 0!==y.morphAttributes.position&&(E=1),void 0!==y.morphAttributes.normal&&(E=2),void 0!==y.morphAttributes.color&&(E=3),S){var I=uo[S];w=I.vertexShader,M=I.fragmentShader}else w=i.vertexShader,M=i.fragmentShader,l.update(i),A=l.getVertexShaderID(i),C=l.getFragmentShaderID(i);var B=e.getRenderTarget(),P=i.alphaTest>0,R=i.clearcoat>0,L=i.iridescence>0;return{isWebGL2:c,shaderID:S,shaderName:i.type,vertexShader:w,fragmentShader:M,defines:i.defines,customVertexShaderID:A,customFragmentShaderID:C,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:f,instancing:!0===v.isInstancedMesh,instancingColor:!0===v.isInstancedMesh&&null!==v.instanceColor,supportsVertexTextures:d,outputEncoding:null===B?e.outputEncoding:!0===B.isXRRenderTarget?B.texture.encoding:un,map:!!i.map,matcap:!!i.matcap,envMap:!!b,envMapMode:b&&b.mapping,envMapCubeUVHeight:_,lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:i.normalMapType===pn,tangentSpaceNormalMap:i.normalMapType===fn,decodeVideoTexture:!!i.map&&!0===i.map.isVideoTexture&&i.map.encoding===cn,clearcoat:R,clearcoatMap:R&&!!i.clearcoatMap,clearcoatRoughnessMap:R&&!!i.clearcoatRoughnessMap,clearcoatNormalMap:R&&!!i.clearcoatNormalMap,iridescence:L,iridescenceMap:L&&!!i.iridescenceMap,iridescenceThicknessMap:L&&!!i.iridescenceThicknessMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,specularIntensityMap:!!i.specularIntensityMap,specularColorMap:!!i.specularColorMap,opaque:!1===i.transparent&&i.blending===Y,alphaMap:!!i.alphaMap,alphaTest:P,gradientMap:!!i.gradientMap,sheen:i.sheen>0,sheenColorMap:!!i.sheenColorMap,sheenRoughnessMap:!!i.sheenRoughnessMap,transmission:i.transmission>0,transmissionMap:!!i.transmissionMap,thicknessMap:!!i.thicknessMap,combine:i.combine,vertexTangents:!!i.normalMap&&!!y.attributes.tangent,vertexColors:i.vertexColors,vertexAlphas:!0===i.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,vertexUvs:!!i.map||!!i.bumpMap||!!i.normalMap||!!i.specularMap||!!i.alphaMap||!!i.emissiveMap||!!i.roughnessMap||!!i.metalnessMap||!!i.clearcoatMap||!!i.clearcoatRoughnessMap||!!i.clearcoatNormalMap||!!i.iridescenceMap||!!i.iridescenceThicknessMap||!!i.displacementMap||!!i.transmissionMap||!!i.thicknessMap||!!i.specularIntensityMap||!!i.specularColorMap||!!i.sheenColorMap||!!i.sheenRoughnessMap,uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.iridescenceMap||i.iridescenceThicknessMap||i.transmission>0||i.transmissionMap||i.thicknessMap||i.specularIntensityMap||i.specularColorMap||i.sheen>0||i.sheenColorMap||i.sheenRoughnessMap)&&!!i.displacementMap,fog:!!g,useFog:!0===i.fog,fogExp2:g&&g.isFogExp2,flatShading:!!i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:T,morphTextureStride:E,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:Te,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,doubleSided:i.side===X,flipSided:i.side===J,useDepthPacking:!!i.depthPacking,depthPacking:i.depthPacking||0,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.map&&s.enable(4);t.matcap&&s.enable(5);t.envMap&&s.enable(6);t.lightMap&&s.enable(7);t.aoMap&&s.enable(8);t.emissiveMap&&s.enable(9);t.bumpMap&&s.enable(10);t.normalMap&&s.enable(11);t.objectSpaceNormalMap&&s.enable(12);t.tangentSpaceNormalMap&&s.enable(13);t.clearcoat&&s.enable(14);t.clearcoatMap&&s.enable(15);t.clearcoatRoughnessMap&&s.enable(16);t.clearcoatNormalMap&&s.enable(17);t.iridescence&&s.enable(18);t.iridescenceMap&&s.enable(19);t.iridescenceThicknessMap&&s.enable(20);t.displacementMap&&s.enable(21);t.specularMap&&s.enable(22);t.roughnessMap&&s.enable(23);t.metalnessMap&&s.enable(24);t.gradientMap&&s.enable(25);t.alphaMap&&s.enable(26);t.alphaTest&&s.enable(27);t.vertexColors&&s.enable(28);t.vertexAlphas&&s.enable(29);t.vertexUvs&&s.enable(30);t.vertexTangents&&s.enable(31);t.uvsVertexOnly&&s.enable(32);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.physicallyCorrectLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.specularIntensityMap&&s.enable(15);t.specularColorMap&&s.enable(16);t.transmission&&s.enable(17);t.transmissionMap&&s.enable(18);t.thicknessMap&&s.enable(19);t.sheen&&s.enable(20);t.sheenColorMap&&s.enable(21);t.sheenRoughnessMap&&s.enable(22);t.decodeVideoTexture&&s.enable(23);t.opaque&&s.enable(24);e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=p[e.type];if(n){var r=uo[n];t=ji.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,a=0,o=u.length;a<o;a++){var s=u[a];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new il(e,n,t,i),u.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function cl(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function hl(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function dl(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function fl(){var e=[],t=0,n=[],r=[],a=[];function i(n,r,a,i,o,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:a,groupOrder:i,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=a,l.groupOrder=i,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:a,init:function(){t=0,n.length=0,r.length=0,a.length=0},push:function(e,t,o,s,l,u){var c=i(e,t,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?a.push(c):n.push(c)},unshift:function(e,t,o,s,l,u){var c=i(e,t,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?a.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var a=e[n];if(null===a.id)break;a.id=null,a.object=null,a.geometry=null,a.material=null,a.group=null}},sort:function(e,t){n.length>1&&n.sort(e||hl),r.length>1&&r.sort(t||dl),a.length>1&&a.sort(t||dl)}}}function pl(){var e=new WeakMap;return{get:function(t,n){var r,a=e.get(t);return void 0===a?(r=new fl,e.set(t,[r])):n>=a.length?(r=new fl,a.push(r)):r=a[n],r},dispose:function(){e=new WeakMap}}}function ml(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new qr,color:new Mr};break;case"SpotLight":n={position:new qr,direction:new qr,color:new Mr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new qr,color:new Mr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new qr,skyColor:new Mr,groundColor:new Mr};break;case"RectAreaLight":n={color:new Mr,position:new qr,halfWidth:new qr,halfHeight:new qr}}return e[t.id]=n,n}}}var vl=0;function gl(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function yl(e,t){for(var n=new ml,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sr};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sr,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},i=0;i<9;i++)a.probe.push(new qr);var o=new qr,s=new pa,l=new pa;return{setup:function(i,o){for(var s=0,l=0,u=0,c=0;c<9;c++)a.probe[c].set(0,0,0);var h=0,d=0,f=0,p=0,m=0,v=0,g=0,y=0,x=0,b=0;i.sort(gl);for(var _=!0!==o?Math.PI:1,S=0,w=i.length;S<w;S++){var M=i[S],A=M.color,C=M.intensity,k=M.distance,T=M.shadow&&M.shadow.map?M.shadow.map.texture:null;if(M.isAmbientLight)s+=A.r*C*_,l+=A.g*C*_,u+=A.b*C*_;else if(M.isLightProbe)for(var E=0;E<9;E++)a.probe[E].addScaledVector(M.sh.coefficients[E],C);else if(M.isDirectionalLight){var I=n.get(M);if(I.color.copy(M.color).multiplyScalar(M.intensity*_),M.castShadow){var B=M.shadow,P=r.get(M);P.shadowBias=B.bias,P.shadowNormalBias=B.normalBias,P.shadowRadius=B.radius,P.shadowMapSize=B.mapSize,a.directionalShadow[h]=P,a.directionalShadowMap[h]=T,a.directionalShadowMatrix[h]=M.shadow.matrix,v++}a.directional[h]=I,h++}else if(M.isSpotLight){var R=n.get(M);R.position.setFromMatrixPosition(M.matrixWorld),R.color.copy(A).multiplyScalar(C*_),R.distance=k,R.coneCos=Math.cos(M.angle),R.penumbraCos=Math.cos(M.angle*(1-M.penumbra)),R.decay=M.decay,a.spot[f]=R;var L=M.shadow;if(M.map&&(a.spotLightMap[x]=M.map,x++,L.updateMatrices(M),M.castShadow&&b++),a.spotLightMatrix[f]=L.matrix,M.castShadow){var D=r.get(M);D.shadowBias=L.bias,D.shadowNormalBias=L.normalBias,D.shadowRadius=L.radius,D.shadowMapSize=L.mapSize,a.spotShadow[f]=D,a.spotShadowMap[f]=T,y++}f++}else if(M.isRectAreaLight){var F=n.get(M);F.color.copy(A).multiplyScalar(C),F.halfWidth.set(.5*M.width,0,0),F.halfHeight.set(0,.5*M.height,0),a.rectArea[p]=F,p++}else if(M.isPointLight){var U=n.get(M);if(U.color.copy(M.color).multiplyScalar(M.intensity*_),U.distance=M.distance,U.decay=M.decay,M.castShadow){var q=M.shadow,O=r.get(M);O.shadowBias=q.bias,O.shadowNormalBias=q.normalBias,O.shadowRadius=q.radius,O.shadowMapSize=q.mapSize,O.shadowCameraNear=q.camera.near,O.shadowCameraFar=q.camera.far,a.pointShadow[d]=O,a.pointShadowMap[d]=T,a.pointShadowMatrix[d]=M.shadow.matrix,g++}a.point[d]=U,d++}else if(M.isHemisphereLight){var z=n.get(M);z.skyColor.copy(M.color).multiplyScalar(C*_),z.groundColor.copy(M.groundColor).multiplyScalar(C*_),a.hemi[m]=z,m++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(a.rectAreaLTC1=lo.LTC_FLOAT_1,a.rectAreaLTC2=lo.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(a.rectAreaLTC1=lo.LTC_HALF_1,a.rectAreaLTC2=lo.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=s,a.ambient[1]=l,a.ambient[2]=u;var N=a.hash;N.directionalLength===h&&N.pointLength===d&&N.spotLength===f&&N.rectAreaLength===p&&N.hemiLength===m&&N.numDirectionalShadows===v&&N.numPointShadows===g&&N.numSpotShadows===y&&N.numSpotMaps===x||(a.directional.length=h,a.spot.length=f,a.rectArea.length=p,a.point.length=d,a.hemi.length=m,a.directionalShadow.length=v,a.directionalShadowMap.length=v,a.pointShadow.length=g,a.pointShadowMap.length=g,a.spotShadow.length=y,a.spotShadowMap.length=y,a.directionalShadowMatrix.length=v,a.pointShadowMatrix.length=g,a.spotLightMatrix.length=y+x-b,a.spotLightMap.length=x,a.numSpotLightShadowsWithMaps=b,N.directionalLength=h,N.pointLength=d,N.spotLength=f,N.rectAreaLength=p,N.hemiLength=m,N.numDirectionalShadows=v,N.numPointShadows=g,N.numSpotShadows=y,N.numSpotMaps=x,a.version=vl++)},setupView:function(e,t){for(var n=0,r=0,i=0,u=0,c=0,h=t.matrixWorldInverse,d=0,f=e.length;d<f;d++){var p=e[d];if(p.isDirectionalLight){var m=a.directional[n];m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(h),n++}else if(p.isSpotLight){var v=a.spot[i];v.position.setFromMatrixPosition(p.matrixWorld),v.position.applyMatrix4(h),v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(h),i++}else if(p.isRectAreaLight){var g=a.rectArea[u];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(h),l.identity(),s.copy(p.matrixWorld),s.premultiply(h),l.extractRotation(s),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(l),g.halfHeight.applyMatrix4(l),u++}else if(p.isPointLight){var y=a.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(h),r++}else if(p.isHemisphereLight){var x=a.hemi[c];x.direction.setFromMatrixPosition(p.matrixWorld),x.direction.transformDirection(h),c++}}},state:a}}function xl(e,t){var n=new yl(e,t),r=[],a=[];return{init:function(){r.length=0,a.length=0},state:{lightsArray:r,shadowsArray:a,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){a.push(e)}}}function bl(e,t){var n=new WeakMap;return{get:function(r){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(a=new xl(e,t),n.set(r,[a])):i>=o.length?(a=new xl(e,t),o.push(a)):a=o[i],a},dispose:function(){n=new WeakMap}}}var _l=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=hn,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(Za),Sl=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.referencePosition=new qr,r.nearDistance=1,r.farDistance=1e3,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(Za);function wl(e,t,n){var r=new ro,a=new sr,i=new sr,o=new Ir,s=new _l({depthPacking:dn}),l=new Sl,u={},c=n.maxTextureSize,h={0:J,1:W,2:X},d=new Hi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new sr},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=d.clone();f.defines.HORIZONTAL_PASS=1;var p=new bi;p.setAttribute("position",new ni(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var m=new qi(p,d),v=this;function g(n,r){var i=t.update(m);d.defines.VSM_SAMPLES!==n.blurSamples&&(d.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,d.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Br(a.x,a.y)),d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,d,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,f,m,null)}function y(t,n,r,a,i,o){var c=null,d=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(c=void 0!==d?d:!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0){var f=c.uuid,p=n.uuid,m=u[f];void 0===m&&(m={},u[f]=m);var v=m[p];void 0===v&&(v=c.clone(),m[p]=v),c=v}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=o===V?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],c.alphaMap=n.alphaMap,c.alphaTest=n.alphaTest,c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.displacementMap=n.displacementMap,c.displacementScale=n.displacementScale,c.displacementBias=n.displacementBias,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=a,c.farDistance=i),c}function x(n,a,i,o,s){if(!1!==n.visible){if(n.layers.test(a.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===V)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,h=0,d=c.length;h<d;h++){var f=c[h],p=u[f.materialIndex];if(p&&p.visible){var m=y(n,p,o,i.near,i.far,s);e.renderBufferDirect(i,null,l,m,n,f)}}else if(u.visible){var v=y(n,u,o,i.near,i.far,s);e.renderBufferDirect(i,null,l,v,n,null)}}for(var g=n.children,b=0,_=g.length;b<_;b++)x(g[b],a,i,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=j,this.render=function(t,n,s){if(!1!==v.enabled&&(!1!==v.autoUpdate||!1!==v.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(K),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var f=0,p=t.length;f<p;f++){var m=t[f],y=m.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){a.copy(y.mapSize);var b=y.getFrameExtents();if(a.multiply(b),i.copy(y.mapSize),(a.x>c||a.y>c)&&(a.x>c&&(i.x=Math.floor(c/b.x),a.x=i.x*b.x,y.mapSize.x=i.x),a.y>c&&(i.y=Math.floor(c/b.y),a.y=i.y*b.y,y.mapSize.y=i.y)),null===y.map){var _=this.type!==V?{minFilter:je,magFilter:je}:{};y.map=new Br(a.x,a.y,_),y.map.texture.name=m.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var S=y.getViewportCount(),w=0;w<S;w++){var M=y.getViewport(w);o.set(i.x*M.x,i.y*M.y,i.x*M.z,i.y*M.w),d.viewport(o),y.updateMatrices(m,w),r=y.getFrustum(),x(n,s,y.camera,m,this.type)}!0!==y.isPointLightShadow&&this.type===V&&g(y,s),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}v.needsUpdate=!1,e.setRenderTarget(l,u,h)}}}function Ml(e,t,n){var r,a,i=n.isWebGL2;var o=new function(){var t=!1,n=new Ir,r=null,a=new Ir(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,i,o,s){!0===s&&(t*=o,r*=o,i*=o),n.set(t,r,i,o),!1===a.equals(n)&&(e.clearColor(t,r,i,o),a.copy(n))},reset:function(){t=!1,r=null,a.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,a=null;return{setTest:function(e){e?W(2929):Ae(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case ge:e.depthFunc(512);break;case ye:e.depthFunc(519);break;case xe:e.depthFunc(513);break;case be:e.depthFunc(515);break;case _e:e.depthFunc(514);break;case Se:e.depthFunc(518);break;case we:e.depthFunc(516);break;case Me:e.depthFunc(517);break;default:e.depthFunc(515)}r=t}},setLocked:function(e){t=e},setClear:function(t){a!==t&&(e.clearDepth(t),a=t)},reset:function(){t=!1,n=null,r=null,a=null}}},l=new function(){var t=!1,n=null,r=null,a=null,i=null,o=null,s=null,l=null,u=null;return{setTest:function(e){t||(e?W(2960):Ae(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&a===n&&i===o||(e.stencilFunc(t,n,o),r=t,a=n,i=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,a=null,i=null,o=null,s=null,l=null,u=null}}},u=new WeakMap,c=new WeakMap,h={},d={},f=new WeakMap,p=[],m=null,v=!1,y=null,x=null,b=null,_=null,S=null,w=null,M=null,A=!1,C=null,k=null,T=null,E=null,I=null,B=e.getParameter(35661),P=!1,R=0,L=e.getParameter(7938);-1!==L.indexOf("WebGL")?(R=parseFloat(/^WebGL (\d)/.exec(L)[1]),P=R>=1):-1!==L.indexOf("OpenGL ES")&&(R=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),P=R>=2);var D=null,F={},U=e.getParameter(3088),N=e.getParameter(2978),G=(new Ir).fromArray(U),j=(new Ir).fromArray(N);function H(t,n,r){var a=new Uint8Array(4),i=e.createTexture();e.bindTexture(t,i),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,a);return i}var V={};function W(t){!0!==h[t]&&(e.enable(t),h[t]=!0)}function Ae(t){!1!==h[t]&&(e.disable(t),h[t]=!1)}V[3553]=H(3553,3553,1),V[34067]=H(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),l.setClear(0),W(2929),s.setFunc(be),Ie(!1),Be(O),W(2884),Ee(K);var Ce=(g(r={},te,32774),g(r,ne,32778),g(r,re,32779),r);if(i)Ce[ae]=32775,Ce[ie]=32776;else{var ke=t.get("EXT_blend_minmax");null!==ke&&(Ce[ae]=ke.MIN_EXT,Ce[ie]=ke.MAX_EXT)}var Te=(g(a={},oe,0),g(a,se,1),g(a,le,768),g(a,ce,770),g(a,ve,776),g(a,pe,774),g(a,de,772),g(a,ue,769),g(a,he,771),g(a,me,775),g(a,fe,773),a);function Ee(t,n,r,a,i,o,s,l){if(t!==K){if(!1===v&&(W(3042),v=!0),t===ee)i=i||n,o=o||r,s=s||a,n===x&&i===S||(e.blendEquationSeparate(Ce[n],Ce[i]),x=n,S=i),r===b&&a===_&&o===w&&s===M||(e.blendFuncSeparate(Te[r],Te[a],Te[o],Te[s]),b=r,_=a,w=o,M=s),y=t,A=null;else if(t!==y||l!==A){if(x===te&&S===te||(e.blendEquation(32774),x=te,S=te),l)switch(t){case Y:e.blendFuncSeparate(1,771,1,771);break;case Q:e.blendFunc(1,1);break;case Z:e.blendFuncSeparate(0,769,0,1);break;case $:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case Y:e.blendFuncSeparate(770,771,1,771);break;case Q:e.blendFunc(770,1);break;case Z:e.blendFuncSeparate(0,769,0,1);break;case $:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}b=null,_=null,w=null,M=null,y=t,A=l}}else!0===v&&(Ae(3042),v=!1)}function Ie(t){C!==t&&(t?e.frontFace(2304):e.frontFace(2305),C=t)}function Be(t){t!==q?(W(2884),t!==k&&(t===O?e.cullFace(1029):t===z?e.cullFace(1028):e.cullFace(1032))):Ae(2884),k=t}function Pe(t,n,r){t?(W(32823),E===n&&I===r||(e.polygonOffset(n,r),E=n,I=r)):Ae(32823)}return{buffers:{color:o,depth:s,stencil:l},enable:W,disable:Ae,bindFramebuffer:function(t,n){return d[t]!==n&&(e.bindFramebuffer(t,n),d[t]=n,i&&(36009===t&&(d[36160]=n),36160===t&&(d[36009]=n)),!0)},drawBuffers:function(r,a){var i=p,o=!1;if(r)if(void 0===(i=f.get(a))&&(i=[],f.set(a,i)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(i.length!==s.length||36064!==i[0]){for(var l=0,u=s.length;l<u;l++)i[l]=36064+l;i.length=s.length,o=!0}}else 36064!==i[0]&&(i[0]=36064,o=!0);else 1029!==i[0]&&(i[0]=1029,o=!0);o&&(n.isWebGL2?e.drawBuffers(i):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(i))},useProgram:function(t){return m!==t&&(e.useProgram(t),m=t,!0)},setBlending:Ee,setMaterial:function(e,t){e.side===X?Ae(2884):W(2884);var n=e.side===J;t&&(n=!n),Ie(n),e.blending===Y&&!1===e.transparent?Ee(K):Ee(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),o.setMask(e.colorWrite);var r=e.stencilWrite;l.setTest(r),r&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Pe(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?W(32926):Ae(32926)},setFlipSided:Ie,setCullFace:Be,setLineWidth:function(t){t!==T&&(P&&e.lineWidth(t),T=t)},setPolygonOffset:Pe,setScissorTest:function(e){e?W(3089):Ae(3089)},activeTexture:function(t){void 0===t&&(t=33984+B-1),D!==t&&(e.activeTexture(t),D=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===D?33984+B-1:D);var a=F[r];void 0===a&&(a={type:void 0,texture:void 0},F[r]=a),a.type===t&&a.texture===n||(D!==r&&(e.activeTexture(r),D=r),e.bindTexture(t,n||V[t]),a.type=t,a.texture=n)},unbindTexture:function(){var t=F[D];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var r=c.get(n);void 0===r&&(r=new WeakMap,c.set(n,r));var a=r.get(t);void 0===a&&(a=e.getUniformBlockIndex(n,t.name),r.set(t,a))},uniformBlockBinding:function(t,n){var r=c.get(n).get(t);u.get(t)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),u.set(t,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===G.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),G.copy(t))},viewport:function(t){!1===j.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),j.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===i&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},D=null,F={},d={},f=new WeakMap,p=[],m=null,v=!1,y=null,x=null,b=null,_=null,S=null,w=null,M=null,A=!1,C=null,k=null,T=null,E=null,I=null,G.set(0,0,e.canvas.width,e.canvas.height),j.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),l.reset()}}}function Al(e,t,n,r,a,i,o){var s,l,u,c=a.isWebGL2,h=a.maxTextures,d=a.maxCubemapSize,f=a.maxTextureSize,p=a.maxSamples,m=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,v=/OculusBrowser/g.test("undefined"===typeof navigator?"":navigator.userAgent),y=new WeakMap,x=new WeakMap,b=!1;try{b="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(V){}function _(e,t){return b?new OffscreenCanvas(e,t):dr("canvas")}function S(e,t,n,r){var a=1;if((e.width>r||e.height>r)&&(a=r/Math.max(e.width,e.height)),a<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var i=t?rr:Math.floor,o=i(a*e.width),s=i(a*e.height);void 0===u&&(u=_(o,s));var l=n?_(o,s):u;return l.width=o,l.height=s,l.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function w(e){return tr(e.width)&&tr(e.height)}function M(e,t){return e.generateMipmaps&&t&&e.minFilter!==je&&e.minFilter!==Xe}function A(t){e.generateMipmap(t)}function C(n,r,a,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===c)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;return 6403===r&&(5126===a&&(s=33326),5131===a&&(s=33325),5121===a&&(s=33321)),33319===r&&(5126===a&&(s=33328),5131===a&&(s=33327),5121===a&&(s=33323)),6408===r&&(5126===a&&(s=34836),5131===a&&(s=34842),5121===a&&(s=i===cn&&!1===o?35907:32856),32819===a&&(s=32854),32820===a&&(s=32855)),33325!==s&&33326!==s&&33327!==s&&33328!==s&&34842!==s&&34836!==s||t.get("EXT_color_buffer_float"),s}function k(e,t,n){return!0===M(e,n)||e.isFramebufferTexture&&e.minFilter!==je&&e.minFilter!==Xe?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function T(e){return e===je||e===He||e===We?9728:9729}function E(e){var t=e.target;t.removeEventListener("dispose",E),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,a=x.get(n);if(a){var i=a[t.__cacheKey];i.usedTimes--,0===i.usedTimes&&B(e),0===Object.keys(a).length&&x.delete(n)}r.remove(e)}(t),t.isVideoTexture&&y.delete(t)}function I(t){var n=t.target;n.removeEventListener("dispose",I),function(t){var n=t.texture,a=r.get(t),i=r.get(n);void 0!==i.__webglTexture&&(e.deleteTexture(i.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(a.__webglFramebuffer[s]),a.__webglDepthbuffer&&e.deleteRenderbuffer(a.__webglDepthbuffer[s]);else{if(e.deleteFramebuffer(a.__webglFramebuffer),a.__webglDepthbuffer&&e.deleteRenderbuffer(a.__webglDepthbuffer),a.__webglMultisampledFramebuffer&&e.deleteFramebuffer(a.__webglMultisampledFramebuffer),a.__webglColorRenderbuffer)for(var l=0;l<a.__webglColorRenderbuffer.length;l++)a.__webglColorRenderbuffer[l]&&e.deleteRenderbuffer(a.__webglColorRenderbuffer[l]);a.__webglDepthRenderbuffer&&e.deleteRenderbuffer(a.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var u=0,c=n.length;u<c;u++){var h=r.get(n[u]);h.__webglTexture&&(e.deleteTexture(h.__webglTexture),o.memory.textures--),r.remove(n[u])}r.remove(n),r.remove(t)}(n)}function B(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var a=t.source;delete x.get(a)[n.__cacheKey],o.memory.textures--}var P=0;function R(e,t){var a=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;y.get(e)!==t&&(y.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&a.__version!==e.version){var i=e.image;if(null===i)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==i.complete)return void q(a,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,a.__webglTexture,33984+t)}var L=(g(s={},ze,10497),g(s,Ne,33071),g(s,Ge,33648),s),D=(g(l={},je,9728),g(l,He,9984),g(l,We,9986),g(l,Xe,9729),g(l,Ke,9985),g(l,Qe,9987),l);function F(n,i,o){if(o?(e.texParameteri(n,10242,L[i.wrapS]),e.texParameteri(n,10243,L[i.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,L[i.wrapR]),e.texParameteri(n,10240,D[i.magFilter]),e.texParameteri(n,10241,D[i.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),i.wrapS===Ne&&i.wrapT===Ne||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,T(i.magFilter)),e.texParameteri(n,10241,T(i.minFilter)),i.minFilter!==je&&i.minFilter!==Xe&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(i.type===it&&!1===t.has("OES_texture_float_linear"))return;if(!1===c&&i.type===ot&&!1===t.has("OES_texture_half_float_linear"))return;(i.anisotropy>1||r.get(i).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(i.anisotropy,a.getMaxAnisotropy())),r.get(i).__currentAnisotropy=i.anisotropy)}}function U(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",E));var a=n.source,i=x.get(a);void 0===i&&(i={},x.set(a,i));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===i[s]&&(i[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),i[s].usedTimes++;var l=i[t.__cacheKey];void 0!==l&&(i[t.__cacheKey].usedTimes--,0===l.usedTimes&&B(n)),t.__cacheKey=s,t.__webglTexture=i[s].texture}return r}function q(t,a,o){var s=3553;(a.isDataArrayTexture||a.isCompressedArrayTexture)&&(s=35866),a.isData3DTexture&&(s=32879);var l=U(t,a),u=a.source;n.bindTexture(s,t.__webglTexture,33984+o);var h=r.get(u);if(u.version!==h.__version||!0===l){n.activeTexture(33984+o),e.pixelStorei(37440,a.flipY),e.pixelStorei(37441,a.premultiplyAlpha),e.pixelStorei(3317,a.unpackAlignment),e.pixelStorei(37443,0);var d,p=function(e){return!c&&(e.wrapS!==Ne||e.wrapT!==Ne||e.minFilter!==je&&e.minFilter!==Xe)}(a)&&!1===w(a.image),m=S(a.image,p,!1,f),v=w(m=H(a,m))||c,g=i.convert(a.format,a.encoding),y=i.convert(a.type),x=C(a.internalFormat,g,y,a.encoding,a.isVideoTexture);F(s,a,v);var b=a.mipmaps,_=c&&!0!==a.isVideoTexture,T=void 0===h.__version||!0===l,E=k(a,m,v);if(a.isDepthTexture)x=6402,c?x=a.type===it?36012:a.type===at?33190:a.type===ut?35056:33189:a.type===it&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),a.format===mt&&6402===x&&a.type!==nt&&a.type!==at&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),a.type=at,y=i.convert(a.type)),a.format===vt&&6402===x&&(x=34041,a.type!==ut&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),a.type=ut,y=i.convert(a.type))),T&&(_?n.texStorage2D(3553,1,x,m.width,m.height):n.texImage2D(3553,0,x,m.width,m.height,0,g,y,null));else if(a.isDataTexture)if(b.length>0&&v){_&&T&&n.texStorage2D(3553,E,x,b[0].width,b[0].height);for(var I=0,B=b.length;I<B;I++)d=b[I],_?n.texSubImage2D(3553,I,0,0,d.width,d.height,g,y,d.data):n.texImage2D(3553,I,x,d.width,d.height,0,g,y,d.data);a.generateMipmaps=!1}else _?(T&&n.texStorage2D(3553,E,x,m.width,m.height),n.texSubImage2D(3553,0,0,0,m.width,m.height,g,y,m.data)):n.texImage2D(3553,0,x,m.width,m.height,0,g,y,m.data);else if(a.isCompressedTexture)if(a.isCompressedArrayTexture){_&&T&&n.texStorage3D(35866,E,x,b[0].width,b[0].height,m.depth);for(var P=0,R=b.length;P<R;P++)d=b[P],a.format!==dt?null!==g?_?n.compressedTexSubImage3D(35866,P,0,0,0,d.width,d.height,m.depth,g,d.data,0,0):n.compressedTexImage3D(35866,P,x,d.width,d.height,m.depth,0,d.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_?n.texSubImage3D(35866,P,0,0,0,d.width,d.height,m.depth,g,y,d.data):n.texImage3D(35866,P,x,d.width,d.height,m.depth,0,g,y,d.data)}else{_&&T&&n.texStorage2D(3553,E,x,b[0].width,b[0].height);for(var L=0,D=b.length;L<D;L++)d=b[L],a.format!==dt?null!==g?_?n.compressedTexSubImage2D(3553,L,0,0,d.width,d.height,g,d.data):n.compressedTexImage2D(3553,L,x,d.width,d.height,0,d.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_?n.texSubImage2D(3553,L,0,0,d.width,d.height,g,y,d.data):n.texImage2D(3553,L,x,d.width,d.height,0,g,y,d.data)}else if(a.isDataArrayTexture)_?(T&&n.texStorage3D(35866,E,x,m.width,m.height,m.depth),n.texSubImage3D(35866,0,0,0,0,m.width,m.height,m.depth,g,y,m.data)):n.texImage3D(35866,0,x,m.width,m.height,m.depth,0,g,y,m.data);else if(a.isData3DTexture)_?(T&&n.texStorage3D(32879,E,x,m.width,m.height,m.depth),n.texSubImage3D(32879,0,0,0,0,m.width,m.height,m.depth,g,y,m.data)):n.texImage3D(32879,0,x,m.width,m.height,m.depth,0,g,y,m.data);else if(a.isFramebufferTexture){if(T)if(_)n.texStorage2D(3553,E,x,m.width,m.height);else for(var q=m.width,O=m.height,z=0;z<E;z++)n.texImage2D(3553,z,x,q,O,0,g,y,null),q>>=1,O>>=1}else if(b.length>0&&v){_&&T&&n.texStorage2D(3553,E,x,b[0].width,b[0].height);for(var N=0,G=b.length;N<G;N++)d=b[N],_?n.texSubImage2D(3553,N,0,0,g,y,d):n.texImage2D(3553,N,x,g,y,d);a.generateMipmaps=!1}else _?(T&&n.texStorage2D(3553,E,x,m.width,m.height),n.texSubImage2D(3553,0,0,0,g,y,m)):n.texImage2D(3553,0,x,g,y,m);M(a,v)&&A(s),h.__version=u.version,a.onUpdate&&a.onUpdate(a)}t.__version=a.version}function O(t,a,o,s,l){var u=i.convert(o.format,o.encoding),c=i.convert(o.type),h=C(o.internalFormat,u,c,o.encoding);r.get(a).__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,h,a.width,a.height,a.depth,0,u,c,null):n.texImage2D(l,0,h,a.width,a.height,0,u,c,null)),n.bindFramebuffer(36160,t),j(a)?m.framebufferTexture2DMultisampleEXT(36160,s,l,r.get(o).__webglTexture,0,G(a)):(3553===l||l>=34069&&l<=34074)&&e.framebufferTexture2D(36160,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function z(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var a=33189;if(r||j(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===it?a=36012:o.type===at&&(a=33190));var s=G(n);j(n)?m.renderbufferStorageMultisampleEXT(36161,s,a,n.width,n.height):e.renderbufferStorageMultisample(36161,s,a,n.width,n.height)}else e.renderbufferStorage(36161,a,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){var l=G(n);r&&!1===j(n)?e.renderbufferStorageMultisample(36161,l,35056,n.width,n.height):j(n)?m.renderbufferStorageMultisampleEXT(36161,l,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else for(var u=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<u.length;c++){var h=u[c],d=i.convert(h.format,h.encoding),f=i.convert(h.type),p=C(h.internalFormat,d,f,h.encoding),v=G(n);r&&!1===j(n)?e.renderbufferStorageMultisample(36161,v,p,n.width,n.height):j(n)?m.renderbufferStorageMultisampleEXT(36161,v,p,n.width,n.height):e.renderbufferStorage(36161,p,n.width,n.height)}e.bindRenderbuffer(36161,null)}function N(t){var a=r.get(t),i=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!a.__autoAllocateDepthBuffer){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,a){if(a&&a.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!a.depthTexture||!a.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(a.depthTexture).__webglTexture&&a.depthTexture.image.width===a.width&&a.depthTexture.image.height===a.height||(a.depthTexture.image.width=a.width,a.depthTexture.image.height=a.height,a.depthTexture.needsUpdate=!0),R(a.depthTexture,0);var i=r.get(a.depthTexture).__webglTexture,o=G(a);if(a.depthTexture.format===mt)j(a)?m.framebufferTexture2DMultisampleEXT(36160,36096,3553,i,0,o):e.framebufferTexture2D(36160,36096,3553,i,0);else{if(a.depthTexture.format!==vt)throw new Error("Unknown depthTexture format");j(a)?m.framebufferTexture2DMultisampleEXT(36160,33306,3553,i,0,o):e.framebufferTexture2D(36160,33306,3553,i,0)}}(a.__webglFramebuffer,t)}else if(i){a.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,a.__webglFramebuffer[o]),a.__webglDepthbuffer[o]=e.createRenderbuffer(),z(a.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(36160,a.__webglFramebuffer),a.__webglDepthbuffer=e.createRenderbuffer(),z(a.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function G(e){return Math.min(p,e.samples)}function j(e){var n=r.get(e);return c&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function H(e,n){var r=e.encoding,a=e.format,i=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===Vn||r!==un&&(r===cn?!1===c?!0===t.has("EXT_sRGB")&&a===dt?(e.format=Vn,e.minFilter=Xe,e.generateMipmaps=!1):n=Ar.sRGBToLinear(n):a===dt&&i===$e||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){var e=P;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),P+=1,e},this.resetTextureUnits=function(){P=0},this.setTexture2D=R,this.setTexture2DArray=function(e,t){var a=r.get(e);e.version>0&&a.__version!==e.version?q(a,e,t):n.bindTexture(35866,a.__webglTexture,33984+t)},this.setTexture3D=function(e,t){var a=r.get(e);e.version>0&&a.__version!==e.version?q(a,e,t):n.bindTexture(32879,a.__webglTexture,33984+t)},this.setTextureCube=function(t,a){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,a,o){if(6!==a.image.length)return;var s=U(t,a),l=a.source;n.bindTexture(34067,t.__webglTexture,33984+o);var u=r.get(l);if(l.version!==u.__version||!0===s){n.activeTexture(33984+o),e.pixelStorei(37440,a.flipY),e.pixelStorei(37441,a.premultiplyAlpha),e.pixelStorei(3317,a.unpackAlignment),e.pixelStorei(37443,0);for(var h=a.isCompressedTexture||a.image[0].isCompressedTexture,f=a.image[0]&&a.image[0].isDataTexture,p=[],m=0;m<6;m++)p[m]=h||f?f?a.image[m].image:a.image[m]:S(a.image[m],!1,!0,d),p[m]=H(a,p[m]);var v,g=p[0],y=w(g)||c,x=i.convert(a.format,a.encoding),b=i.convert(a.type),_=C(a.internalFormat,x,b,a.encoding),T=c&&!0!==a.isVideoTexture,E=void 0===u.__version||!0===s,I=k(a,g,y);if(F(34067,a,y),h){T&&E&&n.texStorage2D(34067,I,_,g.width,g.height);for(var B=0;B<6;B++){v=p[B].mipmaps;for(var P=0;P<v.length;P++){var R=v[P];a.format!==dt?null!==x?T?n.compressedTexSubImage2D(34069+B,P,0,0,R.width,R.height,x,R.data):n.compressedTexImage2D(34069+B,P,_,R.width,R.height,0,R.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):T?n.texSubImage2D(34069+B,P,0,0,R.width,R.height,x,b,R.data):n.texImage2D(34069+B,P,_,R.width,R.height,0,x,b,R.data)}}}else{v=a.mipmaps,T&&E&&(v.length>0&&I++,n.texStorage2D(34067,I,_,p[0].width,p[0].height));for(var L=0;L<6;L++)if(f){T?n.texSubImage2D(34069+L,0,0,0,p[L].width,p[L].height,x,b,p[L].data):n.texImage2D(34069+L,0,_,p[L].width,p[L].height,0,x,b,p[L].data);for(var D=0;D<v.length;D++){var q=v[D].image[L].image;T?n.texSubImage2D(34069+L,D+1,0,0,q.width,q.height,x,b,q.data):n.texImage2D(34069+L,D+1,_,q.width,q.height,0,x,b,q.data)}}else{T?n.texSubImage2D(34069+L,0,0,0,x,b,p[L]):n.texImage2D(34069+L,0,_,x,b,p[L]);for(var O=0;O<v.length;O++){var z=v[O];T?n.texSubImage2D(34069+L,O+1,0,0,x,b,z.image[L]):n.texImage2D(34069+L,O+1,_,x,b,z.image[L])}}}M(a,y)&&A(34067),u.__version=l.version,a.onUpdate&&a.onUpdate(a)}t.__version=a.version}(o,t,a):n.bindTexture(34067,o.__webglTexture,33984+a)},this.rebindTextures=function(e,t,n){var a=r.get(e);void 0!==t&&O(a.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&N(e)},this.setupRenderTarget=function(t){var s=t.texture,l=r.get(t),u=r.get(s);t.addEventListener("dispose",I),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=s.version,o.memory.textures++);var h=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,f=w(t)||c;if(h){l.__webglFramebuffer=[];for(var p=0;p<6;p++)l.__webglFramebuffer[p]=e.createFramebuffer()}else{if(l.__webglFramebuffer=e.createFramebuffer(),d)if(a.drawBuffers)for(var m=t.texture,v=0,g=m.length;v<g;v++){var y=r.get(m[v]);void 0===y.__webglTexture&&(y.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(c&&t.samples>0&&!1===j(t)){var x=d?s:[s];l.__webglMultisampledFramebuffer=e.createFramebuffer(),l.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,l.__webglMultisampledFramebuffer);for(var b=0;b<x.length;b++){var _=x[b];l.__webglColorRenderbuffer[b]=e.createRenderbuffer(),e.bindRenderbuffer(36161,l.__webglColorRenderbuffer[b]);var S=i.convert(_.format,_.encoding),k=i.convert(_.type),T=C(_.internalFormat,S,k,_.encoding,!0===t.isXRRenderTarget),E=G(t);e.renderbufferStorageMultisample(36161,E,T,t.width,t.height),e.framebufferRenderbuffer(36160,36064+b,36161,l.__webglColorRenderbuffer[b])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(l.__webglDepthRenderbuffer=e.createRenderbuffer(),z(l.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(h){n.bindTexture(34067,u.__webglTexture),F(34067,s,f);for(var B=0;B<6;B++)O(l.__webglFramebuffer[B],t,s,36064,34069+B);M(s,f)&&A(34067),n.unbindTexture()}else if(d){for(var P=t.texture,R=0,L=P.length;R<L;R++){var D=P[R],U=r.get(D);n.bindTexture(3553,U.__webglTexture),F(3553,D,f),O(l.__webglFramebuffer,t,D,36064+R,3553),M(D,f)&&A(3553)}n.unbindTexture()}else{var q=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(c?q=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(q,u.__webglTexture),F(q,s,f),O(l.__webglFramebuffer,t,s,36064,q),M(s,f)&&A(q),n.unbindTexture()}t.depthBuffer&&N(t)},this.updateRenderTargetMipmap=function(e){for(var t=w(e)||c,a=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],i=0,o=a.length;i<o;i++){var s=a[i];if(M(s,t)){var l=e.isWebGLCubeRenderTarget?34067:3553,u=r.get(s).__webglTexture;n.bindTexture(l,u),A(l),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(c&&t.samples>0&&!1===j(t)){var a=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],i=t.width,o=t.height,s=16384,l=[],u=t.stencilBuffer?33306:36096,h=r.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(var f=0;f<a.length;f++)n.bindFramebuffer(36160,h.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+f,36161,null),n.bindFramebuffer(36160,h.__webglFramebuffer),e.framebufferTexture2D(36009,36064+f,3553,null,0);n.bindFramebuffer(36008,h.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,h.__webglFramebuffer);for(var p=0;p<a.length;p++){l.push(36064+p),t.depthBuffer&&l.push(u);var m=void 0!==h.__ignoreDepthValues&&h.__ignoreDepthValues;if(!1===m&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),d&&e.framebufferRenderbuffer(36008,36064,36161,h.__webglColorRenderbuffer[p]),!0===m&&(e.invalidateFramebuffer(36008,[u]),e.invalidateFramebuffer(36009,[u])),d){var g=r.get(a[p]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,g,0)}e.blitFramebuffer(0,0,i,o,0,0,i,o,s,9728),v&&e.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),d)for(var y=0;y<a.length;y++){n.bindFramebuffer(36160,h.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+y,36161,h.__webglColorRenderbuffer[y]);var x=r.get(a[y]).__webglTexture;n.bindFramebuffer(36160,h.__webglFramebuffer),e.framebufferTexture2D(36009,36064+y,3553,x,0)}n.bindFramebuffer(36009,h.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=N,this.setupFrameBufferTexture=O,this.useMultisampledRTT=j}function Cl(e,t,n){var r=n.isWebGL2;return{convert:function(n){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n===$e)return 5121;if(n===st)return 32819;if(n===lt)return 32820;if(n===et)return 5120;if(n===tt)return 5122;if(n===nt)return 5123;if(n===rt)return 5124;if(n===at)return 5125;if(n===it)return 5126;if(n===ot)return r?5131:null!==(a=t.get("OES_texture_half_float"))?a.HALF_FLOAT_OES:null;if(n===ct)return 6406;if(n===dt)return 6408;if(n===ft)return 6409;if(n===pt)return 6410;if(n===mt)return 6402;if(n===vt)return 34041;if(n===gt)return 6403;if(n===ht)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(n===Vn)return null!==(a=t.get("EXT_sRGB"))?a.SRGB_ALPHA_EXT:null;if(n===yt)return 36244;if(n===xt)return 33319;if(n===bt)return 33320;if(n===_t)return 36249;if(n===St||n===wt||n===Mt||n===At)if(i===cn){if(null===(a=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===St)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===wt)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Mt)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===At)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(a=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===St)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===wt)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Mt)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===At)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Ct||n===kt||n===Tt||n===Et){if(null===(a=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===Ct)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===kt)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Tt)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Et)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===It)return null!==(a=t.get("WEBGL_compressed_texture_etc1"))?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===Bt||n===Pt){if(null===(a=t.get("WEBGL_compressed_texture_etc")))return null;if(n===Bt)return i===cn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===Pt)return i===cn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(n===Rt||n===Lt||n===Dt||n===Ft||n===Ut||n===qt||n===Ot||n===zt||n===Nt||n===Gt||n===jt||n===Ht||n===Vt||n===Wt){if(null===(a=t.get("WEBGL_compressed_texture_astc")))return null;if(n===Rt)return i===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Lt)return i===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Dt)return i===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Ft)return i===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Ut)return i===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===qt)return i===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Ot)return i===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===zt)return i===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Nt)return i===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Gt)return i===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===jt)return i===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Ht)return i===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Vt)return i===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Wt)return i===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Jt){if(null===(a=t.get("EXT_texture_compression_bptc")))return null;if(n===Jt)return i===cn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}return n===ut?r?34042:null!==(a=t.get("WEBGL_depth_texture"))?a.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var kl=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return b(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return S(n)}(Wi),Tl=function(e){w(n,e);var t=T(n);function n(){var e;return b(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return S(n)}(Oa),El={type:"move"},Il=function(){function e(){b(this,e),this._targetRay=null,this._grip=null,this._hand=null}return S(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Tl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Tl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new qr,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new qr),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Tl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new qr,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new qr),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,a=null,i=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){i=!0;var u,h=c(e.hand.values());try{for(h.s();!(u=h.n()).done;){var d=u.value,f=t.getJointPose(d,n);if(void 0===l.joints[d.jointName]){var p=new Tl;p.matrixAutoUpdate=!1,p.visible=!1,l.joints[d.jointName]=p,l.add(p)}var m=l.joints[d.jointName];null!==f&&(m.matrix.fromArray(f.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.jointRadius=f.radius),m.visible=null!==f}}catch(x){h.e(x)}finally{h.f()}var v=l.joints["index-finger-tip"],g=l.joints["thumb-tip"],y=v.position.distanceTo(g.position);l.inputState.pinching&&y>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&y<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(a=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(a.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),a.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(a.linearVelocity)):s.hasLinearVelocity=!1,a.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(a.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==a&&(r=a),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(El)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==a),null!==l&&(l.visible=null!==i),this}}]),e}(),Bl=function(e){w(n,e);var t=T(n);function n(e,r,a,i,o,s,l,u,c,h){var d;if(b(this,n),(h=void 0!==h?h:mt)!==mt&&h!==vt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===a&&h===mt&&(a=at),void 0===a&&h===vt&&(a=ut),(d=t.call(this,null,i,o,s,l,u,h,a,c)).isDepthTexture=!0,d.image={width:e,height:r},d.magFilter=void 0!==l?l:je,d.minFilter=void 0!==u?u:je,d.flipY=!1,d.generateMipmaps=!1,d}return S(n)}(Er),Pl=function(e){w(n,e);var t=T(n);function n(e,r){var a;b(this,n);var i=C(a=t.call(this)),o=null,s=1,l=null,u="local-floor",c=null,h=null,d=null,f=null,p=null,m=null,v=r.getContextAttributes(),g=null,y=null,x=[],_=[],S=new Wi;S.layers.enable(1),S.viewport=new Ir;var w=new Wi;w.layers.enable(2),w.viewport=new Ir;var M=[S,w],A=new kl;A.layers.enable(1),A.layers.enable(2);var k=null,T=null;function E(e){var t=_.indexOf(e.inputSource);if(-1!==t){var n=x[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}}function I(){o.removeEventListener("select",E),o.removeEventListener("selectstart",E),o.removeEventListener("selectend",E),o.removeEventListener("squeeze",E),o.removeEventListener("squeezestart",E),o.removeEventListener("squeezeend",E),o.removeEventListener("end",I),o.removeEventListener("inputsourceschange",P);for(var t=0;t<x.length;t++){var n=_[t];null!==n&&(_[t]=null,x[t].disconnect(n))}k=null,T=null,e.setRenderTarget(g),p=null,f=null,d=null,o=null,y=null,q.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function P(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=_.indexOf(n);r>=0&&(_[r]=null,x[r].dispatchEvent({type:"disconnected",data:n}))}for(var a=0;a<e.added.length;a++){var i=e.added[a],o=_.indexOf(i);if(-1===o){for(var s=0;s<x.length;s++){if(s>=_.length){_.push(i),o=s;break}if(null===_[s]){_[s]=i,o=s;break}}if(-1===o)break}var l=x[o];l&&l.dispatchEvent({type:"connected",data:i})}}a.cameraAutoUpdate=!0,a.enabled=!1,a.isPresenting=!1,a.getController=function(e){var t=x[e];return void 0===t&&(t=new Il,x[e]=t),t.getTargetRaySpace()},a.getControllerGrip=function(e){var t=x[e];return void 0===t&&(t=new Il,x[e]=t),t.getGripSpace()},a.getHand=function(e){var t=x[e];return void 0===t&&(t=new Il,x[e]=t),t.getHandSpace()},a.setFramebufferScaleFactor=function(e){s=e,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},a.setReferenceSpaceType=function(e){u=e,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},a.getReferenceSpace=function(){return c||l},a.setReferenceSpace=function(e){c=e},a.getBaseLayer=function(){return null!==f?f:p},a.getBinding=function(){return d},a.getFrame=function(){return m},a.getSession=function(){return o},a.setSession=function(){var t=B(L().mark((function t(n){var a,h,m,x,b;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=n)){t.next=25;break}if(g=e.getRenderTarget(),o.addEventListener("select",E),o.addEventListener("selectstart",E),o.addEventListener("selectend",E),o.addEventListener("squeeze",E),o.addEventListener("squeezestart",E),o.addEventListener("squeezeend",E),o.addEventListener("end",I),o.addEventListener("inputsourceschange",P),!0===v.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===o.renderState.layers||!1===e.capabilities.isWebGL2?(a={antialias:void 0!==o.renderState.layers||v.antialias,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s},p=new XRWebGLLayer(o,r,a),o.updateRenderState({baseLayer:p}),y=new Br(p.framebufferWidth,p.framebufferHeight,{format:dt,type:$e,encoding:e.outputEncoding,stencilBuffer:v.stencil})):(h=null,m=null,x=null,v.depth&&(x=v.stencil?35056:33190,h=v.stencil?vt:mt,m=v.stencil?ut:at),b={colorFormat:32856,depthFormat:x,scaleFactor:s},d=new XRWebGLBinding(o,r),f=d.createProjectionLayer(b),o.updateRenderState({layers:[f]}),y=new Br(f.textureWidth,f.textureHeight,{format:dt,type:$e,depthTexture:new Bl(f.textureWidth,f.textureHeight,m,void 0,void 0,void 0,void 0,void 0,void 0,h),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0}),e.properties.get(y).__ignoreDepthValues=f.ignoreDepthValues),y.isXRRenderTarget=!0,this.setFoveation(1),c=null,t.next=20,o.requestReferenceSpace(u);case 20:l=t.sent,q.setContext(o),q.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var R=new qr,D=new qr;function F(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}a.updateCamera=function(e){if(null!==o){A.near=w.near=S.near=e.near,A.far=w.far=S.far=e.far,k===A.near&&T===A.far||(o.updateRenderState({depthNear:A.near,depthFar:A.far}),k=A.near,T=A.far);var t=e.parent,n=A.cameras;F(A,t);for(var r=0;r<n.length;r++)F(n[r],t);A.matrixWorld.decompose(A.position,A.quaternion,A.scale),e.matrix.copy(A.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);for(var a=e.children,i=0,s=a.length;i<s;i++)a[i].updateMatrixWorld(!0);2===n.length?function(e,t,n){R.setFromMatrixPosition(t.matrixWorld),D.setFromMatrixPosition(n.matrixWorld);var r=R.distanceTo(D),a=t.projectionMatrix.elements,i=n.projectionMatrix.elements,o=a[14]/(a[10]-1),s=a[14]/(a[10]+1),l=(a[9]+1)/a[5],u=(a[9]-1)/a[5],c=(a[8]-1)/a[0],h=(i[8]+1)/i[0],d=o*c,f=o*h,p=r/(-c+h),m=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var v=o+p,g=s+p,y=d-m,x=f+(r-m),b=l*s/g*v,_=u*s/g*v;e.projectionMatrix.makePerspective(y,x,b,_,v,g)}(A,S,w):A.projectionMatrix.copy(S.projectionMatrix)}},a.getCamera=function(){return A},a.getFoveation=function(){return null!==f?f.fixedFoveation:null!==p?p.fixedFoveation:void 0},a.setFoveation=function(e){null!==f&&(f.fixedFoveation=e),null!==p&&void 0!==p.fixedFoveation&&(p.fixedFoveation=e)};var U=null;var q=new ao;return q.setAnimationLoop((function(t,n){if(h=n.getViewerPose(c||l),m=n,null!==h){var r=h.views;null!==p&&(e.setRenderTargetFramebuffer(y,p.framebuffer),e.setRenderTarget(y));var a=!1;r.length!==A.cameras.length&&(A.cameras.length=0,a=!0);for(var i=0;i<r.length;i++){var o=r[i],s=null;if(null!==p)s=p.getViewport(o);else{var u=d.getViewSubImage(f,o);s=u.viewport,0===i&&(e.setRenderTargetTextures(y,u.colorTexture,f.ignoreDepthValues?void 0:u.depthStencilTexture),e.setRenderTarget(y))}var v=M[i];void 0===v&&((v=new Wi).layers.enable(i),v.viewport=new Ir,M[i]=v),v.matrix.fromArray(o.transform.matrix),v.projectionMatrix.fromArray(o.projectionMatrix),v.viewport.set(s.x,s.y,s.width,s.height),0===i&&A.matrix.copy(v.matrix),!0===a&&A.cameras.push(v)}}for(var g=0;g<x.length;g++){var b=_[g],S=x[g];null!==b&&void 0!==S&&S.update(b,n,c||l)}U&&U(t,n),m=null})),a.setAnimationLoop=function(e){U=e},a.dispose=function(){},a}return S(n)}(Wn);function Rl(e,t){function n(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,r.side===J&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),r.side===J&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);var a,i,o=t.get(r).envMap;if(o&&(n.envMap.value=o,n.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;var s=!0!==e.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*s}r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?a=r.map:r.specularMap?a=r.specularMap:r.displacementMap?a=r.displacementMap:r.normalMap?a=r.normalMap:r.bumpMap?a=r.bumpMap:r.roughnessMap?a=r.roughnessMap:r.metalnessMap?a=r.metalnessMap:r.alphaMap?a=r.alphaMap:r.emissiveMap?a=r.emissiveMap:r.clearcoatMap?a=r.clearcoatMap:r.clearcoatNormalMap?a=r.clearcoatNormalMap:r.clearcoatRoughnessMap?a=r.clearcoatRoughnessMap:r.iridescenceMap?a=r.iridescenceMap:r.iridescenceThicknessMap?a=r.iridescenceThicknessMap:r.specularIntensityMap?a=r.specularIntensityMap:r.specularColorMap?a=r.specularColorMap:r.transmissionMap?a=r.transmissionMap:r.thicknessMap?a=r.thicknessMap:r.sheenColorMap?a=r.sheenColorMap:r.sheenRoughnessMap&&(a=r.sheenRoughnessMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uvTransform.value.copy(a.matrix)),r.aoMap?i=r.aoMap:r.lightMap&&(i=r.lightMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),n.uv2Transform.value.copy(i.matrix))}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,a,i,o){r.isMeshBasicMaterial||r.isMeshLambertMaterial?n(e,r):r.isMeshToonMaterial?(n(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(n(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(n(e,r),function(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap);n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap);t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===J&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap);t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,r,o)):r.isMeshMatcapMaterial?(n(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?n(e,r):r.isMeshDistanceMaterial?(n(e,r),function(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?n(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var a;t.map?a=t.map:t.alphaMap&&(a=t.alphaMap);void 0!==a&&(!0===a.matrixAutoUpdate&&a.updateMatrix(),e.uvTransform.value.copy(a.matrix))}(e,r,a,i):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Ll(e,t,n,r){var a={},i={},o=[],s=n.isWebGL2?e.getParameter(35375):0;function l(e,t,n){var r=e.value;if(void 0===n[t])return n[t]="number"===typeof r?r:r.clone(),!0;if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else{var a=n[t];if(!1===a.equals(r))return a.copy(r),!0}return!1}function u(e){var t=e.value,n={boundary:0,storage:0};return"number"===typeof t?(n.boundary=4,n.storage=4):t.isVector2?(n.boundary=8,n.storage=8):t.isVector3||t.isColor?(n.boundary=16,n.storage=12):t.isVector4?(n.boundary=16,n.storage=16):t.isMatrix3?(n.boundary=48,n.storage=48):t.isMatrix4?(n.boundary=64,n.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),n}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(a[n.id]),delete a[n.id],delete i[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,h){var d=a[n.id];void 0===d&&(!function(e){for(var t=e.uniforms,n=0,r=16,a=0,i=0,o=t.length;i<o;i++){var s=t[i],l=u(s);if(s.__data=new Float32Array(l.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=n,i>0)0!==(a=n%r)&&r-a-l.boundary<0&&(n+=r-a,s.__offset=n);n+=l.storage}(a=n%r)>0&&(n+=r-a);e.__size=n,e.__cache={}}(n),d=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),a=t.__size,i=t.usage;return e.bindBuffer(35345,r),e.bufferData(35345,a,i),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,r),r}(n),a[n.id]=d,n.addEventListener("dispose",c));var f=h.program;r.updateUBOMapping(n,f);var p=t.render.frame;i[n.id]!==p&&(!function(t){var n=a[t.id],r=t.uniforms,i=t.__cache;e.bindBuffer(35345,n);for(var o=0,s=r.length;o<s;o++){var u=r[o];if(!0===l(u,o,i)){var c=u.value,h=u.__offset;"number"===typeof c?(u.__data[0]=c,e.bufferSubData(35345,h,u.__data)):(u.value.isMatrix3?(u.__data[0]=u.value.elements[0],u.__data[1]=u.value.elements[1],u.__data[2]=u.value.elements[2],u.__data[3]=u.value.elements[0],u.__data[4]=u.value.elements[3],u.__data[5]=u.value.elements[4],u.__data[6]=u.value.elements[5],u.__data[7]=u.value.elements[0],u.__data[8]=u.value.elements[6],u.__data[9]=u.value.elements[7],u.__data[10]=u.value.elements[8],u.__data[11]=u.value.elements[0]):c.toArray(u.__data),e.bufferSubData(35345,h,u.__data))}}e.bindBuffer(35345,null)}(n),i[n.id]=p)},dispose:function(){for(var t in a)e.deleteBuffer(a[t]);o=[],a={},i={}}}}function Dl(){var e=dr("canvas");return e.style.display="block",e}function Fl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isWebGLRenderer=!0;var t,n=void 0!==e.canvas?e.canvas:Dl(),r=void 0!==e.context?e.context:null,a=void 0===e.depth||e.depth,i=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;t=null!==r?r.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;var h=null,d=null,f=[],p=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=un,this.physicallyCorrectLights=!1,this.toneMapping=Te,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});var m=this,v=!1,g=0,y=0,x=null,b=-1,_=null,S=new Ir,w=new Ir,M=null,A=n.width,C=n.height,k=1,T=null,E=null,I=new Ir(0,0,A,C),B=new Ir(0,0,A,C),P=!1,R=new ro,L=!1,F=!1,U=null,q=new pa,O=new sr,z=new qr,N={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function G(){return null===x?k:1}var j,H,V,K,Y,Q,Z,$,ee,te,ne,re,ae,ie,oe,se,le,ue,ce,he,de,fe,pe,me,ve=r;function ge(e,t){for(var r=0;r<e.length;r++){var a=e[r],i=n.getContext(a,t);if(null!==i)return i}return null}try{var ye={alpha:!0,depth:a,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if("setAttribute"in n&&n.setAttribute("data-engine","three.js r".concat(D)),n.addEventListener("webglcontextlost",Se,!1),n.addEventListener("webglcontextrestored",we,!1),n.addEventListener("webglcontextcreationerror",Me,!1),null===ve){var xe=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&xe.shift(),null===(ve=ge(xe,ye)))throw ge(xe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ve.getShaderPrecisionFormat&&(ve.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(He){throw console.error("THREE.WebGLRenderer: "+He.message),He}function be(){j=new Po(ve),H=new po(ve,j,e),j.init(H),fe=new Cl(ve,j,H),V=new Ml(ve,j,H),K=new Do,Y=new cl,Q=new Al(ve,j,V,Y,H,fe,K),Z=new vo(m),$=new Bo(m),ee=new io(ve,H),pe=new ho(ve,j,ee,H),te=new Ro(ve,ee,K,pe),ne=new Oo(ve,te,ee,K),ce=new qo(ve,H,Q),se=new mo(Y),re=new ul(m,Z,$,j,H,pe,se),ae=new Rl(m,Y),ie=new pl,oe=new bl(j,H),ue=new co(m,Z,$,V,ne,t,s),le=new wl(m,ne,H),me=new Ll(ve,K,H,V),he=new fo(ve,j,K,H),de=new Lo(ve,j,K,H),K.programs=re.programs,m.capabilities=H,m.extensions=j,m.properties=Y,m.renderLists=ie,m.shadowMap=le,m.state=V,m.info=K}be();var _e=new Pl(m,ve);function Se(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function we(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;var e=K.autoReset,t=le.enabled,n=le.autoUpdate,r=le.needsUpdate,a=le.type;be(),K.autoReset=e,le.enabled=t,le.autoUpdate=n,le.needsUpdate=r,le.type=a}function Me(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Ae(e){var t=e.target;t.removeEventListener("dispose",Ae),Ce(t)}function Ce(e){ke(e),Y.remove(e)}function ke(e){var t=Y.get(e).programs;void 0!==t&&(t.forEach((function(e){re.releaseProgram(e)})),e.isShaderMaterial&&re.releaseShaderCache(e))}this.xr=_e,this.getContext=function(){return ve},this.getContextAttributes=function(){return ve.getContextAttributes()},this.forceContextLoss=function(){var e=j.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=j.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(e){void 0!==e&&(k=e,this.setSize(A,C,!1))},this.getSize=function(e){return e.set(A,C)},this.setSize=function(e,t,r){_e.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(A=e,C=t,n.width=Math.floor(e*k),n.height=Math.floor(t*k),!1!==r&&(n.style.width=e+"px",n.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(A*k,C*k).floor()},this.setDrawingBufferSize=function(e,t,r){A=e,C=t,k=r,n.width=Math.floor(e*r),n.height=Math.floor(t*r),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(S)},this.getViewport=function(e){return e.copy(I)},this.setViewport=function(e,t,n,r){e.isVector4?I.set(e.x,e.y,e.z,e.w):I.set(e,t,n,r),V.viewport(S.copy(I).multiplyScalar(k).floor())},this.getScissor=function(e){return e.copy(B)},this.setScissor=function(e,t,n,r){e.isVector4?B.set(e.x,e.y,e.z,e.w):B.set(e,t,n,r),V.scissor(w.copy(B).multiplyScalar(k).floor())},this.getScissorTest=function(){return P},this.setScissorTest=function(e){V.setScissorTest(P=e)},this.setOpaqueSort=function(e){T=e},this.setTransparentSort=function(e){E=e},this.getClearColor=function(e){return e.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;e&&(r|=16384),t&&(r|=256),n&&(r|=1024),ve.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Se,!1),n.removeEventListener("webglcontextrestored",we,!1),n.removeEventListener("webglcontextcreationerror",Me,!1),ie.dispose(),oe.dispose(),Y.dispose(),Z.dispose(),$.dispose(),ne.dispose(),pe.dispose(),me.dispose(),re.dispose(),_e.dispose(),_e.removeEventListener("sessionstart",Be),_e.removeEventListener("sessionend",Pe),U&&(U.dispose(),U=null),Re.stop()},this.renderBufferDirect=function(e,t,n,r,a,i){null===t&&(t=N);var o=a.isMesh&&a.matrixWorld.determinant()<0,s=Ne(e,t,n,r,a);V.setMaterial(r,o);var l=n.index,u=n.attributes.position;if(null===l){if(void 0===u||0===u.count)return}else if(0===l.count)return;var c,h=1;!0===r.wireframe&&(l=te.getWireframeAttribute(n),h=2),pe.setup(a,r,s,n,l);var d=he;null!==l&&(c=ee.get(l),(d=de).setIndex(c));var f=null!==l?l.count:u.count,p=n.drawRange.start*h,m=n.drawRange.count*h,v=null!==i?i.start*h:0,g=null!==i?i.count*h:1/0,y=Math.max(p,v),x=Math.min(f,p+m,v+g)-1,b=Math.max(0,x-y+1);if(0!==b){if(a.isMesh)!0===r.wireframe?(V.setLineWidth(r.wireframeLinewidth*G()),d.setMode(1)):d.setMode(4);else if(a.isLine){var _=r.linewidth;void 0===_&&(_=1),V.setLineWidth(_*G()),a.isLineSegments?d.setMode(1):a.isLineLoop?d.setMode(2):d.setMode(3)}else a.isPoints?d.setMode(0):a.isSprite&&d.setMode(4);if(a.isInstancedMesh)d.renderInstances(y,b,a.count);else if(n.isInstancedBufferGeometry){var S=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,b,S)}else d.render(y,b)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===X?(e.side=J,e.needsUpdate=!0,Oe(e,t,n),e.side=W,e.needsUpdate=!0,Oe(e,t,n),e.side=X):Oe(e,t,n)}(d=oe.get(e)).init(),p.push(d),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(m.physicallyCorrectLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var a=0;a<r.length;a++){n(r[a],e,t)}else n(r,e,t)})),p.pop(),d=null};var Ee=null;function Ie(e){Ee&&Ee(e)}function Be(){Re.stop()}function Pe(){Re.start()}var Re=new ao;function Le(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||R.intersectsSprite(e)){r&&z.setFromMatrixPosition(e.matrixWorld).applyMatrix4(q);var a=ne.update(e),i=e.material;i.visible&&h.push(e,a,i,n,z.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==K.render.frame&&(e.skeleton.update(),e.skeleton.frame=K.render.frame),!e.frustumCulled||R.intersectsObject(e))){r&&z.setFromMatrixPosition(e.matrixWorld).applyMatrix4(q);var o=ne.update(e),s=e.material;if(Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var f=l[u],p=s[f.materialIndex];p&&p.visible&&h.push(e,o,p,n,z.z,f)}else s.visible&&h.push(e,o,s,n,z.z,null)}for(var m=e.children,v=0,g=m.length;v<g;v++)Le(m[v],t,n,r)}}function De(e,t,n,r){var a=e.opaque,i=e.transmissive,o=e.transparent;d.setupLightsView(n),i.length>0&&Fe(a,t,n),r&&V.viewport(S.copy(r)),a.length>0&&Ue(a,t,n),i.length>0&&Ue(i,t,n),o.length>0&&Ue(o,t,n),V.buffers.depth.setTest(!0),V.buffers.depth.setMask(!0),V.buffers.color.setMask(!0),V.setPolygonOffset(!1)}function Fe(e,t,n){var r=H.isWebGL2;null===U&&(U=new Br(1,1,{generateMipmaps:!0,type:j.has("EXT_color_buffer_half_float")?ot:$e,minFilter:Qe,samples:r&&!0===o?4:0})),m.getDrawingBufferSize(O),r?U.setSize(O.x,O.y):U.setSize(rr(O.x),rr(O.y));var a=m.getRenderTarget();m.setRenderTarget(U),m.clear();var i=m.toneMapping;m.toneMapping=Te,Ue(e,t,n),m.toneMapping=i,Q.updateMultisampleRenderTarget(U),Q.updateRenderTargetMipmap(U),m.setRenderTarget(a)}function Ue(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,a=0,i=e.length;a<i;a++){var o=e[a],s=o.object,l=o.geometry,u=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&qe(s,t,n,l,u,c)}}function qe(e,t,n,r,a,i){e.onBeforeRender(m,t,n,r,a,i),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),a.onBeforeRender(m,t,n,r,e,i),!0===a.transparent&&a.side===X?(a.side=J,a.needsUpdate=!0,m.renderBufferDirect(n,t,r,a,e,i),a.side=W,a.needsUpdate=!0,m.renderBufferDirect(n,t,r,a,e,i),a.side=X):m.renderBufferDirect(n,t,r,a,e,i),e.onAfterRender(m,t,n,r,a,i)}function Oe(e,t,n){!0!==t.isScene&&(t=N);var r=Y.get(e),a=d.state.lights,i=d.state.shadowsArray,o=a.state.version,s=re.getParameters(e,a.state,i,t,n),l=re.getProgramCacheKey(s),u=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?$:Z).get(e.envMap||r.environment),void 0===u&&(e.addEventListener("dispose",Ae),u=new Map,r.programs=u);var c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return ze(e,s),c}else s.uniforms=re.getUniforms(e),e.onBuild(n,s,m),e.onBeforeCompile(s,m),c=re.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;var h=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=se.uniform),ze(e,s),r.needsLights=je(e),r.lightsStateVersion=o,r.needsLights&&(h.ambientLightColor.value=a.state.ambient,h.lightProbe.value=a.state.probe,h.directionalLights.value=a.state.directional,h.directionalLightShadows.value=a.state.directionalShadow,h.spotLights.value=a.state.spot,h.spotLightShadows.value=a.state.spotShadow,h.rectAreaLights.value=a.state.rectArea,h.ltc_1.value=a.state.rectAreaLTC1,h.ltc_2.value=a.state.rectAreaLTC2,h.pointLights.value=a.state.point,h.pointLightShadows.value=a.state.pointShadow,h.hemisphereLights.value=a.state.hemi,h.directionalShadowMap.value=a.state.directionalShadowMap,h.directionalShadowMatrix.value=a.state.directionalShadowMatrix,h.spotShadowMap.value=a.state.spotShadowMap,h.spotLightMatrix.value=a.state.spotLightMatrix,h.spotLightMap.value=a.state.spotLightMap,h.pointShadowMap.value=a.state.pointShadowMap,h.pointShadowMatrix.value=a.state.pointShadowMatrix);var f=c.getUniforms(),p=js.seqWithValue(f.seq,h);return r.currentProgram=c,r.uniformsList=p,c}function ze(e,t){var n=Y.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function Ne(e,t,n,r,a){!0!==t.isScene&&(t=N),Q.resetTextureUnits();var i=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===x?m.outputEncoding:!0===x.isXRRenderTarget?x.texture.encoding:un,l=(r.isMeshStandardMaterial?$:Z).get(r.envMap||o),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!r.normalMap&&!!n.attributes.tangent,h=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,v=r.toneMapped?m.toneMapping:Te,g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,y=void 0!==g?g.length:0,S=Y.get(r),w=d.state.lights;if(!0===L&&(!0===F||e!==_)){var M=e===_&&r.id===b;se.setState(r,e,M)}var A=!1;r.version===S.__version?S.needsLights&&S.lightsStateVersion!==w.state.version||S.outputEncoding!==s||a.isInstancedMesh&&!1===S.instancing?A=!0:a.isInstancedMesh||!0!==S.instancing?a.isSkinnedMesh&&!1===S.skinning?A=!0:a.isSkinnedMesh||!0!==S.skinning?S.envMap!==l||!0===r.fog&&S.fog!==i?A=!0:void 0===S.numClippingPlanes||S.numClippingPlanes===se.numPlanes&&S.numIntersection===se.numIntersection?(S.vertexAlphas!==u||S.vertexTangents!==c||S.morphTargets!==h||S.morphNormals!==f||S.morphColors!==p||S.toneMapping!==v||!0===H.isWebGL2&&S.morphTargetsCount!==y)&&(A=!0):A=!0:A=!0:A=!0:(A=!0,S.__version=r.version);var T=S.currentProgram;!0===A&&(T=Oe(r,t,a));var E=!1,I=!1,B=!1,P=T.getUniforms(),R=S.uniforms;if(V.useProgram(T.program)&&(E=!0,I=!0,B=!0),r.id!==b&&(b=r.id,I=!0),E||_!==e){if(P.setValue(ve,"projectionMatrix",e.projectionMatrix),H.logarithmicDepthBuffer&&P.setValue(ve,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),_!==e&&(_=e,I=!0,B=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var D=P.map.cameraPosition;void 0!==D&&D.setValue(ve,z.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&P.setValue(ve,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||a.isSkinnedMesh)&&P.setValue(ve,"viewMatrix",e.matrixWorldInverse)}if(a.isSkinnedMesh){P.setOptional(ve,a,"bindMatrix"),P.setOptional(ve,a,"bindMatrixInverse");var q=a.skeleton;q&&(H.floatVertexTextures?(null===q.boneTexture&&q.computeBoneTexture(),P.setValue(ve,"boneTexture",q.boneTexture,Q),P.setValue(ve,"boneTextureSize",q.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var O=n.morphAttributes;if((void 0!==O.position||void 0!==O.normal||void 0!==O.color&&!0===H.isWebGL2)&&ce.update(a,n,r,T),(I||S.receiveShadow!==a.receiveShadow)&&(S.receiveShadow=a.receiveShadow,P.setValue(ve,"receiveShadow",a.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(R.envMap.value=l,R.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1),I&&(P.setValue(ve,"toneMappingExposure",m.toneMappingExposure),S.needsLights&&Ge(R,B),i&&!0===r.fog&&ae.refreshFogUniforms(R,i),ae.refreshMaterialUniforms(R,r,k,C,U),js.upload(ve,S.uniformsList,R,Q)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(js.upload(ve,S.uniformsList,R,Q),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&P.setValue(ve,"center",a.center),P.setValue(ve,"modelViewMatrix",a.modelViewMatrix),P.setValue(ve,"normalMatrix",a.normalMatrix),P.setValue(ve,"modelMatrix",a.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var G=r.uniformsGroups,j=0,W=G.length;j<W;j++)if(H.isWebGL2){var J=G[j];me.update(J,T),me.bind(J,T)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return T}function Ge(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function je(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Re.setAnimationLoop(Ie),"undefined"!==typeof self&&Re.setContext(self),this.setAnimationLoop=function(e){Ee=e,_e.setAnimationLoop(e),null===e?Re.stop():Re.start()},_e.addEventListener("sessionstart",Be),_e.addEventListener("sessionend",Pe),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==v){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===_e.enabled&&!0===_e.isPresenting&&(!0===_e.cameraAutoUpdate&&_e.updateCamera(t),t=_e.getCamera()),!0===e.isScene&&e.onBeforeRender(m,e,t,x),(d=oe.get(e,p.length)).init(),p.push(d),q.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),R.setFromProjectionMatrix(q),F=this.localClippingEnabled,L=se.init(this.clippingPlanes,F,t),(h=ie.get(e,f.length)).init(),f.push(h),Le(e,t,0,m.sortObjects),h.finish(),!0===m.sortObjects&&h.sort(T,E),!0===L&&se.beginShadows();var n=d.state.shadowsArray;if(le.render(n,e,t),!0===L&&se.endShadows(),!0===this.info.autoReset&&this.info.reset(),ue.render(h,e),d.setupLights(m.physicallyCorrectLights),t.isArrayCamera)for(var r=t.cameras,a=0,i=r.length;a<i;a++){var o=r[a];De(h,e,o,o.viewport)}else De(h,e,t);null!==x&&(Q.updateMultisampleRenderTarget(x),Q.updateRenderTargetMipmap(x)),!0===e.isScene&&e.onAfterRender(m,e,t),pe.resetDefaultState(),b=-1,_=null,p.pop(),d=p.length>0?p[p.length-1]:null,f.pop(),h=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(e,t,n){Y.get(e.texture).__webglTexture=t,Y.get(e.depthTexture).__webglTexture=n;var r=Y.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===j.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=Y.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;x=e,g=t,y=n;var r=!0,a=null,i=!1,o=!1;if(e){var s=Y.get(e);void 0!==s.__useDefaultFramebuffer?(V.bindFramebuffer(36160,null),r=!1):void 0===s.__webglFramebuffer?Q.setupRenderTarget(e):s.__hasExternalTextures&&Q.rebindTextures(e,Y.get(e.texture).__webglTexture,Y.get(e.depthTexture).__webglTexture);var l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);var u=Y.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(a=u[t],i=!0):a=H.isWebGL2&&e.samples>0&&!1===Q.useMultisampledRTT(e)?Y.get(e).__webglMultisampledFramebuffer:u,S.copy(e.viewport),w.copy(e.scissor),M=e.scissorTest}else S.copy(I).multiplyScalar(k).floor(),w.copy(B).multiplyScalar(k).floor(),M=P;var c=V.bindFramebuffer(36160,a);if(c&&H.drawBuffers&&r&&V.drawBuffers(e,a),V.viewport(S),V.scissor(w),V.setScissorTest(M),i){var h=Y.get(e.texture);ve.framebufferTexture2D(36160,36064,34069+t,h.__webglTexture,n)}else if(o){var d=Y.get(e.texture),f=t||0;ve.framebufferTextureLayer(36160,36064,d.__webglTexture,n||0,f)}b=-1},this.readRenderTargetPixels=function(e,t,n,r,a,i,o){if(e&&e.isWebGLRenderTarget){var s=Y.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){V.bindFramebuffer(36160,s);try{var l=e.texture,u=l.format,c=l.type;if(u!==dt&&fe.convert(u)!==ve.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=c===ot&&(j.has("EXT_color_buffer_half_float")||H.isWebGL2&&j.has("EXT_color_buffer_float"));if(c!==$e&&fe.convert(c)!==ve.getParameter(35738)&&(c!==it||!(H.isWebGL2||j.has("OES_texture_float")||j.has("WEBGL_color_buffer_float")))&&!h)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-a&&ve.readPixels(t,n,r,a,fe.convert(u),fe.convert(c),i)}finally{var d=null!==x?Y.get(x).__webglFramebuffer:null;V.bindFramebuffer(36160,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),a=Math.floor(t.image.width*r),i=Math.floor(t.image.height*r);Q.setTexture2D(t,0),ve.copyTexSubImage2D(3553,n,0,0,e.x,e.y,a,i),V.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=t.image.width,i=t.image.height,o=fe.convert(n.format),s=fe.convert(n.type);Q.setTexture2D(n,0),ve.pixelStorei(37440,n.flipY),ve.pixelStorei(37441,n.premultiplyAlpha),ve.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ve.texSubImage2D(3553,r,e.x,e.y,a,i,o,s,t.image.data):t.isCompressedTexture?ve.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):ve.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&ve.generateMipmap(3553),V.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(m.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var i,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,u=fe.convert(r.format),c=fe.convert(r.type);if(r.isData3DTexture)Q.setTexture3D(r,0),i=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Q.setTexture2DArray(r,0),i=35866}ve.pixelStorei(37440,r.flipY),ve.pixelStorei(37441,r.premultiplyAlpha),ve.pixelStorei(3317,r.unpackAlignment);var h=ve.getParameter(3314),d=ve.getParameter(32878),f=ve.getParameter(3316),p=ve.getParameter(3315),v=ve.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;ve.pixelStorei(3314,g.width),ve.pixelStorei(32878,g.height),ve.pixelStorei(3316,e.min.x),ve.pixelStorei(3315,e.min.y),ve.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?ve.texSubImage3D(i,a,t.x,t.y,t.z,o,s,l,u,c,g.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ve.compressedTexSubImage3D(i,a,t.x,t.y,t.z,o,s,l,u,g.data)):ve.texSubImage3D(i,a,t.x,t.y,t.z,o,s,l,u,c,g),ve.pixelStorei(3314,h),ve.pixelStorei(32878,d),ve.pixelStorei(3316,f),ve.pixelStorei(3315,p),ve.pixelStorei(32877,v),0===a&&r.generateMipmaps&&ve.generateMipmap(i),V.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?Q.setTextureCube(e,0):e.isData3DTexture?Q.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?Q.setTexture2DArray(e,0):Q.setTexture2D(e,0),V.unbindTexture()},this.resetState=function(){g=0,y=0,x=null,V.reset(),pe.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}var Ul=function(e){w(n,e);var t=T(n);function n(){return b(this,n),t.apply(this,arguments)}return S(n)}(Fl);Ul.prototype.isWebGL1Renderer=!0;var ql,Ol=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;b(this,e),this.isFogExp2=!0,this.name="",this.color=new Mr(t),this.density=n}return S(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),zl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;b(this,e),this.isFog=!0,this.name="",this.color=new Mr(t),this.near=n,this.far=r}return S(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),Nl=function(e){w(n,e);var t=T(n);function n(){var e;return b(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:C(e)})),e}return S(n,[{key:"copy",value:function(e,t){return R(M(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=R(M(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),t}},{key:"autoUpdate",get:function(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate},set:function(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}]),n}(Oa),Gl=function(){function e(t,n){b(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=Ln,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Qn()}return S(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Qn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Qn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),jl=new qr,Hl=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];b(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=!0===a}return S(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)jl.fromBufferAttribute(this,t),jl.applyMatrix4(e),this.setXYZ(t,jl.x,jl.y,jl.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)jl.fromBufferAttribute(this,t),jl.applyNormalMatrix(e),this.setXYZ(t,jl.x,jl.y,jl.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)jl.fromBufferAttribute(this,t),jl.transformDirection(e),this.setXYZ(t,jl.x,jl.y,jl.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ar(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ar(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ar(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ar(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=ir(t,this.array),n=ir(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ir(t,this.array),n=ir(n,this.array),r=ir(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=ir(t,this.array),n=ir(n,this.array),r=ir(r,this.array),a=ir(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=a,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var a=r*this.data.stride+this.offset,i=0;i<this.itemSize;i++)n.push(this.data.array[a+i]);return new ni(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,a=0;a<this.itemSize;a++)t.push(this.data.array[r+a]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}(),Vl=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isSpriteMaterial=!0,r.type="SpriteMaterial",r.color=new Mr(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.fog=!0,r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(Za),Wl=new qr,Jl=new qr,Xl=new qr,Kl=new sr,Yl=new sr,Ql=new pa,Zl=new qr,$l=new qr,eu=new qr,tu=new sr,nu=new sr,ru=new sr,au=function(e){w(n,e);var t=T(n);function n(e){var r;if(b(this,n),(r=t.call(this)).isSprite=!0,r.type="Sprite",void 0===ql){ql=new bi;var a=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Gl(a,5);ql.setIndex([0,1,2,0,2,3]),ql.setAttribute("position",new Hl(i,3,0,!1)),ql.setAttribute("uv",new Hl(i,2,3,!1))}return r.geometry=ql,r.material=void 0!==e?e:new Vl,r.center=new sr(.5,.5),r}return S(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Jl.setFromMatrixScale(this.matrixWorld),Ql.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Xl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Jl.multiplyScalar(-Xl.z);var n,r,a=this.material.rotation;0!==a&&(r=Math.cos(a),n=Math.sin(a));var i=this.center;iu(Zl.set(-.5,-.5,0),Xl,i,Jl,n,r),iu($l.set(.5,-.5,0),Xl,i,Jl,n,r),iu(eu.set(.5,.5,0),Xl,i,Jl,n,r),tu.set(0,0),nu.set(1,0),ru.set(1,1);var o=e.ray.intersectTriangle(Zl,$l,eu,!1,Wl);if(null!==o||(iu($l.set(-.5,.5,0),Xl,i,Jl,n,r),nu.set(0,1),null!==(o=e.ray.intersectTriangle(Zl,eu,$l,!1,Wl)))){var s=e.ray.origin.distanceTo(Wl);s<e.near||s>e.far||t.push({distance:s,point:Wl.clone(),uv:Ya.getUV(Wl,Zl,$l,eu,tu,nu,ru,new sr),face:null,object:this})}}},{key:"copy",value:function(e,t){return R(M(n.prototype),"copy",this).call(this,e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(Oa);function iu(e,t,n,r,a,i){Kl.subVectors(e,n).addScalar(.5).multiply(r),void 0!==a?(Yl.x=i*Kl.x-a*Kl.y,Yl.y=a*Kl.x+i*Kl.y):Yl.copy(Kl),e.copy(t),e.x+=Yl.x,e.y+=Yl.y,e.applyMatrix4(Ql)}var ou=new qr,su=new qr,lu=function(e){w(n,e);var t=T(n);function n(){var e;return b(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties(C(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return S(n,[{key:"copy",value:function(e){R(M(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,a=t.length;r<a;r++){var i=t[r];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);var n,r=this.levels;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){ou.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(ou);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){ou.setFromMatrixPosition(e.matrixWorld),su.setFromMatrixPosition(this.matrixWorld);var n,r,a=ou.distanceTo(su)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r&&a>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=R(M(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,a=0,i=r.length;a<i;a++){var o=r[a];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}]),n}(Oa),uu=new qr,cu=new Ir,hu=new Ir,du=new qr,fu=new pa,pu=function(e){w(n,e);var t=T(n);function n(e,r){var a;return b(this,n),(a=t.call(this,e,r)).isSkinnedMesh=!0,a.type="SkinnedMesh",a.bindMode="attached",a.bindMatrix=new pa,a.bindMatrixInverse=new pa,a}return S(n,[{key:"copy",value:function(e,t){return R(M(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new Ir,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){R(M(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;cu.fromBufferAttribute(r.attributes.skinIndex,e),hu.fromBufferAttribute(r.attributes.skinWeight,e),uu.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var a=0;a<4;a++){var i=hu.getComponent(a);if(0!==i){var o=cu.getComponent(a);fu.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(du.copy(uu).applyMatrix4(fu),i)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(qi),mu=function(e){w(n,e);var t=T(n);function n(){var e;return b(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return S(n)}(Oa),vu=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:je,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:je,f=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return b(this,n),(e=t.call(this,null,l,u,c,h,d,o,s,f,p)).isDataTexture=!0,e.image={data:r,width:a,height:i},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return S(n)}(Er),gu=new pa,yu=new pa,xu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];b(this,e),this.uuid=Qn(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return S(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new pa)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new pa;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,a=this.bones.length;r<a;r++){var i=this.bones[r];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,a=0,i=e.length;a<i;a++){var o=e[a]?e[a].matrixWorld:yu;gu.multiplyMatrices(o,t[a]),gu.toArray(n,16*a)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=nr(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new vu(t,e,e,dt,it);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var a=e.bones[n],i=t[a];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),i=new mu),this.bones.push(i),this.boneInverses.push((new pa).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,a=t.length;r<a;r++){var i=t[r];e.bones.push(i.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),bu=function(e){w(n,e);var t=T(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return b(this,n),(i=t.call(this,e,r,a)).isInstancedBufferAttribute=!0,i.meshPerAttribute=o,i}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(ni),_u=new pa,Su=new pa,wu=[],Mu=new pa,Au=new qi,Cu=function(e){w(n,e);var t=T(n);function n(e,r,a){var i;b(this,n),(i=t.call(this,e,r)).isInstancedMesh=!0,i.instanceMatrix=new bu(new Float32Array(16*a),16),i.instanceColor=null,i.count=a,i.frustumCulled=!1;for(var o=0;o<a;o++)i.setMatrixAt(o,Mu);return i}return S(n,[{key:"copy",value:function(e,t){return R(M(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(Au.geometry=this.geometry,Au.material=this.material,void 0!==Au.material)for(var a=0;a<r;a++){this.getMatrixAt(a,_u),Su.multiplyMatrices(n,_u),Au.matrixWorld=Su,Au.raycast(e,wu);for(var i=0,o=wu.length;i<o;i++){var s=wu[i];s.instanceId=a,s.object=this,t.push(s)}wu.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new bu(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(qi),ku=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new Mr(16777215),r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(Za),Tu=new qr,Eu=new qr,Iu=new pa,Bu=new fa,Pu=new ia,Ru=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bi,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ku;return b(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=r,e.material=a,e.updateMorphTargets(),e}return S(n,[{key:"copy",value:function(e,t){return R(M(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,a=t.count;r<a;r++)Tu.fromBufferAttribute(t,r-1),Eu.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Tu.distanceTo(Eu);e.setAttribute("lineDistance",new hi(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,i=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Pu.copy(n.boundingSphere),Pu.applyMatrix4(r),Pu.radius+=a,!1!==e.ray.intersectsSphere(Pu)){Iu.copy(r).invert(),Bu.copy(e.ray).applyMatrix4(Iu);var o=a/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new qr,u=new qr,c=new qr,h=new qr,d=this.isLineSegments?2:1,f=n.index,p=n.attributes.position;if(null!==f)for(var m=Math.max(0,i.start),v=Math.min(f.count,i.start+i.count)-1;m<v;m+=d){var g=f.getX(m),y=f.getX(m+1);if(l.fromBufferAttribute(p,g),u.fromBufferAttribute(p,y),!(Bu.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var x=e.ray.origin.distanceTo(h);x<e.near||x>e.far||t.push({distance:x,point:c.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else for(var b=Math.max(0,i.start),_=Math.min(p.count,i.start+i.count)-1;b<_;b+=d){if(l.fromBufferAttribute(p,b),u.fromBufferAttribute(p,b+1),!(Bu.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var S=e.ray.origin.distanceTo(h);S<e.near||S>e.far||t.push({distance:S,point:c.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=n.length;r<a;r++){var i=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=r}}}}}]),n}(Oa),Lu=new qr,Du=new qr,Fu=function(e){w(n,e);var t=T(n);function n(e,r){var a;return b(this,n),(a=t.call(this,e,r)).isLineSegments=!0,a.type="LineSegments",a}return S(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,a=t.count;r<a;r+=2)Lu.fromBufferAttribute(t,r),Du.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Lu.distanceTo(Du);e.setAttribute("lineDistance",new hi(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(Ru),Uu=function(e){w(n,e);var t=T(n);function n(e,r){var a;return b(this,n),(a=t.call(this,e,r)).isLineLoop=!0,a.type="LineLoop",a}return S(n)}(Ru),qu=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isPointsMaterial=!0,r.type="PointsMaterial",r.color=new Mr(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.fog=!0,r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(Za),Ou=new pa,zu=new fa,Nu=new ia,Gu=new qr,ju=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bi,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qu;return b(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=r,e.material=a,e.updateMorphTargets(),e}return S(n,[{key:"copy",value:function(e,t){return R(M(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,i=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Nu.copy(n.boundingSphere),Nu.applyMatrix4(r),Nu.radius+=a,!1!==e.ray.intersectsSphere(Nu)){Ou.copy(r).invert(),zu.copy(e.ray).applyMatrix4(Ou);var o=a/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,u=n.attributes.position;if(null!==l)for(var c=Math.max(0,i.start),h=Math.min(l.count,i.start+i.count);c<h;c++){var d=l.getX(c);Gu.fromBufferAttribute(u,d),Hu(Gu,d,s,r,e,t,this)}else for(var f=Math.max(0,i.start),p=Math.min(u.count,i.start+i.count);f<p;f++)Gu.fromBufferAttribute(u,f),Hu(Gu,f,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=n.length;r<a;r++){var i=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=r}}}}}]),n}(Oa);function Hu(e,t,n,r,a,i,o){var s=zu.distanceSqToPoint(e);if(s<n){var l=new qr;zu.closestPointToPoint(e,l),l.applyMatrix4(r);var u=a.ray.origin.distanceTo(l);if(u<a.near||u>a.far)return;i.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:o})}}var Vu=function(e){w(n,e);var t=T(n);function n(e,r,a,i,o,s,l,u,c){var h;b(this,n),(h=t.call(this,e,r,a,i,o,s,l,u,c)).isVideoTexture=!0,h.minFilter=void 0!==s?s:Xe,h.magFilter=void 0!==o?o:Xe,h.generateMipmaps=!1;var d=C(h);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){d.needsUpdate=!0,e.requestVideoFrameCallback(t)})),h}return S(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(Er),Wu=function(e){w(n,e);var t=T(n);function n(e,r,a){var i;return b(this,n),(i=t.call(this,{width:e,height:r})).isFramebufferTexture=!0,i.format=a,i.magFilter=je,i.minFilter=je,i.generateMipmaps=!1,i.needsUpdate=!0,i}return S(n)}(Er),Ju=function(e){w(n,e);var t=T(n);function n(e,r,a,i,o,s,l,u,c,h,d,f){var p;return b(this,n),(p=t.call(this,null,s,l,u,c,h,i,o,d,f)).isCompressedTexture=!0,p.image={width:r,height:a},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return S(n)}(Er),Xu=function(e){w(n,e);var t=T(n);function n(e,r,a,i,o,s){var l;return b(this,n),(l=t.call(this,e,r,a,o,s)).isCompressedArrayTexture=!0,l.image.depth=i,l.wrapR=Ne,l}return S(n)}(Ju),Ku=function(e){w(n,e);var t=T(n);function n(e,r,a,i,o,s,l,u,c){var h;return b(this,n),(h=t.call(this,e,r,a,i,o,s,l,u,c)).isCanvasTexture=!0,h.needsUpdate=!0,h}return S(n)}(Er),Yu=function(){function e(){b(this,e),this.type="Curve",this.arcLengthDivisions=200}return S(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),a=0;n.push(0);for(var i=1;i<=e;i++)a+=(t=this.getPoint(i/e)).distanceTo(r),n.push(a),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),a=0,i=r.length;n=t||e*r[i-1];for(var o,s=0,l=i-1;s<=l;)if((o=r[a=Math.floor(s+(l-s)/2)]-n)<0)s=a+1;else{if(!(o>0)){l=a;break}l=a-1}if(r[a=l]===n)return a/(i-1);var u=r[a];return(a+(n-u)/(r[a+1]-u))/(i-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,a=e+n;r<0&&(r=0),a>1&&(a=1);var i=this.getPoint(r),o=this.getPoint(a),s=t||(i.isVector2?new sr:new qr);return s.copy(o).sub(i).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new qr,r=[],a=[],i=[],o=new qr,s=new pa,l=0;l<=e;l++){var u=l/e;r[l]=this.getTangentAt(u,new qr)}a[0]=new qr,i[0]=new qr;var c=Number.MAX_VALUE,h=Math.abs(r[0].x),d=Math.abs(r[0].y),f=Math.abs(r[0].z);h<=c&&(c=h,n.set(1,0,0)),d<=c&&(c=d,n.set(0,1,0)),f<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),a[0].crossVectors(r[0],o),i[0].crossVectors(r[0],a[0]);for(var p=1;p<=e;p++){if(a[p]=a[p-1].clone(),i[p]=i[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var m=Math.acos(Zn(r[p-1].dot(r[p]),-1,1));a[p].applyMatrix4(s.makeRotationAxis(o,m))}i[p].crossVectors(r[p],a[p])}if(!0===t){var v=Math.acos(Zn(a[0].dot(a[e]),-1,1));v/=e,r[0].dot(o.crossVectors(a[0],a[e]))>0&&(v=-v);for(var g=1;g<=e;g++)a[g].applyMatrix4(s.makeRotationAxis(r[g],v*g)),i[g].crossVectors(r[g],a[g])}return{tangents:r,normals:a,binormals:i}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),Qu=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return b(this,n),(e=t.call(this)).isEllipseCurve=!0,e.type="EllipseCurve",e.aX=r,e.aY=a,e.xRadius=i,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=l,e.aClockwise=u,e.aRotation=c,e}return S(n,[{key:"getPoint",value:function(e,t){for(var n=t||new sr,r=2*Math.PI,a=this.aEndAngle-this.aStartAngle,i=Math.abs(a)<Number.EPSILON;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(a=i?0:r),!0!==this.aClockwise||i||(a===r?a=-r:a-=r);var o=this.aStartAngle+e*a,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,d=l-this.aY;s=h*u-d*c+this.aX,l=h*c+d*u+this.aY}return n.set(s,l)}},{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return R(M(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(Yu),Zu=function(e){w(n,e);var t=T(n);function n(e,r,a,i,o,s){var l;return b(this,n),(l=t.call(this,e,r,a,a,i,o,s)).isArcCurve=!0,l.type="ArcCurve",l}return S(n)}(Qu);function $u(){var e=0,t=0,n=0,r=0;function a(a,i,o,s){e=a,t=o,n=-3*a+3*i-2*o-s,r=2*a-2*i+o+s}return{initCatmullRom:function(e,t,n,r,i){a(t,n,i*(n-e),i*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,i,o,s){var l=(t-e)/i-(n-e)/(i+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+s)+(r-n)/s;a(t,n,l*=o,u*=o)},calc:function(a){var i=a*a;return e+t*a+n*i+r*(i*a)}}}var ec=new qr,tc=new $u,nc=new $u,rc=new $u,ac=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return b(this,n),(e=t.call(this)).isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=r,e.closed=a,e.curveType=i,e.tension=o,e}return S(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qr,a=r,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e,l=Math.floor(s),u=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/o)+1)*o:0===u&&l===o-1&&(l=o-2,u=1),this.closed||l>0?t=i[(l-1)%o]:(ec.subVectors(i[0],i[1]).add(i[0]),t=ec);var c=i[l%o],h=i[(l+1)%o];if(this.closed||l+2<o?n=i[(l+2)%o]:(ec.subVectors(i[o-1],i[o-2]).add(i[o-1]),n=ec),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,f=Math.pow(t.distanceToSquared(c),d),p=Math.pow(c.distanceToSquared(h),d),m=Math.pow(h.distanceToSquared(n),d);p<1e-4&&(p=1),f<1e-4&&(f=p),m<1e-4&&(m=p),tc.initNonuniformCatmullRom(t.x,c.x,h.x,n.x,f,p,m),nc.initNonuniformCatmullRom(t.y,c.y,h.y,n.y,f,p,m),rc.initNonuniformCatmullRom(t.z,c.z,h.z,n.z,f,p,m)}else"catmullrom"===this.curveType&&(tc.initCatmullRom(t.x,c.x,h.x,n.x,this.tension),nc.initCatmullRom(t.y,c.y,h.y,n.y,this.tension),rc.initCatmullRom(t.z,c.z,h.z,n.z,this.tension));return a.set(tc.calc(u),nc.calc(u),rc.calc(u)),a}},{key:"copy",value:function(e){R(M(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){R(M(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push((new qr).fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(Yu);function ic(e,t,n,r,a){var i=.5*(r-t),o=.5*(a-n),s=e*e;return(2*n-2*r+i+o)*(e*s)+(-3*n+3*r-2*i-o)*s+i*e+n}function oc(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function sc(e,t,n,r,a){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,a)}var lc=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new sr,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new sr;return b(this,n),(e=t.call(this)).isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=r,e.v1=a,e.v2=i,e.v3=o,e}return S(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,n=t,r=this.v0,a=this.v1,i=this.v2,o=this.v3;return n.set(sc(e,r.x,a.x,i.x,o.x),sc(e,r.y,a.y,i.y,o.y)),n}},{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return R(M(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Yu),uc=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qr,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new qr,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new qr;return b(this,n),(e=t.call(this)).isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=r,e.v1=a,e.v2=i,e.v3=o,e}return S(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qr,n=t,r=this.v0,a=this.v1,i=this.v2,o=this.v3;return n.set(sc(e,r.x,a.x,i.x,o.x),sc(e,r.y,a.y,i.y,o.y),sc(e,r.z,a.z,i.z,o.z)),n}},{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return R(M(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Yu),cc=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr;return b(this,n),(e=t.call(this)).isLineCurve=!0,e.type="LineCurve",e.v1=r,e.v2=a,e}return S(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new sr;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return R(M(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Yu),hc=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qr;return b(this,n),(e=t.call(this)).isLineCurve3=!0,e.type="LineCurve3",e.v1=r,e.v2=a,e}return S(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qr,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return R(M(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Yu),dc=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new sr;return b(this,n),(e=t.call(this)).isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=r,e.v1=a,e.v2=i,e}return S(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,n=t,r=this.v0,a=this.v1,i=this.v2;return n.set(oc(e,r.x,a.x,i.x),oc(e,r.y,a.y,i.y)),n}},{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return R(M(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Yu),fc=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qr,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new qr;return b(this,n),(e=t.call(this)).isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=r,e.v1=a,e.v2=i,e}return S(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qr,n=t,r=this.v0,a=this.v1,i=this.v2;return n.set(oc(e,r.x,a.x,i.x),oc(e,r.y,a.y,i.y),oc(e,r.z,a.z,i.z)),n}},{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return R(M(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Yu),pc=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return b(this,n),(e=t.call(this)).isSplineCurve=!0,e.type="SplineCurve",e.points=r,e}return S(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,n=t,r=this.points,a=(r.length-1)*e,i=Math.floor(a),o=a-i,s=r[0===i?i:i-1],l=r[i],u=r[i>r.length-2?r.length-1:i+1],c=r[i>r.length-3?r.length-1:i+2];return n.set(ic(o,s.x,l.x,u.x,c.x),ic(o,s.y,l.y,u.y,c.y)),n}},{key:"copy",value:function(e){R(M(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push(a.clone())}return this}},{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var a=this.points[t];e.points.push(a.toArray())}return e}},{key:"fromJSON",value:function(e){R(M(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push((new sr).fromArray(a))}return this}}]),n}(Yu),mc=Object.freeze({__proto__:null,ArcCurve:Zu,CatmullRomCurve3:ac,CubicBezierCurve:lc,CubicBezierCurve3:uc,EllipseCurve:Qu,LineCurve:cc,LineCurve3:hc,QuadraticBezierCurve:dc,QuadraticBezierCurve3:fc,SplineCurve:pc}),vc=function(e){w(n,e);var t=T(n);function n(){var e;return b(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return S(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new cc(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),a=0;a<r.length;){if(r[a]>=n){var i=r[a]-n,o=this.curves[a],s=o.getLength(),l=0===s?0:1-i/s;return o.getPointAt(l,t)}a++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,a=this.curves;r<a.length;r++)for(var i=a[r],o=i.isEllipseCurve?2*t:i.isLineCurve||i.isLineCurve3?1:i.isSplineCurve?t*i.points.length:t,s=i.getPoints(o),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){R(M(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var a=this.curves[t];e.curves.push(a.toJSON())}return e}},{key:"fromJSON",value:function(e){R(M(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var a=e.curves[t];this.curves.push((new mc[a.type]).fromJSON(a))}return this}}]),n}(Yu),gc=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).type="Path",r.currentPoint=new sr,e&&r.setFromPoints(e),r}return S(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new cc(this.currentPoint.clone(),new sr(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var a=new dc(this.currentPoint.clone(),new sr(e,t),new sr(n,r));return this.curves.push(a),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,a,i){var o=new lc(this.currentPoint.clone(),new sr(e,t),new sr(n,r),new sr(a,i));return this.curves.push(o),this.currentPoint.set(a,i),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new pc(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,a,i){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,a,i),this}},{key:"absarc",value:function(e,t,n,r,a,i){return this.absellipse(e,t,n,n,r,a,i),this}},{key:"ellipse",value:function(e,t,n,r,a,i,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,r,a,i,o,s),this}},{key:"absellipse",value:function(e,t,n,r,a,i,o,s){var l=new Qu(e,t,n,r,a,i,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return R(M(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(vc),yc=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new sr(0,-.5),new sr(.5,0),new sr(0,.5)],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;b(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:r,segments:a,phiStart:i,phiLength:o},a=Math.floor(a),o=Zn(o,0,2*Math.PI);for(var s=[],l=[],u=[],c=[],h=[],d=1/a,f=new qr,p=new sr,m=new qr,v=new qr,g=new qr,y=0,x=0,_=0;_<=r.length-1;_++)switch(_){case 0:y=r[_+1].x-r[_].x,x=r[_+1].y-r[_].y,m.x=1*x,m.y=-y,m.z=0*x,g.copy(m),m.normalize(),c.push(m.x,m.y,m.z);break;case r.length-1:c.push(g.x,g.y,g.z);break;default:y=r[_+1].x-r[_].x,x=r[_+1].y-r[_].y,m.x=1*x,m.y=-y,m.z=0*x,v.copy(m),m.x+=g.x,m.y+=g.y,m.z+=g.z,m.normalize(),c.push(m.x,m.y,m.z),g.copy(v)}for(var S=0;S<=a;S++)for(var w=i+S*d*o,M=Math.sin(w),A=Math.cos(w),C=0;C<=r.length-1;C++){f.x=r[C].x*M,f.y=r[C].y,f.z=r[C].x*A,l.push(f.x,f.y,f.z),p.x=S/a,p.y=C/(r.length-1),u.push(p.x,p.y);var k=c[3*C+0]*M,T=c[3*C+1],E=c[3*C+0]*A;h.push(k,T,E)}for(var I=0;I<a;I++)for(var B=0;B<r.length-1;B++){var P=B+I*r.length,R=P,L=P+r.length,D=P+r.length+1,F=P+1;s.push(R,L,F),s.push(D,F,L)}return e.setIndex(s),e.setAttribute("position",new hi(l,3)),e.setAttribute("uv",new hi(u,2)),e.setAttribute("normal",new hi(h,3)),e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(bi),xc=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;b(this,n);var s=new gc;return s.absarc(0,-a/2,r,1.5*Math.PI,0),s.absarc(0,a/2,r,0,.5*Math.PI),(e=t.call(this,s.getPoints(i),o)).type="CapsuleGeometry",e.parameters={radius:r,height:a,capSegments:i,radialSegments:o},e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.length,e.capSegments,e.radialSegments)}}]),n}(yc),bc=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;b(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:a,thetaStart:i,thetaLength:o},a=Math.max(3,a);var s=[],l=[],u=[],c=[],h=new qr,d=new sr;l.push(0,0,0),u.push(0,0,1),c.push(.5,.5);for(var f=0,p=3;f<=a;f++,p+=3){var m=i+f/a*o;h.x=r*Math.cos(m),h.y=r*Math.sin(m),l.push(h.x,h.y,h.z),u.push(0,0,1),d.x=(l[p]/r+1)/2,d.y=(l[p+1]/r+1)/2,c.push(d.x,d.y)}for(var v=1;v<=a;v++)s.push(v,v+1,0);return e.setIndex(s),e.setAttribute("position",new hi(l,3)),e.setAttribute("normal",new hi(u,3)),e.setAttribute("uv",new hi(c,2)),e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(bi),_c=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;b(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:a,height:i,radialSegments:o,heightSegments:s,openEnded:l,thetaStart:u,thetaLength:c};var h=C(e);o=Math.floor(o),s=Math.floor(s);var d=[],f=[],p=[],m=[],v=0,g=[],y=i/2,x=0;function _(){for(var e=new qr,t=new qr,n=0,l=(a-r)/i,b=0;b<=s;b++){for(var _=[],S=b/s,w=S*(a-r)+r,M=0;M<=o;M++){var A=M/o,C=A*c+u,k=Math.sin(C),T=Math.cos(C);t.x=w*k,t.y=-S*i+y,t.z=w*T,f.push(t.x,t.y,t.z),e.set(k,l,T).normalize(),p.push(e.x,e.y,e.z),m.push(A,1-S),_.push(v++)}g.push(_)}for(var E=0;E<o;E++)for(var I=0;I<s;I++){var B=g[I][E],P=g[I+1][E],R=g[I+1][E+1],L=g[I][E+1];d.push(B,P,L),d.push(P,R,L),n+=6}h.addGroup(x,n,0),x+=n}function S(e){for(var t=v,n=new sr,i=new qr,s=0,l=!0===e?r:a,g=!0===e?1:-1,b=1;b<=o;b++)f.push(0,y*g,0),p.push(0,g,0),m.push(.5,.5),v++;for(var _=v,S=0;S<=o;S++){var w=S/o*c+u,M=Math.cos(w),A=Math.sin(w);i.x=l*A,i.y=y*g,i.z=l*M,f.push(i.x,i.y,i.z),p.push(0,g,0),n.x=.5*M+.5,n.y=.5*A*g+.5,m.push(n.x,n.y),v++}for(var C=0;C<o;C++){var k=t+C,T=_+C;!0===e?d.push(T,T+1,k):d.push(T+1,T,k),s+=3}h.addGroup(x,s,!0===e?1:2),x+=s}return _(),!1===l&&(r>0&&S(!0),a>0&&S(!1)),e.setIndex(d),e.setAttribute("position",new hi(f,3)),e.setAttribute("normal",new hi(p,3)),e.setAttribute("uv",new hi(m,2)),e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(bi),Sc=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return b(this,n),(e=t.call(this,0,r,a,i,o,s,l,u)).type="ConeGeometry",e.parameters={radius:r,height:a,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:u},e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(_c),wc=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;b(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:r,indices:a,radius:i,detail:o};var s=[],l=[];function u(e){for(var t=new qr,n=new qr,r=new qr,i=0;i<a.length;i+=3)m(a[i+0],t),m(a[i+1],n),m(a[i+2],r),c(t,n,r,e)}function c(e,t,n,r){for(var a=r+1,i=[],o=0;o<=a;o++){i[o]=[];for(var s=e.clone().lerp(n,o/a),l=t.clone().lerp(n,o/a),u=a-o,c=0;c<=u;c++)i[o][c]=0===c&&o===a?s:s.clone().lerp(l,c/u)}for(var h=0;h<a;h++)for(var d=0;d<2*(a-h)-1;d++){var f=Math.floor(d/2);d%2===0?(p(i[h][f+1]),p(i[h+1][f]),p(i[h][f])):(p(i[h][f+1]),p(i[h+1][f+1]),p(i[h+1][f]))}}function h(e){for(var t=new qr,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}function d(){for(var e=new qr,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=y(e)/2/Math.PI+.5,r=x(e)/Math.PI+.5;l.push(n,1-r)}v(),f()}function f(){for(var e=0;e<l.length;e+=6){var t=l[e+0],n=l[e+2],r=l[e+4],a=Math.max(t,n,r),i=Math.min(t,n,r);a>.9&&i<.1&&(t<.2&&(l[e+0]+=1),n<.2&&(l[e+2]+=1),r<.2&&(l[e+4]+=1))}}function p(e){s.push(e.x,e.y,e.z)}function m(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function v(){for(var e=new qr,t=new qr,n=new qr,r=new qr,a=new sr,i=new sr,o=new sr,u=0,c=0;u<s.length;u+=9,c+=6){e.set(s[u+0],s[u+1],s[u+2]),t.set(s[u+3],s[u+4],s[u+5]),n.set(s[u+6],s[u+7],s[u+8]),a.set(l[c+0],l[c+1]),i.set(l[c+2],l[c+3]),o.set(l[c+4],l[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var h=y(r);g(a,c+0,e,h),g(i,c+2,t,h),g(o,c+4,n,h)}}function g(e,t,n,r){r<0&&1===e.x&&(l[t]=e.x-1),0===n.x&&0===n.z&&(l[t]=r/2/Math.PI+.5)}function y(e){return Math.atan2(e.z,-e.x)}function x(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}return u(o),h(i),d(),e.setAttribute("position",new hi(s,3)),e.setAttribute("normal",new hi(s.slice(),3)),e.setAttribute("uv",new hi(l,2)),0===o?e.computeVertexNormals():e.normalizeNormals(),e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(bi),Mc=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;b(this,n);var i=(1+Math.sqrt(5))/2,o=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-i,0,-o,i,0,o,-i,0,o,i,-o,-i,0,-o,i,0,o,-i,0,o,i,0,-i,0,-o,i,0,-o,-i,0,o,i,0,o],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];return(e=t.call(this,s,l,r,a)).type="DodecahedronGeometry",e.parameters={radius:r,detail:a},e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(wc),Ac=new qr,Cc=new qr,kc=new qr,Tc=new Ya,Ec=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(b(this,n),(e=t.call(this)).type="EdgesGeometry",e.parameters={geometry:r,thresholdAngle:a},null!==r){for(var i=4,o=Math.pow(10,i),s=Math.cos(Kn*a),l=r.getIndex(),u=r.getAttribute("position"),c=l?l.count:u.count,h=[0,0,0],d=["a","b","c"],f=new Array(3),p={},m=[],v=0;v<c;v+=3){l?(h[0]=l.getX(v),h[1]=l.getX(v+1),h[2]=l.getX(v+2)):(h[0]=v,h[1]=v+1,h[2]=v+2);var g=Tc.a,y=Tc.b,x=Tc.c;if(g.fromBufferAttribute(u,h[0]),y.fromBufferAttribute(u,h[1]),x.fromBufferAttribute(u,h[2]),Tc.getNormal(kc),f[0]="".concat(Math.round(g.x*o),",").concat(Math.round(g.y*o),",").concat(Math.round(g.z*o)),f[1]="".concat(Math.round(y.x*o),",").concat(Math.round(y.y*o),",").concat(Math.round(y.z*o)),f[2]="".concat(Math.round(x.x*o),",").concat(Math.round(x.y*o),",").concat(Math.round(x.z*o)),f[0]!==f[1]&&f[1]!==f[2]&&f[2]!==f[0])for(var _=0;_<3;_++){var S=(_+1)%3,w=f[_],M=f[S],A=Tc[d[_]],C=Tc[d[S]],k="".concat(w,"_").concat(M),T="".concat(M,"_").concat(w);T in p&&p[T]?(kc.dot(p[T].normal)<=s&&(m.push(A.x,A.y,A.z),m.push(C.x,C.y,C.z)),p[T]=null):k in p||(p[k]={index0:h[_],index1:h[S],normal:kc.clone()})}}for(var E in p)if(p[E]){var I=p[E],B=I.index0,P=I.index1;Ac.fromBufferAttribute(u,B),Cc.fromBufferAttribute(u,P),m.push(Ac.x,Ac.y,Ac.z),m.push(Cc.x,Cc.y,Cc.z)}e.setAttribute("position",new hi(m,3))}return e}return S(n)}(bi),Ic=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).uuid=Qn(),r.type="Shape",r.holes=[],r}return S(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){R(M(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var a=e.holes[t];this.holes.push(a.clone())}return this}},{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var a=this.holes[t];e.holes.push(a.toJSON())}return e}},{key:"fromJSON",value:function(e){R(M(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var a=e.holes[t];this.holes.push((new gc).fromJSON(a))}return this}}]),n}(gc),Bc=function(e,t){var n,r,a,i,o,s,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,h=c?t[0]*u:e.length,d=Pc(e,0,h,u,!0),f=[];if(!d||d.next===d.prev)return f;if(c&&(d=Oc(e,t,d,u)),e.length>80*u){n=a=e[0],r=i=e[1];for(var p=u;p<h;p+=u)(o=e[p])<n&&(n=o),(s=e[p+1])<r&&(r=s),o>a&&(a=o),s>i&&(i=s);l=0!==(l=Math.max(a-n,i-r))?32767/l:0}return Lc(d,f,u,n,r,l,0),f};function Pc(e,t,n,r,a){var i,o;if(a===function(e,t,n,r){for(var a=0,i=t,o=n-r;i<n;i+=r)a+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return a}(e,t,n,r)>0)for(i=t;i<n;i+=r)o=eh(i,e[i],e[i+1],o);else for(i=n-r;i>=t;i-=r)o=eh(i,e[i],e[i+1],o);return o&&Xc(o,o.next)&&(th(o),o=o.next),o}function Rc(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Xc(r,r.next)&&0!==Jc(r.prev,r,r.next))r=r.next;else{if(th(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Lc(e,t,n,r,a,i,o){if(e){!o&&i&&function(e,t,n,r){var a=e;do{0===a.z&&(a.z=jc(a.x,a.y,t,n,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next}while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,function(e){var t,n,r,a,i,o,s,l,u=1;do{for(n=e,e=null,i=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(a=n,n=n.nextZ,s--):(a=r,r=r.nextZ,l--),i?i.nextZ=a:e=a,a.prevZ=i,i=a;n=r}i.nextZ=null,u*=2}while(o>1)}(a)}(e,r,a,i);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,i?Fc(e,r,a,i):Dc(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),th(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?Lc(e=Uc(Rc(e),t,n),t,n,r,a,i,2):2===o&&qc(e,t,n,r,a,i):Lc(Rc(e),t,n,r,a,i,1);break}}}function Dc(e){var t=e.prev,n=e,r=e.next;if(Jc(t,n,r)>=0)return!1;for(var a=t.x,i=n.x,o=r.x,s=t.y,l=n.y,u=r.y,c=a<i?a<o?a:o:i<o?i:o,h=s<l?s<u?s:u:l<u?l:u,d=a>i?a>o?a:o:i>o?i:o,f=s>l?s>u?s:u:l>u?l:u,p=r.next;p!==t;){if(p.x>=c&&p.x<=d&&p.y>=h&&p.y<=f&&Vc(a,s,i,l,o,u,p.x,p.y)&&Jc(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Fc(e,t,n,r){var a=e.prev,i=e,o=e.next;if(Jc(a,i,o)>=0)return!1;for(var s=a.x,l=i.x,u=o.x,c=a.y,h=i.y,d=o.y,f=s<l?s<u?s:u:l<u?l:u,p=c<h?c<d?c:d:h<d?h:d,m=s>l?s>u?s:u:l>u?l:u,v=c>h?c>d?c:d:h>d?h:d,g=jc(f,p,t,n,r),y=jc(m,v,t,n,r),x=e.prevZ,b=e.nextZ;x&&x.z>=g&&b&&b.z<=y;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=v&&x!==a&&x!==o&&Vc(s,c,l,h,u,d,x.x,x.y)&&Jc(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,b.x>=f&&b.x<=m&&b.y>=p&&b.y<=v&&b!==a&&b!==o&&Vc(s,c,l,h,u,d,b.x,b.y)&&Jc(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;x&&x.z>=g;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=v&&x!==a&&x!==o&&Vc(s,c,l,h,u,d,x.x,x.y)&&Jc(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;b&&b.z<=y;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=v&&b!==a&&b!==o&&Vc(s,c,l,h,u,d,b.x,b.y)&&Jc(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Uc(e,t,n){var r=e;do{var a=r.prev,i=r.next.next;!Xc(a,i)&&Kc(a,r,r.next,i)&&Zc(a,i)&&Zc(i,a)&&(t.push(a.i/n|0),t.push(r.i/n|0),t.push(i.i/n|0),th(r),th(r.next),r=e=i),r=r.next}while(r!==e);return Rc(r)}function qc(e,t,n,r,a,i){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Wc(o,s)){var l=$c(o,s);return o=Rc(o,o.next),l=Rc(l,l.next),Lc(o,t,n,r,a,i,0),void Lc(l,t,n,r,a,i,0)}s=s.next}o=o.next}while(o!==e)}function Oc(e,t,n,r){var a,i,o,s=[];for(a=0,i=t.length;a<i;a++)(o=Pc(e,t[a]*r,a<i-1?t[a+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(Hc(o));for(s.sort(zc),a=0;a<s.length;a++)n=Nc(s[a],n);return n}function zc(e,t){return e.x-t.x}function Nc(e,t){var n=function(e,t){var n,r=t,a=-1/0,i=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==t);if(!n)return null;var l,u=n,c=n.x,h=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Vc(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),Zc(r,e)&&(l<d||l===d&&(r.x>n.x||r.x===n.x&&Gc(n,r)))&&(n=r,d=l)),r=r.next}while(r!==u);return n}(e,t);if(!n)return t;var r=$c(n,e);return Rc(r,r.next),Rc(n,n.next)}function Gc(e,t){return Jc(e.prev,e,t.prev)<0&&Jc(t.next,e,e.next)<0}function jc(e,t,n,r,a){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*a|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*a|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Hc(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Vc(e,t,n,r,a,i,o,s){return(a-o)*(t-s)>=(e-o)*(i-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(i-s)>=(a-o)*(r-s)}function Wc(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Kc(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Zc(e,t)&&Zc(t,e)&&function(e,t){var n=e,r=!1,a=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!==n.next.y>i&&n.next.y!==n.y&&a<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Jc(e.prev,e,t.prev)||Jc(e,t.prev,t))||Xc(e,t)&&Jc(e.prev,e,e.next)>0&&Jc(t.prev,t,t.next)>0)}function Jc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Xc(e,t){return e.x===t.x&&e.y===t.y}function Kc(e,t,n,r){var a=Qc(Jc(e,t,n)),i=Qc(Jc(e,t,r)),o=Qc(Jc(n,r,e)),s=Qc(Jc(n,r,t));return a!==i&&o!==s||(!(0!==a||!Yc(e,n,t))||(!(0!==i||!Yc(e,r,t))||(!(0!==o||!Yc(n,e,r))||!(0!==s||!Yc(n,t,r)))))}function Yc(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Qc(e){return e>0?1:e<0?-1:0}function Zc(e,t){return Jc(e.prev,e,e.next)<0?Jc(e,t,e.next)>=0&&Jc(e,e.prev,t)>=0:Jc(e,t,e.prev)<0||Jc(e,e.next,t)<0}function $c(e,t){var n=new nh(e.i,e.x,e.y),r=new nh(t.i,t.x,t.y),a=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=a,a.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function eh(e,t,n,r){var a=new nh(e,t,n);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function th(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function nh(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var rh=function(){function e(){b(this,e)}return S(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,a=0;a<t;r=a++)n+=e[r].x*e[a].y-e[a].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],a=[];ah(e),ih(n,e);var i=e.length;t.forEach(ah);for(var o=0;o<t.length;o++)r.push(i),i+=t[o].length,ih(n,t[o]);for(var s=Bc(n,r),l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}}]),e}();function ah(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function ih(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var oh=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ic([new sr(.5,.5),new sr(-.5,.5),new sr(-.5,-.5),new sr(.5,-.5)]),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:a},r=Array.isArray(r)?r:[r];for(var i=C(e),o=[],s=[],l=0,u=r.length;l<u;l++){var c=r[l];h(c)}function h(e){var t,n,r,l,u,c=[],h=void 0!==a.curveSegments?a.curveSegments:12,d=void 0!==a.steps?a.steps:1,f=void 0!==a.depth?a.depth:1,p=void 0===a.bevelEnabled||a.bevelEnabled,m=void 0!==a.bevelThickness?a.bevelThickness:.2,v=void 0!==a.bevelSize?a.bevelSize:m-.1,g=void 0!==a.bevelOffset?a.bevelOffset:0,y=void 0!==a.bevelSegments?a.bevelSegments:3,x=a.extrudePath,b=void 0!==a.UVGenerator?a.UVGenerator:sh,_=!1;x&&(t=x.getSpacedPoints(d),_=!0,p=!1,n=x.computeFrenetFrames(d,!1),r=new qr,l=new qr,u=new qr),p||(y=0,m=0,v=0,g=0);var S=e.extractPoints(h),w=S.shape,M=S.holes;if(!rh.isClockWise(w)){w=w.reverse();for(var A=0,C=M.length;A<C;A++){var k=M[A];rh.isClockWise(k)&&(M[A]=k.reverse())}}for(var T=rh.triangulateShape(w,M),E=w,I=0,B=M.length;I<B;I++){var P=M[I];w=w.concat(P)}function R(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var L=w.length,D=T.length;function F(e,t,n){var r,a,i,o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=o*o+s*s,h=o*u-s*l;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(c),f=Math.sqrt(l*l+u*u),p=t.x-s/d,m=t.y+o/d,v=((n.x-u/f-p)*u-(n.y+l/f-m)*l)/(o*u-s*l),g=(r=p+o*v-e.x)*r+(a=m+s*v-e.y)*a;if(g<=2)return new sr(r,a);i=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?l>Number.EPSILON&&(y=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(r=-s,a=o,i=Math.sqrt(c)):(r=o,a=s,i=Math.sqrt(c/2))}return new sr(r/i,a/i)}for(var U=[],q=0,O=E.length,z=O-1,N=q+1;q<O;q++,z++,N++)z===O&&(z=0),N===O&&(N=0),U[q]=F(E[q],E[z],E[N]);for(var G,j=[],H=U.concat(),V=0,W=M.length;V<W;V++){var J=M[V];G=[];for(var X=0,K=J.length,Y=K-1,Q=X+1;X<K;X++,Y++,Q++)Y===K&&(Y=0),Q===K&&(Q=0),G[X]=F(J[X],J[Y],J[Q]);j.push(G),H=H.concat(G)}for(var Z=0;Z<y;Z++){for(var $=Z/y,ee=m*Math.cos($*Math.PI/2),te=v*Math.sin($*Math.PI/2)+g,ne=0,re=E.length;ne<re;ne++){var ae=R(E[ne],U[ne],te);Be(ae.x,ae.y,-ee)}for(var ie=0,oe=M.length;ie<oe;ie++){var se=M[ie];G=j[ie];for(var le=0,ue=se.length;le<ue;le++){var ce=R(se[le],G[le],te);Be(ce.x,ce.y,-ee)}}}for(var he=v+g,de=0;de<L;de++){var fe=p?R(w[de],H[de],he):w[de];_?(l.copy(n.normals[0]).multiplyScalar(fe.x),r.copy(n.binormals[0]).multiplyScalar(fe.y),u.copy(t[0]).add(l).add(r),Be(u.x,u.y,u.z)):Be(fe.x,fe.y,0)}for(var pe=1;pe<=d;pe++)for(var me=0;me<L;me++){var ve=p?R(w[me],H[me],he):w[me];_?(l.copy(n.normals[pe]).multiplyScalar(ve.x),r.copy(n.binormals[pe]).multiplyScalar(ve.y),u.copy(t[pe]).add(l).add(r),Be(u.x,u.y,u.z)):Be(ve.x,ve.y,f/d*pe)}for(var ge=y-1;ge>=0;ge--){for(var ye=ge/y,xe=m*Math.cos(ye*Math.PI/2),be=v*Math.sin(ye*Math.PI/2)+g,_e=0,Se=E.length;_e<Se;_e++){var we=R(E[_e],U[_e],be);Be(we.x,we.y,f+xe)}for(var Me=0,Ae=M.length;Me<Ae;Me++){var Ce=M[Me];G=j[Me];for(var ke=0,Te=Ce.length;ke<Te;ke++){var Ee=R(Ce[ke],G[ke],be);_?Be(Ee.x,Ee.y+t[d-1].y,t[d-1].x+xe):Be(Ee.x,Ee.y,f+xe)}}}function Ie(e,t){for(var n=e.length;--n>=0;){var r=n,a=n-1;a<0&&(a=e.length-1);for(var i=0,o=d+2*y;i<o;i++){var s=L*i,l=L*(i+1);Re(t+r+s,t+a+s,t+a+l,t+r+l)}}}function Be(e,t,n){c.push(e),c.push(t),c.push(n)}function Pe(e,t,n){Le(e),Le(t),Le(n);var r=o.length/3,a=b.generateTopUV(i,o,r-3,r-2,r-1);De(a[0]),De(a[1]),De(a[2])}function Re(e,t,n,r){Le(e),Le(t),Le(r),Le(t),Le(n),Le(r);var a=o.length/3,s=b.generateSideWallUV(i,o,a-6,a-3,a-2,a-1);De(s[0]),De(s[1]),De(s[3]),De(s[1]),De(s[2]),De(s[3])}function Le(e){o.push(c[3*e+0]),o.push(c[3*e+1]),o.push(c[3*e+2])}function De(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(p){for(var t=0,n=L*t,r=0;r<D;r++){var a=T[r];Pe(a[2]+n,a[1]+n,a[0]+n)}n=L*(t=d+2*y);for(var s=0;s<D;s++){var l=T[s];Pe(l[0]+n,l[1]+n,l[2]+n)}}else{for(var u=0;u<D;u++){var c=T[u];Pe(c[2],c[1],c[0])}for(var h=0;h<D;h++){var f=T[h];Pe(f[0]+L*d,f[1]+L*d,f[2]+L*d)}}i.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Ie(E,t),t+=E.length;for(var n=0,r=M.length;n<r;n++){var a=M[n];Ie(a,t),t+=a.length}i.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new hi(o,3)),e.setAttribute("uv",new hi(s,2)),e.computeVertexNormals(),e}return S(n,[{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,a=e.length;r<a;r++){var i=e[r];n.shapes.push(i.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],a=0,i=e.shapes.length;a<i;a++){var o=t[e.shapes[a]];r.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new mc[s.type]).fromJSON(s)),new n(r,e.options)}}]),n}(bi),sh={generateTopUV:function(e,t,n,r,a){var i=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],u=t[3*a],c=t[3*a+1];return[new sr(i,o),new sr(s,l),new sr(u,c)]},generateSideWallUV:function(e,t,n,r,a,i){var o=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*r],c=t[3*r+1],h=t[3*r+2],d=t[3*a],f=t[3*a+1],p=t[3*a+2],m=t[3*i],v=t[3*i+1],g=t[3*i+2];return Math.abs(s-c)<Math.abs(o-u)?[new sr(o,1-l),new sr(u,1-h),new sr(d,1-p),new sr(m,1-g)]:[new sr(s,1-l),new sr(c,1-h),new sr(f,1-p),new sr(v,1-g)]}};var lh=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;b(this,n);var i=(1+Math.sqrt(5))/2,o=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];return(e=t.call(this,o,s,r,a)).type="IcosahedronGeometry",e.parameters={radius:r,detail:a},e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(wc),uh=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;b(this,n);var i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];return(e=t.call(this,i,o,r,a)).type="OctahedronGeometry",e.parameters={radius:r,detail:a},e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(wc),ch=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;b(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:a,thetaSegments:i,phiSegments:o,thetaStart:s,thetaLength:l},i=Math.max(3,i);for(var u=[],c=[],h=[],d=[],f=r,p=(a-r)/(o=Math.max(1,o)),m=new qr,v=new sr,g=0;g<=o;g++){for(var y=0;y<=i;y++){var x=s+y/i*l;m.x=f*Math.cos(x),m.y=f*Math.sin(x),c.push(m.x,m.y,m.z),h.push(0,0,1),v.x=(m.x/a+1)/2,v.y=(m.y/a+1)/2,d.push(v.x,v.y)}f+=p}for(var _=0;_<o;_++)for(var S=_*(i+1),w=0;w<i;w++){var M=w+S,A=M,C=M+i+1,k=M+i+2,T=M+1;u.push(A,C,T),u.push(C,k,T)}return e.setIndex(u),e.setAttribute("position",new hi(c,3)),e.setAttribute("normal",new hi(h,3)),e.setAttribute("uv",new hi(d,2)),e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(bi),hh=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ic([new sr(0,.5),new sr(-.5,-.5),new sr(.5,-.5)]),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;b(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:a};var i=[],o=[],s=[],l=[],u=0,c=0;if(!1===Array.isArray(r))d(r);else for(var h=0;h<r.length;h++)d(r[h]),e.addGroup(u,c,h),u+=c,c=0;function d(e){var t=o.length/3,n=e.extractPoints(a),r=n.shape,u=n.holes;!1===rh.isClockWise(r)&&(r=r.reverse());for(var h=0,d=u.length;h<d;h++){var f=u[h];!0===rh.isClockWise(f)&&(u[h]=f.reverse())}for(var p=rh.triangulateShape(r,u),m=0,v=u.length;m<v;m++){var g=u[m];r=r.concat(g)}for(var y=0,x=r.length;y<x;y++){var b=r[y];o.push(b.x,b.y,0),s.push(0,0,1),l.push(b.x,b.y)}for(var _=0,S=p.length;_<S;_++){var w=p[_],M=w[0]+t,A=w[1]+t,C=w[2]+t;i.push(M,A,C),c+=3}}return e.setIndex(i),e.setAttribute("position",new hi(o,3)),e.setAttribute("normal",new hi(s,3)),e.setAttribute("uv",new hi(l,2)),e}return S(n,[{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var a=e[n];t.shapes.push(a.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],a=0,i=e.shapes.length;a<i;a++){var o=t[e.shapes[a]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(bi);var dh=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;b(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:a,heightSegments:i,phiStart:o,phiLength:s,thetaStart:l,thetaLength:u},a=Math.max(3,Math.floor(a)),i=Math.max(2,Math.floor(i));for(var c=Math.min(l+u,Math.PI),h=0,d=[],f=new qr,p=new qr,m=[],v=[],g=[],y=[],x=0;x<=i;x++){var _=[],S=x/i,w=0;0==x&&0==l?w=.5/a:x==i&&c==Math.PI&&(w=-.5/a);for(var M=0;M<=a;M++){var A=M/a;f.x=-r*Math.cos(o+A*s)*Math.sin(l+S*u),f.y=r*Math.cos(l+S*u),f.z=r*Math.sin(o+A*s)*Math.sin(l+S*u),v.push(f.x,f.y,f.z),p.copy(f).normalize(),g.push(p.x,p.y,p.z),y.push(A+w,1-S),_.push(h++)}d.push(_)}for(var C=0;C<i;C++)for(var k=0;k<a;k++){var T=d[C][k+1],E=d[C][k],I=d[C+1][k],B=d[C+1][k+1];(0!==C||l>0)&&m.push(T,E,B),(C!==i-1||c<Math.PI)&&m.push(E,I,B)}return e.setIndex(m),e.setAttribute("position",new hi(v,3)),e.setAttribute("normal",new hi(g,3)),e.setAttribute("uv",new hi(y,2)),e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(bi),fh=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;b(this,n);var i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];return(e=t.call(this,i,o,r,a)).type="TetrahedronGeometry",e.parameters={radius:r,detail:a},e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(wc),ph=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;b(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:a,radialSegments:i,tubularSegments:o,arc:s},i=Math.floor(i),o=Math.floor(o);for(var l=[],u=[],c=[],h=[],d=new qr,f=new qr,p=new qr,m=0;m<=i;m++)for(var v=0;v<=o;v++){var g=v/o*s,y=m/i*Math.PI*2;f.x=(r+a*Math.cos(y))*Math.cos(g),f.y=(r+a*Math.cos(y))*Math.sin(g),f.z=a*Math.sin(y),u.push(f.x,f.y,f.z),d.x=r*Math.cos(g),d.y=r*Math.sin(g),p.subVectors(f,d).normalize(),c.push(p.x,p.y,p.z),h.push(v/o),h.push(m/i)}for(var x=1;x<=i;x++)for(var _=1;_<=o;_++){var S=(o+1)*x+_-1,w=(o+1)*(x-1)+_-1,M=(o+1)*(x-1)+_,A=(o+1)*x+_;l.push(S,w,A),l.push(w,M,A)}return e.setIndex(l),e.setAttribute("position",new hi(u,3)),e.setAttribute("normal",new hi(c,3)),e.setAttribute("uv",new hi(h,2)),e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(bi),mh=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;b(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:a,tubularSegments:i,radialSegments:o,p:s,q:l},i=Math.floor(i),o=Math.floor(o);for(var u=[],c=[],h=[],d=[],f=new qr,p=new qr,m=new qr,v=new qr,g=new qr,y=new qr,x=new qr,_=0;_<=i;++_){var S=_/i*s*Math.PI*2;R(S,s,l,r,m),R(S+.01,s,l,r,v),y.subVectors(v,m),x.addVectors(v,m),g.crossVectors(y,x),x.crossVectors(g,y),g.normalize(),x.normalize();for(var w=0;w<=o;++w){var M=w/o*Math.PI*2,A=-a*Math.cos(M),C=a*Math.sin(M);f.x=m.x+(A*x.x+C*g.x),f.y=m.y+(A*x.y+C*g.y),f.z=m.z+(A*x.z+C*g.z),c.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),h.push(p.x,p.y,p.z),d.push(_/i),d.push(w/o)}}for(var k=1;k<=i;k++)for(var T=1;T<=o;T++){var E=(o+1)*(k-1)+(T-1),I=(o+1)*k+(T-1),B=(o+1)*k+T,P=(o+1)*(k-1)+T;u.push(E,I,P),u.push(I,B,P)}function R(e,t,n,r,a){var i=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);a.x=r*(2+l)*.5*i,a.y=r*(2+l)*o*.5,a.z=r*Math.sin(s)*.5}return e.setIndex(u),e.setAttribute("position",new hi(c,3)),e.setAttribute("normal",new hi(h,3)),e.setAttribute("uv",new hi(d,2)),e}return S(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(bi),vh=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fc(new qr(-1,-1,0),new qr(-1,1,0),new qr(1,1,0)),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];b(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:a,radius:i,radialSegments:o,closed:s};var l=r.computeFrenetFrames(a,s);e.tangents=l.tangents,e.normals=l.normals,e.binormals=l.binormals;var u=new qr,c=new qr,h=new sr,d=new qr,f=[],p=[],m=[],v=[];function g(){for(var e=0;e<a;e++)y(e);y(!1===s?a:0),_(),x()}function y(e){d=r.getPointAt(e/a,d);for(var t=l.normals[e],n=l.binormals[e],s=0;s<=o;s++){var h=s/o*Math.PI*2,m=Math.sin(h),v=-Math.cos(h);c.x=v*t.x+m*n.x,c.y=v*t.y+m*n.y,c.z=v*t.z+m*n.z,c.normalize(),p.push(c.x,c.y,c.z),u.x=d.x+i*c.x,u.y=d.y+i*c.y,u.z=d.z+i*c.z,f.push(u.x,u.y,u.z)}}function x(){for(var e=1;e<=a;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),i=(o+1)*e+t,s=(o+1)*(e-1)+t;v.push(n,r,s),v.push(r,i,s)}}function _(){for(var e=0;e<=a;e++)for(var t=0;t<=o;t++)h.x=e/a,h.y=t/o,m.push(h.x,h.y)}return g(),e.setIndex(v),e.setAttribute("position",new hi(f,3)),e.setAttribute("normal",new hi(p,3)),e.setAttribute("uv",new hi(m,2)),e}return S(n,[{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new mc[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(bi),gh=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(b(this,n),(e=t.call(this)).type="WireframeGeometry",e.parameters={geometry:r},null!==r){var a=[],i=new Set,o=new qr,s=new qr;if(null!==r.index){var l=r.attributes.position,u=r.index,c=r.groups;0===c.length&&(c=[{start:0,count:u.count,materialIndex:0}]);for(var h=0,d=c.length;h<d;++h)for(var f=c[h],p=f.start,m=f.count,v=p,g=p+m;v<g;v+=3)for(var y=0;y<3;y++){var x=u.getX(v+y),_=u.getX(v+(y+1)%3);o.fromBufferAttribute(l,x),s.fromBufferAttribute(l,_),!0===yh(o,s,i)&&(a.push(o.x,o.y,o.z),a.push(s.x,s.y,s.z))}}else for(var S=r.attributes.position,w=0,M=S.count/3;w<M;w++)for(var A=0;A<3;A++){var C=3*w+A,k=3*w+(A+1)%3;o.fromBufferAttribute(S,C),s.fromBufferAttribute(S,k),!0===yh(o,s,i)&&(a.push(o.x,o.y,o.z),a.push(s.x,s.y,s.z))}e.setAttribute("position",new hi(a,3))}return e}return S(n)}(bi);function yh(e,t,n){var r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),a="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(a)&&(n.add(r),n.add(a),!0)}var xh=Object.freeze({__proto__:null,BoxGeometry:zi,CapsuleGeometry:xc,CircleGeometry:bc,ConeGeometry:Sc,CylinderGeometry:_c,DodecahedronGeometry:Mc,EdgesGeometry:Ec,ExtrudeGeometry:oh,IcosahedronGeometry:lh,LatheGeometry:yc,OctahedronGeometry:uh,PlaneGeometry:oo,PolyhedronGeometry:wc,RingGeometry:ch,ShapeGeometry:hh,SphereGeometry:dh,TetrahedronGeometry:fh,TorusGeometry:ph,TorusKnotGeometry:mh,TubeGeometry:vh,WireframeGeometry:gh}),bh=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isShadowMaterial=!0,r.type="ShadowMaterial",r.color=new Mr(0),r.transparent=!0,r.fog=!0,r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.fog=e.fog,this}}]),n}(Za),_h=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).isRawShaderMaterial=!0,r.type="RawShaderMaterial",r}return S(n)}(Hi),Sh=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isMeshStandardMaterial=!0,r.defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new Mr(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Mr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=fn,r.normalScale=new sr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Za),wh=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isMeshPhysicalMaterial=!0,r.defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new sr(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty(C(r),"reflectivity",{get:function(){return Zn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.iridescenceMap=null,r.iridescenceIOR=1.3,r.iridescenceThicknessRange=[100,400],r.iridescenceThicknessMap=null,r.sheenColor=new Mr(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=1/0,r.attenuationColor=new Mr(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new Mr(1,1,1),r.specularColorMap=null,r._sheen=0,r._clearcoat=0,r._iridescence=0,r._transmission=0,r.setValues(e),r}return S(n,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=m(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(Sh),Mh=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isMeshPhongMaterial=!0,r.type="MeshPhongMaterial",r.color=new Mr(16777215),r.specular=new Mr(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Mr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=fn,r.normalScale=new sr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=Ae,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Za),Ah=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isMeshToonMaterial=!0,r.defines={TOON:""},r.type="MeshToonMaterial",r.color=new Mr(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Mr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=fn,r.normalScale=new sr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(Za),Ch=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isMeshNormalMaterial=!0,r.type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=fn,r.normalScale=new sr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.flatShading=!1,r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(Za),kh=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isMeshLambertMaterial=!0,r.type="MeshLambertMaterial",r.color=new Mr(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Mr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=fn,r.normalScale=new sr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=Ae,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Za),Th=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isMeshMatcapMaterial=!0,r.defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new Mr(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=fn,r.normalScale=new sr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.fog=!0,r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Za),Eh=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).isLineDashedMaterial=!0,r.type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(ku);function Ih(e,t,n){return Ph(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function Bh(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Ph(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Rh(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function Lh(e,t,n){for(var r=e.length,a=new e.constructor(r),i=0,o=0;o!==r;++i)for(var s=n[i]*t,l=0;l!==t;++l)a[o++]=e[s+l];return a}function Dh(e,t,n,r){for(var a=1,i=e[0];void 0!==i&&void 0===i[r];)i=e[a++];if(void 0!==i){var o=i[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=i[r])&&(t.push(i.time),n.push.apply(n,o)),i=e[a++]}while(void 0!==i);else if(void 0!==o.toArray)do{void 0!==(o=i[r])&&(t.push(i.time),o.toArray(n,n.length)),i=e[a++]}while(void 0!==i);else do{void 0!==(o=i[r])&&(t.push(i.time),n.push(o)),i=e[a++]}while(void 0!==i)}}var Fh=Object.freeze({__proto__:null,arraySlice:Ih,convertArray:Bh,isTypedArray:Ph,getKeyframeOrder:Rh,sortedArray:Lh,flattenJSON:Dh,subclip:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,i=e.clone();i.name=t;for(var o=[],s=0;s<i.tracks.length;++s){for(var l=i.tracks[s],u=l.getValueSize(),c=[],h=[],d=0;d<l.times.length;++d){var f=l.times[d]*a;if(!(f<n||f>=r)){c.push(l.times[d]);for(var p=0;p<u;++p)h.push(l.values[d*u+p])}}0!==c.length&&(l.times=Bh(c,l.times.constructor),l.values=Bh(h,l.values.constructor),o.push(l))}i.tracks=o;for(var m=1/0,v=0;v<i.tracks.length;++v)m>i.tracks[v].times[0]&&(m=i.tracks[v].times[0]);for(var g=0;g<i.tracks.length;++g)i.tracks[g].shift(-1*m);return i.resetDuration(),i},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var a=n.tracks.length,i=t/r,o=function(t){var r=n.tracks[t],a=r.ValueTypeName;if("bool"===a||"string"===a)return"continue";var o=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===a}));if(void 0===o)return"continue";var s=0,l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);var u=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);var h=r.times.length-1,d=void 0;if(i<=r.times[0]){var f=s,p=l-s;d=Ih(r.values,f,p)}else if(i>=r.times[h]){var m=h*l+s,v=m+l-s;d=Ih(r.values,m,v)}else{var g=r.createInterpolant(),y=s,x=l-s;g.evaluate(i),d=Ih(g.resultBuffer,y,x)}"quaternion"===a&&(new Ur).fromArray(d).normalize().conjugate().toArray(d);for(var b=o.times.length,_=0;_<b;++_){var S=_*c+u;if("quaternion"===a)Ur.multiplyQuaternionsFlat(o.values,S,d,0,o.values,S);else for(var w=c-2*u,M=0;M<w;++M)o.values[S+M]-=d[M]}},s=0;s<a;++s)o(s);return e.blendMode=an,e}}),Uh=function(){function e(t,n,r,a){b(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==a?a:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return S(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],a=t[n-1];e:{t:{var i;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<a)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(a=r,e<(r=t[++n]))break t}i=t.length;break n}if(e>=a)break e;var s=t[1];e<s&&(n=2,a=s);for(var l=n-2;;){if(void 0===a)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=a,e>=(a=t[--n-1]))break t}i=n,n=0}for(;n<i;){var u=n+i>>>1;e<t[u]?i=u:n=u+1}if(r=t[n],void 0===(a=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,r)}return this.interpolate_(n,a,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r,i=0;i!==r;++i)t[i]=n[a+i];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),qh=function(e){w(n,e);var t=T(n);function n(e,r,a,i){var o;return b(this,n),(o=t.call(this,e,r,a,i))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:en,endingEnd:en},o}return S(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,a=e-2,i=e+1,o=r[a],s=r[i];if(void 0===o)switch(this.getSettings_().endingStart){case tn:a=e,o=2*t-n;break;case nn:o=t+r[a=r.length-2]-r[a+1];break;default:a=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case tn:i=e,s=2*n-t;break;case nn:i=1,s=n+r[1]-r[0];break;default:i=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=a*u,this._offsetNext=i*u}},{key:"interpolate_",value:function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,v=-h*m+2*h*p-h*f,g=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,x=d*m-d*p,b=0;b!==o;++b)a[b]=v*i[u+b]+g*i[l+b]+y*i[s+b]+x*i[c+b];return a}}]),n}(Uh),Oh=function(e){w(n,e);var t=T(n);function n(e,r,a,i){return b(this,n),t.call(this,e,r,a,i)}return S(n,[{key:"interpolate_",value:function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(r-t),c=1-u,h=0;h!==o;++h)a[h]=i[l+h]*c+i[s+h]*u;return a}}]),n}(Uh),zh=function(e){w(n,e);var t=T(n);function n(e,r,a,i){return b(this,n),t.call(this,e,r,a,i)}return S(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(Uh),Nh=function(){function e(t,n,r,a){if(b(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Bh(n,this.TimeBufferType),this.values=Bh(r,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}return S(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new zh(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new Oh(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new qh(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case Qt:t=this.InterpolantFactoryMethodDiscrete;break;case Zt:t=this.InterpolantFactoryMethodLinear;break;case $t:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Qt;case this.InterpolantFactoryMethodLinear:return Zt;case this.InterpolantFactoryMethodSmooth:return $t}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,a=0,i=r-1;a!==r&&n[a]<e;)++a;for(;-1!==i&&n[i]>t;)--i;if(++i,0!==a||i!==r){a>=i&&(a=(i=Math.max(i,1))-1);var o=this.getValueSize();this.times=Ih(n,a,i),this.values=Ih(this.values,a*o,i*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,a=n.length;0===a&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var i=null,o=0;o!==a;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==i&&i>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,i),e=!1;break}i=s}if(void 0!==r&&Ph(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Ih(this.times),t=Ih(this.values),n=this.getValueSize(),r=this.getInterpolation()===$t,a=e.length-1,i=1,o=1;o<a;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(r)s=!0;else for(var u=o*n,c=u-n,h=u+n,d=0;d!==n;++d){var f=t[u+d];if(f!==t[c+d]||f!==t[h+d]){s=!0;break}}if(s){if(o!==i){e[i]=e[o];for(var p=o*n,m=i*n,v=0;v!==n;++v)t[m+v]=t[p+v]}++i}}if(a>0){e[i]=e[a];for(var g=a*n,y=i*n,x=0;x!==n;++x)t[y+x]=t[g+x];++i}return i!==e.length?(this.times=Ih(e,0,i),this.values=Ih(t,0,i*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=Ih(this.times,0),t=Ih(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Bh(e.times,Array),values:Bh(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();Nh.prototype.TimeBufferType=Float32Array,Nh.prototype.ValueBufferType=Float32Array,Nh.prototype.DefaultInterpolation=Zt;var Gh=function(e){w(n,e);var t=T(n);function n(){return b(this,n),t.apply(this,arguments)}return S(n)}(Nh);Gh.prototype.ValueTypeName="bool",Gh.prototype.ValueBufferType=Array,Gh.prototype.DefaultInterpolation=Qt,Gh.prototype.InterpolantFactoryMethodLinear=void 0,Gh.prototype.InterpolantFactoryMethodSmooth=void 0;var jh=function(e){w(n,e);var t=T(n);function n(){return b(this,n),t.apply(this,arguments)}return S(n)}(Nh);jh.prototype.ValueTypeName="color";var Hh=function(e){w(n,e);var t=T(n);function n(){return b(this,n),t.apply(this,arguments)}return S(n)}(Nh);Hh.prototype.ValueTypeName="number";var Vh=function(e){w(n,e);var t=T(n);function n(e,r,a,i){return b(this,n),t.call(this,e,r,a,i)}return S(n,[{key:"interpolate_",value:function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),l=e*o,u=l+o;l!==u;l+=4)Ur.slerpFlat(a,0,i,l-o,i,l,s);return a}}]),n}(Uh),Wh=function(e){w(n,e);var t=T(n);function n(){return b(this,n),t.apply(this,arguments)}return S(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new Vh(this.times,this.values,this.getValueSize(),e)}}]),n}(Nh);Wh.prototype.ValueTypeName="quaternion",Wh.prototype.DefaultInterpolation=Zt,Wh.prototype.InterpolantFactoryMethodSmooth=void 0;var Jh=function(e){w(n,e);var t=T(n);function n(){return b(this,n),t.apply(this,arguments)}return S(n)}(Nh);Jh.prototype.ValueTypeName="string",Jh.prototype.ValueBufferType=Array,Jh.prototype.DefaultInterpolation=Qt,Jh.prototype.InterpolantFactoryMethodLinear=void 0,Jh.prototype.InterpolantFactoryMethodSmooth=void 0;var Xh=function(e){w(n,e);var t=T(n);function n(){return b(this,n),t.apply(this,arguments)}return S(n)}(Nh);Xh.prototype.ValueTypeName="vector";var Kh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rn;b(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=a,this.uuid=Qn(),this.duration<0&&this.resetDuration()}return S(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),a=0,i=n.length;a!==i;++a)t.push(Yh(n[a]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},a=0,i=n.length;a!==i;++a)t.push(Nh.toJSON(n[a]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var a=t.length,i=[],o=0;o<a;o++){var s=[],l=[];s.push((o+a-1)%a,o,(o+1)%a),l.push(0,1,0);var u=Rh(s);s=Lh(s,1,u),l=Lh(l,1,u),r||0!==s[0]||(s.push(a),l.push(l[0])),i.push(new Hh(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new this(e,-1,i)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var a=0;a<n.length;a++)if(n[a].name===t)return n[a];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},a=/^([\w-]*?)([\d]+)$/,i=0,o=e.length;i<o;i++){var s=e[i],l=s.name.match(a);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var h=[];for(var d in r)h.push(this.CreateFromMorphTargetSequence(d,r[d],t,n));return h}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,a){if(0!==n.length){var i=[],o=[];Dh(n,i,o,r),0!==i.length&&a.push(new e(t,i,o))}},r=[],a=e.name||"default",i=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h={},d=void 0;for(d=0;d<c.length;d++)if(c[d].morphTargets)for(var f=0;f<c[d].morphTargets.length;f++)h[c[d].morphTargets[f]]=-1;for(var p in h){for(var m=[],v=[],g=0;g!==c[d].morphTargets.length;++g){var y=c[d];m.push(y.time),v.push(y.morphTarget===p?1:0)}r.push(new Hh(".morphTargetInfluence["+p+"]",m,v))}s=h.length*i}else{var x=".bones["+t[u].name+"]";n(Xh,x+".position",c,"pos",r),n(Wh,x+".quaternion",c,"rot",r),n(Xh,x+".scale",c,"scl",r)}}return 0===r.length?null:new this(a,s,r,o)}}]),e}();function Yh(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Hh;case"vector":case"vector2":case"vector3":case"vector4":return Xh;case"color":return jh;case"quaternion":return Wh;case"bool":case"boolean":return Gh;case"string":return Jh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Dh(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var Qh,Zh={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},$h=S((function e(t,n,r){b(this,e);var a=this,i=!1,o=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===i&&void 0!==a.onStart&&a.onStart(e,o,s),i=!0},this.itemEnd=function(e){o++,void 0!==a.onProgress&&a.onProgress(e,o,s),o===s&&(i=!1,void 0!==a.onLoad&&a.onLoad())},this.itemError=function(e){void 0!==a.onError&&a.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var r=u[t],a=u[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return a}return null}})),ed=new $h,td=function(){function e(t){b(this,e),this.manager=void 0!==t?t:ed,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return S(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,a){n.load(e,r,t,a)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),nd={},rd=function(e){w(n,e);var t=T(n);function n(e,r){var a;return b(this,n),(a=t.call(this,e)).response=r,a}return S(n)}(E(Error)),ad=function(e){w(n,e);var t=T(n);function n(e){return b(this,n),t.call(this,e)}return S(n,[{key:"load",value:function(e,t,n,r){var a=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=Zh.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout((function(){t&&t(i),a.manager.itemEnd(e)}),0),i;if(void 0===nd[e]){nd[e]=[],nd[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=nd[e],r=t.body.getReader(),a=t.headers.get("Content-Length"),i=a?parseInt(a):0,o=0!==i,s=0,l=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var a=r.done,l=r.value;if(a)e.close();else{s+=l.byteLength;for(var u=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:i}),c=0,h=n.length;c<h;c++){var d=n[c];d.onProgress&&d.onProgress(u)}e.enqueue(l),t()}}))}()}});return new Response(l)}throw new rd('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(l){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){Zh.add(e,t);var n=nd[e];delete nd[e];for(var r=0,a=n.length;r<a;r++){var i=n[r];i.onLoad&&i.onLoad(t)}})).catch((function(t){var n=nd[e];if(void 0===n)throw a.manager.itemError(e),t;delete nd[e];for(var r=0,i=n.length;r<i;r++){var o=n[r];o.onError&&o.onError(t)}a.manager.itemError(e)})).finally((function(){a.manager.itemEnd(e)})),this.manager.itemStart(e)}else nd[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(td),id=function(e){w(n,e);var t=T(n);function n(e){return b(this,n),t.call(this,e)}return S(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new ad(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(n){try{t(a.parse(JSON.parse(n)))}catch(i){r?r(i):console.error(i),a.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=Kh.parse(e[n]);t.push(r)}return t}}]),n}(td),od=function(e){w(n,e);var t=T(n);function n(e){return b(this,n),t.call(this,e)}return S(n,[{key:"load",value:function(e,t,n,r){var a=this,i=[],o=new Ju,s=new ad(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(a.withCredentials);var l=0;function u(u){s.load(e[u],(function(e){var n=a.parse(e,!0);i[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(o.minFilter=Xe),o.image=i,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var c=0,h=e.length;c<h;++c)u(c);else s.load(e,(function(e){var n=a.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){i[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)i[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),i[s].format=n.format,i[s].width=n.width,i[s].height=n.height}o.image=i}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Xe),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}]),n}(td),sd=function(e){w(n,e);var t=T(n);function n(e){return b(this,n),t.call(this,e)}return S(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,i=Zh.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){t&&t(i),a.manager.itemEnd(e)}),0),i;var o=dr("img");function s(){u(),Zh.add(e,this),t&&t(this),a.manager.itemEnd(e)}function l(t){u(),r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)}function u(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}]),n}(td),ld=function(e){w(n,e);var t=T(n);function n(e){return b(this,n),t.call(this,e)}return S(n,[{key:"load",value:function(e,t,n,r){var a=new Ki,i=new sd(this.manager);i.setCrossOrigin(this.crossOrigin),i.setPath(this.path);var o=0;function s(n){i.load(e[n],(function(e){a.images[n]=e,6===++o&&(a.needsUpdate=!0,t&&t(a))}),void 0,r)}for(var l=0;l<e.length;++l)s(l);return a}}]),n}(td),ud=function(e){w(n,e);var t=T(n);function n(e){return b(this,n),t.call(this,e)}return S(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new vu,o=new ad(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,(function(e){var n=a.parse(e);n&&(void 0!==n.image?i.image=n.image:void 0!==n.data&&(i.image.width=n.width,i.image.height=n.height,i.image.data=n.data),i.wrapS=void 0!==n.wrapS?n.wrapS:Ne,i.wrapT=void 0!==n.wrapT?n.wrapT:Ne,i.magFilter=void 0!==n.magFilter?n.magFilter:Xe,i.minFilter=void 0!==n.minFilter?n.minFilter:Xe,i.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(i.encoding=n.encoding),void 0!==n.flipY&&(i.flipY=n.flipY),void 0!==n.format&&(i.format=n.format),void 0!==n.type&&(i.type=n.type),void 0!==n.mipmaps&&(i.mipmaps=n.mipmaps,i.minFilter=Qe),1===n.mipmapCount&&(i.minFilter=Xe),void 0!==n.generateMipmaps&&(i.generateMipmaps=n.generateMipmaps),i.needsUpdate=!0,t&&t(i,n))}),n,r),i}}]),n}(td),cd=function(e){w(n,e);var t=T(n);function n(e){return b(this,n),t.call(this,e)}return S(n,[{key:"load",value:function(e,t,n,r){var a=new Er,i=new sd(this.manager);return i.setCrossOrigin(this.crossOrigin),i.setPath(this.path),i.load(e,(function(e){a.image=e,a.needsUpdate=!0,void 0!==t&&t(a)}),n,r),a}}]),n}(td),hd=function(e){w(n,e);var t=T(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return b(this,n),(r=t.call(this)).isLight=!0,r.type="Light",r.color=new Mr(e),r.intensity=a,r}return S(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return R(M(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=R(M(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(Oa),dd=function(e){w(n,e);var t=T(n);function n(e,r,a){var i;return b(this,n),(i=t.call(this,e,a)).isHemisphereLight=!0,i.type="HemisphereLight",i.position.copy(Oa.DefaultUp),i.updateMatrix(),i.groundColor=new Mr(r),i}return S(n,[{key:"copy",value:function(e,t){return R(M(n.prototype),"copy",this).call(this,e,t),this.groundColor.copy(e.groundColor),this}}]),n}(hd),fd=new pa,pd=new qr,md=new qr,vd=function(){function e(t){b(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new sr(512,512),this.map=null,this.mapPass=null,this.matrix=new pa,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ro,this._frameExtents=new sr(1,1),this._viewportCount=1,this._viewports=[new Ir(0,0,1,1)]}return S(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;pd.setFromMatrixPosition(e.matrixWorld),t.position.copy(pd),md.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(md),t.updateMatrixWorld(),fd.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(fd),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(fd)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),gd=function(e){w(n,e);var t=T(n);function n(){var e;return b(this,n),(e=t.call(this,new Wi(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return S(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*Yn*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;r===t.fov&&a===t.aspect&&i===t.far||(t.fov=r,t.aspect=a,t.far=i,t.updateProjectionMatrix()),R(M(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(vd),yd=function(e){w(n,e);var t=T(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return b(this,n),(a=t.call(this,e,r)).isSpotLight=!0,a.type="SpotLight",a.position.copy(Oa.DefaultUp),a.updateMatrix(),a.target=new Oa,a.distance=i,a.angle=o,a.penumbra=s,a.decay=l,a.map=null,a.shadow=new gd,a}return S(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return R(M(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(hd),xd=new pa,bd=new qr,_d=new qr,Sd=function(e){w(n,e);var t=T(n);function n(){var e;return b(this,n),(e=t.call(this,new Wi(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new sr(4,2),e._viewportCount=6,e._viewports=[new Ir(2,1,1,1),new Ir(0,1,1,1),new Ir(3,1,1,1),new Ir(1,1,1,1),new Ir(3,0,1,1),new Ir(1,0,1,1)],e._cubeDirections=[new qr(1,0,0),new qr(-1,0,0),new qr(0,0,1),new qr(0,0,-1),new qr(0,1,0),new qr(0,-1,0)],e._cubeUps=[new qr(0,1,0),new qr(0,1,0),new qr(0,1,0),new qr(0,1,0),new qr(0,0,1),new qr(0,0,-1)],e}return S(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),bd.setFromMatrixPosition(e.matrixWorld),n.position.copy(bd),_d.copy(n.position),_d.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(_d),n.updateMatrixWorld(),r.makeTranslation(-bd.x,-bd.y,-bd.z),xd.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(xd)}}]),n}(vd),wd=function(e){w(n,e);var t=T(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return b(this,n),(a=t.call(this,e,r)).isPointLight=!0,a.type="PointLight",a.distance=i,a.decay=o,a.shadow=new Sd,a}return S(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return R(M(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(hd),Md=function(e){w(n,e);var t=T(n);function n(){var e;return b(this,n),(e=t.call(this,new go(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return S(n)}(vd),Ad=function(e){w(n,e);var t=T(n);function n(e,r){var a;return b(this,n),(a=t.call(this,e,r)).isDirectionalLight=!0,a.type="DirectionalLight",a.position.copy(Oa.DefaultUp),a.updateMatrix(),a.target=new Oa,a.shadow=new Md,a}return S(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(hd),Cd=function(e){w(n,e);var t=T(n);function n(e,r){var a;return b(this,n),(a=t.call(this,e,r)).isAmbientLight=!0,a.type="AmbientLight",a}return S(n)}(hd),kd=function(e){w(n,e);var t=T(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return b(this,n),(a=t.call(this,e,r)).isRectAreaLight=!0,a.type="RectAreaLight",a.width=i,a.height=o,a}return S(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=R(M(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(hd),Td=function(){function e(){b(this,e),this.isSphericalHarmonics3=!0,this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new qr)}return S(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,a=e.z,i=this.coefficients;return t.copy(i[0]).multiplyScalar(.282095),t.addScaledVector(i[1],.488603*r),t.addScaledVector(i[2],.488603*a),t.addScaledVector(i[3],.488603*n),t.addScaledVector(i[4],n*r*1.092548),t.addScaledVector(i[5],r*a*1.092548),t.addScaledVector(i[6],.315392*(3*a*a-1)),t.addScaledVector(i[7],n*a*1.092548),t.addScaledVector(i[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,a=e.z,i=this.coefficients;return t.copy(i[0]).multiplyScalar(.886227),t.addScaledVector(i[1],1.023328*r),t.addScaledVector(i[2],1.023328*a),t.addScaledVector(i[3],1.023328*n),t.addScaledVector(i[4],.858086*n*r),t.addScaledVector(i[5],.858086*r*a),t.addScaledVector(i[6],.743125*a*a-.247708),t.addScaledVector(i[7],.858086*n*a),t.addScaledVector(i[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-r*r)}}]),e}(),Ed=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Td,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return b(this,n),(e=t.call(this,void 0,a)).isLightProbe=!0,e.sh=r,e}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=R(M(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(hd),Id=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).textures={},r}return S(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new ad(a.manager);i.setPath(a.path),i.setRequestHeader(a.requestHeader),i.setWithCredentials(a.withCredentials),i.load(e,(function(n){try{t(a.parse(JSON.parse(n)))}catch(i){r?r(i):console.error(i),a.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var a=n.createMaterialFromType(e.type);if(void 0!==e.uuid&&(a.uuid=e.uuid),void 0!==e.name&&(a.name=e.name),void 0!==e.color&&void 0!==a.color&&a.color.setHex(e.color),void 0!==e.roughness&&(a.roughness=e.roughness),void 0!==e.metalness&&(a.metalness=e.metalness),void 0!==e.sheen&&(a.sheen=e.sheen),void 0!==e.sheenColor&&(a.sheenColor=(new Mr).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(a.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==a.emissive&&a.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==a.specular&&a.specular.setHex(e.specular),void 0!==e.specularIntensity&&(a.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==a.specularColor&&a.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(a.shininess=e.shininess),void 0!==e.clearcoat&&(a.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(a.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(a.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(a.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(a.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(a.transmission=e.transmission),void 0!==e.thickness&&(a.thickness=e.thickness),void 0!==e.attenuationDistance&&(a.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==a.attenuationColor&&a.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(a.fog=e.fog),void 0!==e.flatShading&&(a.flatShading=e.flatShading),void 0!==e.blending&&(a.blending=e.blending),void 0!==e.combine&&(a.combine=e.combine),void 0!==e.side&&(a.side=e.side),void 0!==e.shadowSide&&(a.shadowSide=e.shadowSide),void 0!==e.opacity&&(a.opacity=e.opacity),void 0!==e.transparent&&(a.transparent=e.transparent),void 0!==e.alphaTest&&(a.alphaTest=e.alphaTest),void 0!==e.depthTest&&(a.depthTest=e.depthTest),void 0!==e.depthWrite&&(a.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(a.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(a.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(a.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(a.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(a.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(a.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(a.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(a.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(a.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(a.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(a.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(a.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(a.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(a.rotation=e.rotation),1!==e.linewidth&&(a.linewidth=e.linewidth),void 0!==e.dashSize&&(a.dashSize=e.dashSize),void 0!==e.gapSize&&(a.gapSize=e.gapSize),void 0!==e.scale&&(a.scale=e.scale),void 0!==e.polygonOffset&&(a.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(a.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(a.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(a.dithering=e.dithering),void 0!==e.alphaToCoverage&&(a.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(a.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.toneMapped&&(a.toneMapped=e.toneMapped),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(a.uniforms[i]={},o.type){case"t":a.uniforms[i].value=r(o.value);break;case"c":a.uniforms[i].value=(new Mr).setHex(o.value);break;case"v2":a.uniforms[i].value=(new sr).fromArray(o.value);break;case"v3":a.uniforms[i].value=(new qr).fromArray(o.value);break;case"v4":a.uniforms[i].value=(new Ir).fromArray(o.value);break;case"m3":a.uniforms[i].value=(new lr).fromArray(o.value);break;case"m4":a.uniforms[i].value=(new pa).fromArray(o.value);break;default:a.uniforms[i].value=o.value}}if(void 0!==e.defines&&(a.defines=e.defines),void 0!==e.vertexShader&&(a.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(a.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(a.glslVersion=e.glslVersion),void 0!==e.extensions)for(var s in e.extensions)a.extensions[s]=e.extensions[s];if(void 0!==e.size&&(a.size=e.size),void 0!==e.sizeAttenuation&&(a.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(a.map=r(e.map)),void 0!==e.matcap&&(a.matcap=r(e.matcap)),void 0!==e.alphaMap&&(a.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(a.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(a.bumpScale=e.bumpScale),void 0!==e.normalMap&&(a.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(a.normalMapType=e.normalMapType),void 0!==e.normalScale){var l=e.normalScale;!1===Array.isArray(l)&&(l=[l,l]),a.normalScale=(new sr).fromArray(l)}return void 0!==e.displacementMap&&(a.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(a.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(a.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(a.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(a.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(a.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(a.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(a.specularMap=r(e.specularMap)),void 0!==e.specularIntensityMap&&(a.specularIntensityMap=r(e.specularIntensityMap)),void 0!==e.specularColorMap&&(a.specularColorMap=r(e.specularColorMap)),void 0!==e.envMap&&(a.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(a.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(a.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(a.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(a.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(a.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(a.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(a.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(a.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(a.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(a.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(a.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(a.clearcoatNormalScale=(new sr).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(a.iridescenceMap=r(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(a.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(a.transmissionMap=r(e.transmissionMap)),void 0!==e.thicknessMap&&(a.thicknessMap=r(e.thicknessMap)),void 0!==e.sheenColorMap&&(a.sheenColorMap=r(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(a.sheenRoughnessMap=r(e.sheenRoughnessMap)),a}},{key:"setTextures",value:function(e){return this.textures=e,this}}],[{key:"createMaterialFromType",value:function(e){return new{ShadowMaterial:bh,SpriteMaterial:Vl,RawShaderMaterial:_h,ShaderMaterial:Hi,PointsMaterial:qu,MeshPhysicalMaterial:wh,MeshStandardMaterial:Sh,MeshPhongMaterial:Mh,MeshToonMaterial:Ah,MeshNormalMaterial:Ch,MeshLambertMaterial:kh,MeshDepthMaterial:_l,MeshDistanceMaterial:Sl,MeshBasicMaterial:$a,MeshMatcapMaterial:Th,LineDashedMaterial:Eh,LineBasicMaterial:ku,Material:Za}[e]}}]),n}(td),Bd=function(){function e(){b(this,e)}return S(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(a){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),Pd=function(e){w(n,e);var t=T(n);function n(){var e;return b(this,n),(e=t.call(this)).isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e=R(M(n.prototype),"toJSON",this).call(this,this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(bi),Rd=function(e){w(n,e);var t=T(n);function n(e){return b(this,n),t.call(this,e)}return S(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new ad(a.manager);i.setPath(a.path),i.setRequestHeader(a.requestHeader),i.setWithCredentials(a.withCredentials),i.load(e,(function(n){try{t(a.parse(JSON.parse(n)))}catch(i){r?r(i):console.error(i),a.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var a=e.interleavedBuffers[r],i=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers[t],a=new Uint32Array(r).buffer;return n[t]=a,a}(e,a.buffer),o=hr(a.type,i),s=new Gl(o,a.stride);return s.uuid=a.uuid,t[r]=s,s}var a=e.isInstancedBufferGeometry?new Pd:new bi,i=e.data.index;if(void 0!==i){var o=hr(i.type,i.array);a.setIndex(new ni(o,1))}var s=e.data.attributes;for(var l in s){var u=s[l],c=void 0;if(u.isInterleavedBufferAttribute){var h=r(e.data,u.data);c=new Hl(h,u.itemSize,u.offset,u.normalized)}else{var d=hr(u.type,u.array);c=new(u.isInstancedBufferAttribute?bu:ni)(d,u.itemSize,u.normalized)}void 0!==u.name&&(c.name=u.name),void 0!==u.usage&&c.setUsage(u.usage),void 0!==u.updateRange&&(c.updateRange.offset=u.updateRange.offset,c.updateRange.count=u.updateRange.count),a.setAttribute(l,c)}var f=e.data.morphAttributes;if(f)for(var p in f){for(var m=f[p],v=[],g=0,y=m.length;g<y;g++){var x=m[g],b=void 0;if(x.isInterleavedBufferAttribute){var _=r(e.data,x.data);b=new Hl(_,x.itemSize,x.offset,x.normalized)}else{var S=hr(x.type,x.array);b=new ni(S,x.itemSize,x.normalized)}void 0!==x.name&&(b.name=x.name),v.push(b)}a.morphAttributes[p]=v}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);var w=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==w)for(var M=0,A=w.length;M!==A;++M){var C=w[M];a.addGroup(C.start,C.count,C.materialIndex)}var k=e.data.boundingSphere;if(void 0!==k){var T=new qr;void 0!==k.center&&T.fromArray(k.center),a.boundingSphere=new ia(T,k.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}]),n}(td),Ld=function(e){w(n,e);var t=T(n);function n(e){return b(this,n),t.call(this,e)}return S(n,[{key:"load",value:function(e,t,n,r){var a=this,i=""===this.path?Bd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;var o=new ad(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var i=null;try{i=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=i.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?a.parse(i,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)}},{key:"loadAsync",value:function(){var e=B(L().mark((function e(t,n){var r,a,i,o,s,l;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,a=""===this.path?Bd.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||a,(i=new ad(this.manager)).setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),e.next=9,i.loadAsync(t,n);case 9:if(o=e.sent,s=JSON.parse(o),void 0!==(l=s.metadata)&&void 0!==l.type&&"geometry"!==l.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,r.parseAsync(s);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),i=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),o=this.parseTextures(e.textures,i),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,a,s,o,n),u=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,u),void 0!==t){var c=!1;for(var h in i)if(i[h].data instanceof HTMLImageElement){c=!0;break}!1===c&&t(l)}return l}},{key:"parseAsync",value:function(){var e=B(L().mark((function e(t){var n,r,a,i,o,s,l,u;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),a=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return i=e.sent,o=this.parseTextures(t.textures,i),s=this.parseMaterials(t.materials,o),l=this.parseObject(t.object,a,s,o,n),u=this.parseSkeletons(t.skeletons,l),this.bindSkeletons(l,u),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var a=(new Ic).fromJSON(e[n]);t[a.uuid]=a}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var a=0,i=e.length;a<i;a++){var o=(new xu).fromJSON(e[a],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var r=new Rd,a=0,i=e.length;a<i;a++){var o=void 0,s=e[a];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;default:s.type in xh?o=xh[s.type].fromJSON(s,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(s.type,'"'))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var a=new Id;a.setTextures(t);for(var i=0,o=e.length;i<o;i++){var s=e[i];void 0===n[s.uuid]&&(n[s.uuid]=a.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],a=Kh.parse(r);t[a.uuid]=a}return t}},{key:"parseImages",value:function(e,t){var n,r=this,a={};function i(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:hr(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new $h(t);(n=new sd(o)).setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var u=e[s],c=u.url;if(Array.isArray(c)){for(var h=[],d=0,f=c.length;d<f;d++){var p=i(c[d]);null!==p&&(p instanceof HTMLImageElement?h.push(p):h.push(new vu(p.data,p.width,p.height)))}a[u.uuid]=new Cr(h)}else{var m=i(u.url);a[u.uuid]=new Cr(m)}}}return a}},{key:"parseImagesAsync",value:function(){var e=B(L().mark((function e(t){var n,r,a,i,o,s,l,u,c,h,d,f,p,m,v;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return o=B(L().mark((function e(t){var r,i;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r=t)?r:n.resourcePath+r,e.next=5,a.loadAsync(i);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:hr(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)},i=function(e){return o.apply(this,arguments)},n=this,r={},!(void 0!==t&&t.length>0)){e.next=33;break}(a=new sd(this.manager)).setCrossOrigin(this.crossOrigin),s=0,l=t.length;case 8:if(!(s<l)){e.next=33;break}if(u=t[s],c=u.url,!Array.isArray(c)){e.next=26;break}h=[],d=0,f=c.length;case 14:if(!(d<f)){e.next=23;break}return p=c[d],e.next=18,i(p);case 18:null!==(m=e.sent)&&(m instanceof HTMLImageElement?h.push(m):h.push(new vu(m.data,m.width,m.height)));case 20:d++,e.next=14;break;case 23:r[u.uuid]=new Cr(h),e.next=30;break;case 26:return e.next=28,i(u.url);case 28:v=e.sent,r[u.uuid]=new Cr(v);case 30:s++,e.next=8;break;case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var a=0,i=e.length;a<i;a++){var o=e[a];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=t[o.image],l=s.data,u=void 0;Array.isArray(l)?(u=new Ki,6===l.length&&(u.needsUpdate=!0)):(u=l&&l.data?new vu:new Er,l&&(u.needsUpdate=!0)),u.source=s,u.uuid=o.uuid,void 0!==o.name&&(u.name=o.name),void 0!==o.mapping&&(u.mapping=n(o.mapping,Dd)),void 0!==o.offset&&u.offset.fromArray(o.offset),void 0!==o.repeat&&u.repeat.fromArray(o.repeat),void 0!==o.center&&u.center.fromArray(o.center),void 0!==o.rotation&&(u.rotation=o.rotation),void 0!==o.wrap&&(u.wrapS=n(o.wrap[0],Fd),u.wrapT=n(o.wrap[1],Fd)),void 0!==o.format&&(u.format=o.format),void 0!==o.type&&(u.type=o.type),void 0!==o.encoding&&(u.encoding=o.encoding),void 0!==o.minFilter&&(u.minFilter=n(o.minFilter,Ud)),void 0!==o.magFilter&&(u.magFilter=n(o.magFilter,Ud)),void 0!==o.anisotropy&&(u.anisotropy=o.anisotropy),void 0!==o.flipY&&(u.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(u.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(u.unpackAlignment=o.unpackAlignment),void 0!==o.userData&&(u.userData=o.userData),r[o.uuid]=u}return r}},{key:"parseObject",value:function(e,t,n,r,a){var i,o,s;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function u(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,a=e.length;r<a;r++){var i=e[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":i=new Nl,void 0!==e.background&&(Number.isInteger(e.background)?i.background=new Mr(e.background):i.background=c(e.background)),void 0!==e.environment&&(i.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?i.fog=new zl(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(i.fog=new Ol(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(i.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":i=new Wi(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(i.focus=e.focus),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.filmGauge&&(i.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(i.filmOffset=e.filmOffset),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new go(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"AmbientLight":i=new Cd(e.color,e.intensity);break;case"DirectionalLight":i=new Ad(e.color,e.intensity);break;case"PointLight":i=new wd(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":i=new kd(e.color,e.intensity,e.width,e.height);break;case"SpotLight":i=new yd(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new dd(e.color,e.groundColor,e.intensity);break;case"LightProbe":i=(new Ed).fromJSON(e);break;case"SkinnedMesh":o=l(e.geometry),s=u(e.material),i=new pu(o,s),void 0!==e.bindMode&&(i.bindMode=e.bindMode),void 0!==e.bindMatrix&&i.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(i.skeleton=e.skeleton);break;case"Mesh":o=l(e.geometry),s=u(e.material),i=new qi(o,s);break;case"InstancedMesh":o=l(e.geometry),s=u(e.material);var h=e.count,d=e.instanceMatrix,f=e.instanceColor;(i=new Cu(o,s,h)).instanceMatrix=new bu(new Float32Array(d.array),16),void 0!==f&&(i.instanceColor=new bu(new Float32Array(f.array),f.itemSize));break;case"LOD":i=new lu;break;case"Line":i=new Ru(l(e.geometry),u(e.material));break;case"LineLoop":i=new Uu(l(e.geometry),u(e.material));break;case"LineSegments":i=new Fu(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":i=new ju(l(e.geometry),u(e.material));break;case"Sprite":i=new au(u(e.material));break;case"Group":i=new Tl;break;case"Bone":i=new mu;break;default:i=new Oa}if(i.uuid=e.uuid,void 0!==e.name&&(i.name=e.name),void 0!==e.matrix?(i.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(i.matrixAutoUpdate=e.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==e.position&&i.position.fromArray(e.position),void 0!==e.rotation&&i.rotation.fromArray(e.rotation),void 0!==e.quaternion&&i.quaternion.fromArray(e.quaternion),void 0!==e.scale&&i.scale.fromArray(e.scale)),void 0!==e.castShadow&&(i.castShadow=e.castShadow),void 0!==e.receiveShadow&&(i.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(i.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(i.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(i.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&i.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(i.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.frustumCulled&&(i.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(i.renderOrder=e.renderOrder),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.layers&&(i.layers.mask=e.layers),void 0!==e.children)for(var p=e.children,m=0;m<p.length;m++)i.add(this.parseObject(p[m],t,n,r,a));if(void 0!==e.animations)for(var v=e.animations,g=0;g<v.length;g++){var y=v[g];i.animations.push(a[y])}if("LOD"===e.type){void 0!==e.autoUpdate&&(i.autoUpdate=e.autoUpdate);for(var x=e.levels,b=0;b<x.length;b++){var _=x[b],S=i.getObjectByProperty("uuid",_.object);void 0!==S&&i.addLevel(S,_.distance)}}return i}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}]),n}(td),Dd={UVMapping:Le,CubeReflectionMapping:De,CubeRefractionMapping:Fe,EquirectangularReflectionMapping:Ue,EquirectangularRefractionMapping:qe,CubeUVReflectionMapping:Oe},Fd={RepeatWrapping:ze,ClampToEdgeWrapping:Ne,MirroredRepeatWrapping:Ge},Ud={NearestFilter:je,NearestMipmapNearestFilter:He,NearestMipmapLinearFilter:We,LinearFilter:Xe,LinearMipmapNearestFilter:Ke,LinearMipmapLinearFilter:Qe},qd=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return S(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,i=Zh.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){t&&t(i),a.manager.itemEnd(e)}),0),i;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(a.options,{colorSpaceConversion:"none"}))})).then((function(n){Zh.add(e,n),t&&t(n),a.manager.itemEnd(e)})).catch((function(t){r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)})),a.manager.itemStart(e)}}]),n}(td),Od=function(){function e(){b(this,e)}return S(e,null,[{key:"getContext",value:function(){return void 0===Qh&&(Qh=new(window.AudioContext||window.webkitAudioContext)),Qh}},{key:"setContext",value:function(e){Qh=e}}]),e}(),zd=function(e){w(n,e);var t=T(n);function n(e){return b(this,n),t.call(this,e)}return S(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new ad(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(n){try{var i=n.slice(0);Od.getContext().decodeAudioData(i,(function(e){t(e)}))}catch(o){r?r(o):console.error(o),a.manager.itemError(e)}}),n,r)}}]),n}(td),Nd=function(e){w(n,e);var t=T(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;b(this,n),(a=t.call(this,void 0,i)).isHemisphereLightProbe=!0;var o=(new Mr).set(e),s=(new Mr).set(r),l=new qr(o.r,o.g,o.b),u=new qr(s.r,s.g,s.b),c=Math.sqrt(Math.PI),h=c*Math.sqrt(.75);return a.sh.coefficients[0].copy(l).add(u).multiplyScalar(c),a.sh.coefficients[1].copy(l).sub(u).multiplyScalar(h),a}return S(n)}(Ed),Gd=function(e){w(n,e);var t=T(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;b(this,n),(r=t.call(this,void 0,a)).isAmbientLightProbe=!0;var i=(new Mr).set(e);return r.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return S(n)}(Ed),jd=new pa,Hd=new pa,Vd=new pa,Wd=function(){function e(){b(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Wi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Wi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return S(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Vd.copy(e.projectionMatrix);var n,r,a=t.eyeSep/2,i=a*t.near/t.focus,o=t.near*Math.tan(Kn*t.fov*.5)/t.zoom;Hd.elements[12]=-a,jd.elements[12]=a,n=-o*t.aspect+i,r=o*t.aspect+i,Vd.elements[0]=2*t.near/(r-n),Vd.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(Vd),n=-o*t.aspect-i,r=o*t.aspect-i,Vd.elements[0]=2*t.near/(r-n),Vd.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(Vd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Hd),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(jd)}}]),e}(),Jd=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];b(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return S(e,[{key:"start",value:function(){this.startTime=Xd(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=Xd();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function Xd(){return("undefined"===typeof performance?Date:performance).now()}var Kd=new qr,Yd=new Ur,Qd=new qr,Zd=new qr,$d=function(e){w(n,e);var t=T(n);function n(){var e;return b(this,n),(e=t.call(this)).type="AudioListener",e.context=Od.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new Jd,e}return S(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){R(M(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Kd,Yd,Qd),Zd.set(0,0,-1).applyQuaternion(Yd),t.positionX){var a=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Kd.x,a),t.positionY.linearRampToValueAtTime(Kd.y,a),t.positionZ.linearRampToValueAtTime(Kd.z,a),t.forwardX.linearRampToValueAtTime(Zd.x,a),t.forwardY.linearRampToValueAtTime(Zd.y,a),t.forwardZ.linearRampToValueAtTime(Zd.z,a),t.upX.linearRampToValueAtTime(r.x,a),t.upY.linearRampToValueAtTime(r.y,a),t.upZ.linearRampToValueAtTime(r.z,a)}else t.setPosition(Kd.x,Kd.y,Kd.z),t.setOrientation(Zd.x,Zd.y,Zd.z,r.x,r.y,r.z)}}]),n}(Oa),ef=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return S(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(Oa),tf=new qr,nf=new Ur,rf=new qr,af=new qr,of=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return S(n,[{key:"disconnect",value:function(){R(M(n.prototype),"disconnect",this).call(this),this.panner.disconnect(this.gain)}},{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(R(M(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(tf,nf,rf),af.set(0,0,1).applyQuaternion(nf);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(tf.x,r),t.positionY.linearRampToValueAtTime(tf.y,r),t.positionZ.linearRampToValueAtTime(tf.z,r),t.orientationX.linearRampToValueAtTime(af.x,r),t.orientationY.linearRampToValueAtTime(af.y,r),t.orientationZ.linearRampToValueAtTime(af.z,r)}else t.setPosition(tf.x,tf.y,tf.z),t.setOrientation(af.x,af.y,af.z)}}}]),n}(ef),sf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;b(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return S(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),lf=function(){function e(t,n,r){var a,i,o;switch(b(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":a=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":a=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:a=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return S(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,a=e*r+r,i=this.cumulativeWeight;if(0===i){for(var o=0;o!==r;++o)n[a+o]=n[o];i=t}else{var s=t/(i+=t);this._mixBufferRegion(n,a,0,s,r)}this.cumulativeWeight=i}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,a=this.cumulativeWeight,i=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-a,t)}i>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var l=t,u=t+t;l!==u;++l)if(n[l]!==n[l+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var a=n,i=r;a!==i;++a)t[a]=t[r+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,a){if(r>=.5)for(var i=0;i!==a;++i)e[t+i]=e[n+i]}},{key:"_slerp",value:function(e,t,n,r){Ur.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,a){var i=this._workIndex*a;Ur.multiplyQuaternionsFlat(e,i,e,t,e,n),Ur.slerpFlat(e,t,e,t,e,i,r)}},{key:"_lerp",value:function(e,t,n,r,a){for(var i=1-r,o=0;o!==a;++o){var s=t+o;e[s]=e[s]*i+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,a){for(var i=0;i!==a;++i){var o=t+i;e[o]=e[o]+e[n+i]*r}}}]),e}(),uf="\\[\\]\\.:\\/",cf=new RegExp("[\\[\\]\\.:\\/]","g"),hf="[^\\[\\]\\.:\\/]",df="[^"+uf.replace("\\.","")+"]",ff=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",hf)+/(WCOD+)?/.source.replace("WCOD",df)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",hf)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",hf)+"$"),pf=["material","materials","bones","map"],mf=function(){function e(t,n,r){b(this,e);var a=r||vf.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,a)}return S(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,a=n.length;r!==a;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),vf=function(){function e(t,n,r){b(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return S(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,a=n.propertyName,i=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var l=t[a];if(void 0!==l){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===a){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[i]&&(i=t.morphTargetDictionary[i])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=i}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=a;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var h=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+a+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(cf,"")}},{key:"parseTrackName",value:function(e){var t=ff.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var a=n.nodeName.substring(r+1);-1!==pf.indexOf(a)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var a=n[r];if(a.name===t||a.uuid===t)return a;var i=e(a.children);if(i)return i}return null}(e.children);if(r)return r}return null}}]),e}();vf.Composite=mf,vf.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},vf.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},vf.prototype.GetterByBindingType=[vf.prototype._getValue_direct,vf.prototype._getValue_array,vf.prototype._getValue_arrayElement,vf.prototype._getValue_toArray],vf.prototype.SetterByBindingTypeAndVersioning=[[vf.prototype._setValue_direct,vf.prototype._setValue_direct_setNeedsUpdate,vf.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vf.prototype._setValue_array,vf.prototype._setValue_array_setNeedsUpdate,vf.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vf.prototype._setValue_arrayElement,vf.prototype._setValue_arrayElement_setNeedsUpdate,vf.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vf.prototype._setValue_fromArray,vf.prototype._setValue_fromArray_setNeedsUpdate,vf.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var gf=function(){function e(){b(this,e),this.isAnimationObjectGroup=!0,this.uuid=Qn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var a=this;this.stats={objects:{get total(){return a._objects.length},get inUse(){return this.total-a.nCachedObjects_}},get bindingsPerObject(){return a._bindings.length}}}return S(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,a=this._bindings,i=a.length,o=void 0,s=e.length,l=this.nCachedObjects_,u=0,c=arguments.length;u!==c;++u){var h=arguments[u],d=h.uuid,f=t[d];if(void 0===f){f=s++,t[d]=f,e.push(h);for(var p=0,m=i;p!==m;++p)a[p].push(new vf(h,n[p],r[p]))}else if(f<l){o=e[f];var v=--l,g=e[v];t[g.uuid]=f,e[f]=g,t[d]=v,e[v]=h;for(var y=0,x=i;y!==x;++y){var b=a[y],_=b[v],S=b[f];b[f]=_,void 0===S&&(S=new vf(h,n[y],r[y])),b[v]=S}}else e[f]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,a=this.nCachedObjects_,i=0,o=arguments.length;i!==o;++i){var s=arguments[i],l=s.uuid,u=t[l];if(void 0!==u&&u>=a){var c=a++,h=e[c];t[h.uuid]=u,e[u]=h,t[l]=c,e[c]=s;for(var d=0,f=r;d!==f;++d){var p=n[d],m=p[c],v=p[u];p[u]=m,p[c]=v}}}this.nCachedObjects_=a}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,a=this.nCachedObjects_,i=e.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o],u=l.uuid,c=t[u];if(void 0!==c)if(delete t[u],c<a){var h=--a,d=e[h],f=--i,p=e[f];t[d.uuid]=c,e[c]=d,t[p.uuid]=h,e[h]=p,e.pop();for(var m=0,v=r;m!==v;++m){var g=n[m],y=g[h],x=g[f];g[c]=y,g[h]=x,g.pop()}}else{var b=--i,_=e[b];b>0&&(t[_.uuid]=c),e[c]=_,e.pop();for(var S=0,w=r;S!==w;++S){var M=n[S];M[c]=M[b],M.pop()}}}this.nCachedObjects_=a}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],a=this._bindings;if(void 0!==r)return a[r];var i=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=a.length,n[e]=r,i.push(e),o.push(t),a.push(c);for(var h=u,d=s.length;h!==d;++h){var f=s[h];c[h]=new vf(f,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,a=this._parsedPaths,i=this._bindings,o=i.length-1,s=i[o];t[e[o]]=n,i[n]=s,i.pop(),a[n]=a[o],a.pop(),r[n]=r[o],r.pop()}}}]),e}(),yf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;b(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=a;for(var i=n.tracks,o=i.length,s=new Array(o),l={endingStart:en,endingEnd:en},u=0;u!==o;++u){var c=i[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Kt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return S(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,a=e._clip.duration,i=a/r,o=r/a;e.warp(1,i,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,a=r.time,i=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=a,s[1]=a+n,l[0]=e/i,l[1]=t/i,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var a=this._startTime;if(null!==a){var i=(e-a)*n;i<0||0===n?t=0:(this._startTime=null,t=n*i)}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var l=this._interpolants,u=this._propertyBindings;if(this.blendMode===an)for(var c=0,h=l.length;c!==h;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);else for(var d=0,f=l.length;d!==f;++d)l[d].evaluate(o),u[d].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,a=this._loopCount,i=n===Yt;if(0===e)return-1===a?r:i&&1===(1&a)?t-r:r;if(n===Xt){-1===a&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===a&&(e>=0?(a=0,this._setEndings(!0,0===this.repetitions,i)):this._setEndings(0===this.repetitions,!0,i)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,a+=Math.abs(o);var s=this.repetitions-a;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,i)}else this._setEndings(!1,!1,i);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(i&&1===(1&a))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=tn,r.endingEnd=tn):(r.endingStart=e?this.zeroSlopeAtStart?tn:en:nn,r.endingEnd=t?this.zeroSlopeAtEnd?tn:en:nn)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,a=r.time,i=this._weightInterpolant;null===i&&(i=r._lendControlInterpolant(),this._weightInterpolant=i);var o=i.parameterPositions,s=i.sampleValues;return o[0]=a,s[0]=t,o[1]=a+e,s[1]=n,this}}]),e}(),xf=new Float32Array(1),bf=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return S(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,a=r.length,i=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==a;++c){var h=r[c],d=h.name,f=u[d];if(void 0!==f)++f.referenceCount,i[c]=f;else{if(void 0!==(f=i[c])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,d));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(f=new lf(vf.create(n,d,p),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(f,s,d),i[c]=f}o[c].resultBuffer=f.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var a=e._propertyBindings,i=0,o=a.length;i!==o;++i){var s=a[i];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var a=t[n];0===--a.useCount&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,a=this._actionsByClip,i=a[t];if(void 0===i)i={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=i;else{var o=i.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),i.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var a=e._clip.uuid,i=this._actionsByClip,o=i[a],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete i[a],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var a=t[n];0===--a.referenceCount&&this._removeInactiveBinding(a)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,a=this._bindings,i=r[t];void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=a.length,a.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,a=n.path,i=this._bindingsByRootAndName,o=i[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[a],0===Object.keys(o).length&&delete i[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Oh(new Float32Array(2),new Float32Array(2),1,xf)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=n,t[n]=a}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,a=r.uuid,i="string"===typeof e?Kh.findByName(r,e):e,o=null!==i?i.uuid:e,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==i?i.blendMode:rn),void 0!==s){var u=s.actionByRoot[a];if(void 0!==u&&u.blendMode===n)return u;l=s.knownActions[0],null===i&&(i=l._clip)}if(null===i)return null;var c=new yf(this,i,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,a),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,a="string"===typeof e?Kh.findByName(n,e):e,i=a?a.uuid:e,o=this._actionsByClip[i];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,a=Math.sign(e),i=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,a,i)}for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(i);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,a=r[n];if(void 0!==a){for(var i=a.knownActions,o=0,s=i.length;o!==s;++o){var l=i[o];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var a=n[r].actionByRoot[t];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var i=this._bindingsByRootAndName[t];if(void 0!==i)for(var o in i){var s=i[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(Wn),_f=function(){function e(t){b(this,e),this.value=t}return S(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),Sf=0,wf=function(e){w(n,e);var t=T(n);function n(){var e;return b(this,n),(e=t.call(this)).isUniformsGroup=!0,Object.defineProperty(C(e),"id",{value:Sf++}),e.name="",e.usage=Ln,e.uniforms=[],e}return S(n,[{key:"add",value:function(e){return this.uniforms.push(e),this}},{key:"remove",value:function(e){var t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}},{key:"setName",value:function(e){return this.name=e,this}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"dispose",value:function(){return this.dispatchEvent({type:"dispose"}),this}},{key:"copy",value:function(e){this.name=e.name,this.usage=e.usage;var t=e.uniforms;this.uniforms.length=0;for(var n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Wn),Mf=function(e){w(n,e);var t=T(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return b(this,n),(a=t.call(this,e,r)).isInstancedInterleavedBuffer=!0,a.meshPerAttribute=i,a}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=R(M(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=R(M(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(Gl),Af=function(){function e(t,n,r,a,i){b(this,e),this.isGLBufferAttribute=!0,this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=a,this.count=i,this.version=0}return S(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}(),Cf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;b(this,e),this.ray=new fa(t,n),this.near=r,this.far=a,this.camera=null,this.layers=new Aa,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return S(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Tf(e,this,n,t),n.sort(kf),n}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,a=e.length;r<a;r++)Tf(e[r],this,n,t);return n.sort(kf),n}}]),e}();function kf(e,t){return e.distance-t.distance}function Tf(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var a=e.children,i=0,o=a.length;i<o;i++)Tf(a[i],t,n,!0)}var Ef=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return b(this,e),this.radius=t,this.phi=n,this.theta=r,this}return S(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Zn(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),If=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return b(this,e),this.radius=t,this.theta=n,this.y=r,this}return S(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Bf=new sr,Pf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sr(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr(-1/0,-1/0);b(this,e),this.isBox2=!0,this.min=t,this.max=n}return S(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Bf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Bf.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Rf=new qr,Lf=new qr,Df=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qr;b(this,e),this.start=t,this.end=n}return S(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){Rf.subVectors(e,this.start),Lf.subVectors(this.end,this.start);var n=Lf.dot(Lf),r=Lf.dot(Rf)/n;return t&&(r=Zn(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Ff=new qr,Uf=function(e){w(n,e);var t=T(n);function n(e,r){var a;b(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=r;for(var i=new bi,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,l=1;s<32;s++,l++){var u=s/32*Math.PI*2,c=l/32*Math.PI*2;o.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}i.setAttribute("position",new hi(o,3));var h=new ku({fog:!1,toneMapped:!1});return a.cone=new Fu(i,h),a.add(a.cone),a.update(),a}return S(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Ff.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Ff),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(Oa),qf=new qr,Of=new pa,zf=new pa,Nf=function(e){w(n,e);var t=T(n);function n(e){var r;b(this,n);for(var a=Gf(e),i=new bi,o=[],s=[],l=new Mr(0,0,1),u=new Mr(0,1,0),c=0;c<a.length;c++){var h=a[c];h.parent&&h.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(l.r,l.g,l.b),s.push(u.r,u.g,u.b))}i.setAttribute("position",new hi(o,3)),i.setAttribute("color",new hi(s,3));var d=new ku({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,i,d)).isSkeletonHelper=!0,r.type="SkeletonHelper",r.root=e,r.bones=a,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return S(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,a=r.getAttribute("position");zf.copy(this.root.matrixWorld).invert();for(var i=0,o=0;i<t.length;i++){var s=t[i];s.parent&&s.parent.isBone&&(Of.multiplyMatrices(zf,s.matrixWorld),qf.setFromMatrixPosition(Of),a.setXYZ(o,qf.x,qf.y,qf.z),Of.multiplyMatrices(zf,s.parent.matrixWorld),qf.setFromMatrixPosition(Of),a.setXYZ(o+1,qf.x,qf.y,qf.z),o+=2)}r.getAttribute("position").needsUpdate=!0,R(M(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Fu);function Gf(e){var t=[];!0===e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,Gf(e.children[n]));return t}var jf=function(e){w(n,e);var t=T(n);function n(e,r,a){var i;b(this,n);var o=new dh(r,4,2),s=new $a({wireframe:!0,fog:!1,toneMapped:!1});return(i=t.call(this,o,s)).light=e,i.light.updateMatrixWorld(),i.color=a,i.type="PointLightHelper",i.matrix=i.light.matrixWorld,i.matrixAutoUpdate=!1,i.update(),i}return S(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(qi),Hf=new qr,Vf=new Mr,Wf=new Mr,Jf=function(e){w(n,e);var t=T(n);function n(e,r,a){var i;b(this,n),(i=t.call(this)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=a;var o=new uh(r);o.rotateY(.5*Math.PI),i.material=new $a({wireframe:!0,fog:!1,toneMapped:!1}),void 0===i.color&&(i.material.vertexColors=!0);var s=o.getAttribute("position"),l=new Float32Array(3*s.count);return o.setAttribute("color",new ni(l,3)),i.add(new qi(o,i.material)),i.update(),i}return S(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Vf.copy(this.light.color),Wf.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var a=n<r/2?Vf:Wf;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}e.lookAt(Hf.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(Oa),Xf=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;b(this,n),i=new Mr(i),o=new Mr(o);for(var s=a/2,l=r/a,u=r/2,c=[],h=[],d=0,f=0,p=-u;d<=a;d++,p+=l){c.push(-u,0,p,u,0,p),c.push(p,0,-u,p,0,u);var m=d===s?i:o;m.toArray(h,f),f+=3,m.toArray(h,f),f+=3,m.toArray(h,f),f+=3,m.toArray(h,f),f+=3}var v=new bi;v.setAttribute("position",new hi(c,3)),v.setAttribute("color",new hi(h,3));var g=new ku({vertexColors:!0,toneMapped:!1});return(e=t.call(this,v,g)).type="GridHelper",e}return S(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Fu),Kf=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;b(this,n),s=new Mr(s),l=new Mr(l);var u=[],c=[];if(a>1)for(var h=0;h<a;h++){var d=h/a*(2*Math.PI),f=Math.sin(d)*r,p=Math.cos(d)*r;u.push(0,0,0),u.push(f,0,p);var m=1&h?s:l;c.push(m.r,m.g,m.b),c.push(m.r,m.g,m.b)}for(var v=0;v<i;v++)for(var g=1&v?s:l,y=r-r/i*v,x=0;x<o;x++){var _=x/o*(2*Math.PI),S=Math.sin(_)*y,w=Math.cos(_)*y;u.push(S,0,w),c.push(g.r,g.g,g.b),_=(x+1)/o*(2*Math.PI),S=Math.sin(_)*y,w=Math.cos(_)*y,u.push(S,0,w),c.push(g.r,g.g,g.b)}var M=new bi;M.setAttribute("position",new hi(u,3)),M.setAttribute("color",new hi(c,3));var A=new ku({vertexColors:!0,toneMapped:!1});return(e=t.call(this,M,A)).type="PolarGridHelper",e}return S(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Fu),Yf=new qr,Qf=new qr,Zf=new qr,$f=function(e){w(n,e);var t=T(n);function n(e,r,a){var i;b(this,n),(i=t.call(this)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=a,void 0===r&&(r=1);var o=new bi;o.setAttribute("position",new hi([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new ku({fog:!1,toneMapped:!1});return i.lightPlane=new Ru(o,s),i.add(i.lightPlane),(o=new bi).setAttribute("position",new hi([0,0,0,0,0,1],3)),i.targetLine=new Ru(o,s),i.add(i.targetLine),i.update(),i}return S(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){Yf.setFromMatrixPosition(this.light.matrixWorld),Qf.setFromMatrixPosition(this.light.target.matrixWorld),Zf.subVectors(Qf,Yf),this.lightPlane.lookAt(Qf),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Qf),this.targetLine.scale.z=Zf.length()}}]),n}(Oa),ep=new qr,tp=new Vi,np=function(e){w(n,e);var t=T(n);function n(e){var r;b(this,n);var a=new bi,i=new ku({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],l={};function u(e,t){c(e),c(t)}function c(e){o.push(0,0,0),s.push(0,0,0),void 0===l[e]&&(l[e]=[]),l[e].push(o.length/3-1)}u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4"),a.setAttribute("position",new hi(o,3)),a.setAttribute("color",new hi(s,3)),(r=t.call(this,a,i)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=l,r.update();var h=new Mr(16755200),d=new Mr(16711680),f=new Mr(43775),p=new Mr(16777215),m=new Mr(3355443);return r.setColors(h,d,f,p,m),r}return S(n,[{key:"setColors",value:function(e,t,n,r,a){var i=this.geometry.getAttribute("color");i.setXYZ(0,e.r,e.g,e.b),i.setXYZ(1,e.r,e.g,e.b),i.setXYZ(2,e.r,e.g,e.b),i.setXYZ(3,e.r,e.g,e.b),i.setXYZ(4,e.r,e.g,e.b),i.setXYZ(5,e.r,e.g,e.b),i.setXYZ(6,e.r,e.g,e.b),i.setXYZ(7,e.r,e.g,e.b),i.setXYZ(8,e.r,e.g,e.b),i.setXYZ(9,e.r,e.g,e.b),i.setXYZ(10,e.r,e.g,e.b),i.setXYZ(11,e.r,e.g,e.b),i.setXYZ(12,e.r,e.g,e.b),i.setXYZ(13,e.r,e.g,e.b),i.setXYZ(14,e.r,e.g,e.b),i.setXYZ(15,e.r,e.g,e.b),i.setXYZ(16,e.r,e.g,e.b),i.setXYZ(17,e.r,e.g,e.b),i.setXYZ(18,e.r,e.g,e.b),i.setXYZ(19,e.r,e.g,e.b),i.setXYZ(20,e.r,e.g,e.b),i.setXYZ(21,e.r,e.g,e.b),i.setXYZ(22,e.r,e.g,e.b),i.setXYZ(23,e.r,e.g,e.b),i.setXYZ(24,t.r,t.g,t.b),i.setXYZ(25,t.r,t.g,t.b),i.setXYZ(26,t.r,t.g,t.b),i.setXYZ(27,t.r,t.g,t.b),i.setXYZ(28,t.r,t.g,t.b),i.setXYZ(29,t.r,t.g,t.b),i.setXYZ(30,t.r,t.g,t.b),i.setXYZ(31,t.r,t.g,t.b),i.setXYZ(32,n.r,n.g,n.b),i.setXYZ(33,n.r,n.g,n.b),i.setXYZ(34,n.r,n.g,n.b),i.setXYZ(35,n.r,n.g,n.b),i.setXYZ(36,n.r,n.g,n.b),i.setXYZ(37,n.r,n.g,n.b),i.setXYZ(38,r.r,r.g,r.b),i.setXYZ(39,r.r,r.g,r.b),i.setXYZ(40,a.r,a.g,a.b),i.setXYZ(41,a.r,a.g,a.b),i.setXYZ(42,a.r,a.g,a.b),i.setXYZ(43,a.r,a.g,a.b),i.setXYZ(44,a.r,a.g,a.b),i.setXYZ(45,a.r,a.g,a.b),i.setXYZ(46,a.r,a.g,a.b),i.setXYZ(47,a.r,a.g,a.b),i.setXYZ(48,a.r,a.g,a.b),i.setXYZ(49,a.r,a.g,a.b),i.needsUpdate=!0}},{key:"update",value:function(){var e=this.geometry,t=this.pointMap;tp.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),rp("c",t,e,tp,0,0,-1),rp("t",t,e,tp,0,0,1),rp("n1",t,e,tp,-1,-1,-1),rp("n2",t,e,tp,1,-1,-1),rp("n3",t,e,tp,-1,1,-1),rp("n4",t,e,tp,1,1,-1),rp("f1",t,e,tp,-1,-1,1),rp("f2",t,e,tp,1,-1,1),rp("f3",t,e,tp,-1,1,1),rp("f4",t,e,tp,1,1,1),rp("u1",t,e,tp,.7,1.1,-1),rp("u2",t,e,tp,-.7,1.1,-1),rp("u3",t,e,tp,0,2,-1),rp("cf1",t,e,tp,-1,0,1),rp("cf2",t,e,tp,1,0,1),rp("cf3",t,e,tp,0,-1,1),rp("cf4",t,e,tp,0,1,1),rp("cn1",t,e,tp,-1,0,-1),rp("cn2",t,e,tp,1,0,-1),rp("cn3",t,e,tp,0,-1,-1),rp("cn4",t,e,tp,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Fu);function rp(e,t,n,r,a,i,o){ep.set(a,i,o).unproject(r);var s=t[e];if(void 0!==s)for(var l=n.getAttribute("position"),u=0,c=s.length;u<c;u++)l.setXYZ(s[u],ep.x,ep.y,ep.z)}var ap,ip,op=new Nr,sp=function(e){w(n,e);var t=T(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;b(this,n);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new bi;return s.setIndex(new ni(i,1)),s.setAttribute("position",new ni(o,3)),(r=t.call(this,s,new ku({color:a,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return S(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&op.setFromObject(this.object),!op.isEmpty()){var t=op.min,n=op.max,r=this.geometry.attributes.position,a=r.array;a[0]=n.x,a[1]=n.y,a[2]=n.z,a[3]=t.x,a[4]=n.y,a[5]=n.z,a[6]=t.x,a[7]=t.y,a[8]=n.z,a[9]=n.x,a[10]=t.y,a[11]=n.z,a[12]=n.x,a[13]=n.y,a[14]=t.z,a[15]=t.x,a[16]=n.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=n.x,a[22]=t.y,a[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e,t){return R(M(n.prototype),"copy",this).call(this,e,t),this.object=e.object,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Fu),lp=function(e){w(n,e);var t=T(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;b(this,n);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new bi;return s.setIndex(new ni(i,1)),s.setAttribute("position",new hi(o,3)),(r=t.call(this,s,new ku({color:a,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return S(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),R(M(n.prototype),"updateMatrixWorld",this).call(this,e))}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Fu),up=function(e){w(n,e);var t=T(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;b(this,n);var o=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new bi;l.setAttribute("position",new hi(s,3)),l.computeBoundingSphere(),(r=t.call(this,l,new ku({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=a;var u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new bi;return c.setAttribute("position",new hi(u,3)),c.computeBoundingSphere(),r.add(new qi(c,new $a({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return S(n,[{key:"updateMatrixWorld",value:function(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),R(M(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}]),n}(Ru),cp=new qr,hp=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qr(0,0,1),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qr(0,0,0),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*i,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return b(this,n),(e=t.call(this)).type="ArrowHelper",void 0===ap&&((ap=new bi).setAttribute("position",new hi([0,0,0,0,1,0],3)),(ip=new _c(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(a),e.line=new Ru(ap,new ku({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new qi(ip,new $a({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(i,s,l),e}return S(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{cp.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(cp,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},{key:"dispose",value:function(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}]),n}(Oa),dp=function(e){w(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;b(this,n);var a=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new bi;o.setAttribute("position",new hi(a,3)),o.setAttribute("color",new hi(i,3));var s=new ku({vertexColors:!0,toneMapped:!1});return(e=t.call(this,o,s)).type="AxesHelper",e}return S(n,[{key:"setColors",value:function(e,t,n){var r=new Mr,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(n),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Fu),fp=function(){function e(){b(this,e),this.type="ShapePath",this.color=new Mr,this.subPaths=[],this.currentPath=null}return S(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new gc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,a,i){return this.currentPath.bezierCurveTo(e,t,n,r,a,i),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e){function t(e,t){for(var n=t.length,r=!1,a=n-1,i=0;i<n;a=i++){var o=t[a],s=t[i],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=t[i],l=-l,s=t[a],u=-u),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=u*(e.x-o.x)-l*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var n,r,a,i=rh.isClockWise,o=this.subPaths;if(0===o.length)return[];var s=[];if(1===o.length)return r=o[0],(a=new Ic).curves=r.curves,s.push(a),s;var l=!i(o[0].getPoints());l=e?!l:l;var u,c,h=[],d=[],f=[],p=0;d[p]=void 0,f[p]=[];for(var m=0,v=o.length;m<v;m++)n=i(u=(r=o[m]).getPoints()),(n=e?!n:n)?(!l&&d[p]&&p++,d[p]={s:new Ic,p:u},d[p].s.curves=r.curves,l&&p++,f[p]=[]):f[p].push({h:r,p:u[0]});if(!d[0])return function(e){for(var t=[],n=0,r=e.length;n<r;n++){var a=e[n],i=new Ic;i.curves=a.curves,t.push(i)}return t}(o);if(d.length>1){for(var g=!1,y=0,x=0,b=d.length;x<b;x++)h[x]=[];for(var _=0,S=d.length;_<S;_++)for(var w=f[_],M=0;M<w.length;M++){for(var A=w[M],C=!0,k=0;k<d.length;k++)t(A.p,d[k].p)&&(_!==k&&y++,C?(C=!1,h[k].push(A)):g=!0);C&&h[_].push(A)}y>0&&!1===g&&(f=h)}for(var T=0,E=d.length;T<E;T++){a=d[T].s,s.push(a);for(var I=0,B=(c=f[T]).length;I<B;I++)a.holes.push(c[I].h)}return s}}]),e}(),pp=mp();function mp(){for(var e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),a=new Uint32Array(512),i=0;i<256;++i){var o=i-127;o<-27?(r[i]=0,r[256|i]=32768,a[i]=24,a[256|i]=24):o<-14?(r[i]=1024>>-o-14,r[256|i]=1024>>-o-14|32768,a[i]=-o-1,a[256|i]=-o-1):o<=15?(r[i]=o+15<<10,r[256|i]=o+15<<10|32768,a[i]=13,a[256|i]=13):o<128?(r[i]=31744,r[256|i]=64512,a[i]=24,a[256|i]=24):(r[i]=31744,r[256|i]=64512,a[i]=13,a[256|i]=13)}for(var s=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64),c=1;c<1024;++c){for(var h=c<<13,d=0;0===(8388608&h);)h<<=1,d-=8388608;h&=-8388609,d+=947912704,s[c]=h|d}for(var f=1024;f<2048;++f)s[f]=939524096+(f-1024<<13);for(var p=1;p<31;++p)l[p]=p<<23;l[31]=1199570944,l[32]=2147483648;for(var m=33;m<63;++m)l[m]=2147483648+(m-32<<23);l[63]=3347054592;for(var v=1;v<64;++v)32!==v&&(u[v]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:a,mantissaTable:s,exponentTable:l,offsetTable:u}}var vp=Object.freeze({__proto__:null,toHalfFloat:function(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Zn(e,-65504,65504),pp.floatView[0]=e;var t=pp.uint32View[0],n=t>>23&511;return pp.baseTable[n]+((8388607&t)>>pp.shiftTable[n])},fromHalfFloat:function(e){var t=e>>10;return pp.uint32View[0]=pp.mantissaTable[pp.offsetTable[t]+(1023&e)]+pp.exponentTable[t],pp.floatView[0]}});function gp(){console.error("THREE.ImmediateRenderObject has been removed.")}var yp=function(e){w(n,e);var t=T(n);function n(e,r,a){var i;return b(this,n),console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),(i=t.call(this,e,r,a)).samples=4,i}return S(n)}(Br),xp=function(e){w(n,e);var t=T(n);function n(e,r,a,i){return b(this,n),console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),t.call(this,e,r,a,i)}return S(n)}(Pr),bp=function(e){w(n,e);var t=T(n);function n(e,r,a,i){return b(this,n),console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),t.call(this,e,r,a,i)}return S(n)}(Lr),_p=function(e){w(n,e);var t=T(n);function n(e,r,a,i,o,s){return b(this,n),console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),t.call(this,e,r,a,i,o,s)}return S(n)}(zi),Sp=function(e){w(n,e);var t=T(n);function n(e,r,a,i){return b(this,n),console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),t.call(this,e,r,a,i)}return S(n)}(xc),wp=function(e){w(n,e);var t=T(n);function n(e,r,a,i){return b(this,n),console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),t.call(this,e,r,a,i)}return S(n)}(bc),Mp=function(e){w(n,e);var t=T(n);function n(e,r,a,i,o,s,l){return b(this,n),console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),t.call(this,e,r,a,i,o,s,l)}return S(n)}(Sc),Ap=function(e){w(n,e);var t=T(n);function n(e,r,a,i,o,s,l,u){return b(this,n),console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),t.call(this,e,r,a,i,o,s,l,u)}return S(n)}(_c),Cp=function(e){w(n,e);var t=T(n);function n(e,r){return b(this,n),console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),t.call(this,e,r)}return S(n)}(Mc),kp=function(e){w(n,e);var t=T(n);function n(e,r){return b(this,n),console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),t.call(this,e,r)}return S(n)}(oh),Tp=function(e){w(n,e);var t=T(n);function n(e,r){return b(this,n),console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),t.call(this,e,r)}return S(n)}(lh),Ep=function(e){w(n,e);var t=T(n);function n(e,r,a,i){return b(this,n),console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),t.call(this,e,r,a,i)}return S(n)}(yc),Ip=function(e){w(n,e);var t=T(n);function n(e,r){return b(this,n),console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),t.call(this,e,r)}return S(n)}(uh),Bp=function(e){w(n,e);var t=T(n);function n(e,r,a,i){return b(this,n),console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),t.call(this,e,r,a,i)}return S(n)}(oo),Pp=function(e){w(n,e);var t=T(n);function n(e,r,a,i){return b(this,n),console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),t.call(this,e,r,a,i)}return S(n)}(wc),Rp=function(e){w(n,e);var t=T(n);function n(e,r,a,i,o,s){return b(this,n),console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),t.call(this,e,r,a,i,o,s)}return S(n)}(ch),Lp=function(e){w(n,e);var t=T(n);function n(e,r){return b(this,n),console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),t.call(this,e,r)}return S(n)}(hh),Dp=function(e){w(n,e);var t=T(n);function n(e,r,a,i,o,s,l){return b(this,n),console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),t.call(this,e,r,a,i,o,s,l)}return S(n)}(dh),Fp=function(e){w(n,e);var t=T(n);function n(e,r){return b(this,n),console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),t.call(this,e,r)}return S(n)}(fh),Up=function(e){w(n,e);var t=T(n);function n(e,r,a,i,o){return b(this,n),console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),t.call(this,e,r,a,i,o)}return S(n)}(ph),qp=function(e){w(n,e);var t=T(n);function n(e,r,a,i,o,s){return b(this,n),console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),t.call(this,e,r,a,i,o,s)}return S(n)}(mh),Op=function(e){w(n,e);var t=T(n);function n(e,r,a,i,o){return b(this,n),console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),t.call(this,e,r,a,i,o)}return S(n)}(vh);"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:D}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=D);var zp=n(585);function Np(e){var t,n=new Set,r=function(e,r){var a="function"===typeof e?e(t):e;if(a!==t){var i=t;t=r?a:Object.assign({},t,a),n.forEach((function(e){return e(t,i)}))}},a=function(){return t},i={setState:r,getState:a,subscribe:function(e,r,i){return r||i?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var o=r(t);function s(){var n=r(t);if(!i(o,n)){var a=o;e(o=n,a)}}return n.add(s),function(){return n.delete(s)}}(e,r,i):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,a,i),i}var Gp="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?r.useEffect:r.useLayoutEffect;var jp=n(258),Hp=n.n(jp),Vp=n(545);function Wp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var a=0;a<r;a++)if(!n(e[a],t[a]))return!1;return!0}var Jp=[];function Xp(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=c(Jp);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(Wp(t,o.keys,o.equal)){if(r)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return o.response;if(!r)throw o.promise}}}catch(l){i.e(l)}finally{i.f()}var s={keys:t,equal:a.equal,promise:e.apply(void 0,m(t)).then((function(e){return s.response=e})).then((function(){a.lifespan&&a.lifespan>0&&setTimeout((function(){var e=Jp.indexOf(s);-1!==e&&Jp.splice(e,1)}),a.lifespan)})).catch((function(e){return s.error=e}))};if(Jp.push(s),!r)throw s.promise}var Kp,Yp,Qp=function(e,t,n){return Xp(e,t,!1,n)},Zp=["children","key","ref"],$p=["children","key","ref"],em=["args","attach"],tm=["args","children"],nm=["args","children"],rm=["params"],am=function(e){return e&&e.isOrthographicCamera},im="undefined"!==typeof window&&(null!=(Kp=window.document)&&Kp.createElement||"ReactNative"===(null==(Yp=window.navigator)?void 0:Yp.product))?r.useLayoutEffect:r.useEffect;function om(e){var t=r.useRef(e);return im((function(){t.current=e}),[e]),t}function sm(e){var t=e.set;return im((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[t]),null}var lm=function(e){w(n,e);var t=T(n);function n(){var e;b(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={error:!1},e}return S(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(r.Component);lm.getDerivedStateFromError=function(){return{error:!0}};var um="__default";function cm(e){var t="undefined"!==typeof window?window.devicePixelRatio:1;return Array.isArray(e)?Math.min(Math.max(e[0],t),e[1]):e}var hm=function(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()},dm={obj:function(e){return e===Object(e)&&!dm.arr(e)&&"function"!==typeof e},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},boo:function(e){return"boolean"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.arrays,a=void 0===r?"shallow":r,i=n.objects,o=void 0===i?"reference":i,s=n.strict,l=void 0===s||s;if(typeof e!==typeof t||!!e!==!!t)return!1;if(dm.str(e)||dm.num(e))return e===t;var u=dm.obj(e);if(u&&"reference"===o)return e===t;var c,h=dm.arr(e);if(h&&"reference"===a)return e===t;if((h||u)&&e===t)return!0;for(c in e)if(!(c in t))return!1;for(c in l?t:e)if(e[c]!==t[c])return!1;if(dm.und(c)){if(h&&0===e.length&&0===t.length)return!0;if(u&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function fm(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function pm(e,t){var n=e;return(null!=t&&t.primitive||!n.__r3f)&&(n.__r3f=x({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t)),e}function mm(e,t){var n=e;if(t.includes("-")){var r=t.split("-"),a=r.pop();return n=r.reduce((function(e,t){return e[t]}),e),{target:n,key:a}}return{target:n,key:t}}var vm=/-\d+$/;function gm(e,t,n){if(dm.str(n)){if(vm.test(n)){var r=mm(e,n.replace(vm,"")),a=r.target,i=r.key;Array.isArray(a[i])||(a[i]=[])}var o=mm(e,n),s=o.target,l=o.key;t.__r3f.previousAttach=s[l],s[l]=t}else t.__r3f.previousAttach=n(e,t)}function ym(e,t,n){var r,a;if(dm.str(n)){var i=mm(e,n),o=i.target,s=i.key,l=t.__r3f.previousAttach;void 0===l?delete o[s]:o[s]=l}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(a=t.__r3f)||delete a.previousAttach}function xm(e,t){t.children,t.key,t.ref;var n,r=v(t,Zp),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(a.children,a.key,a.ref,v(a,$p)),o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null!=(n=null==e?void 0:e.__r3f)?n:{},l=Object.entries(r),c=[];if(o)for(var h=Object.keys(i),d=0;d<h.length;d++)r.hasOwnProperty(h[d])||l.unshift([h[d],um+"remove"]);l.forEach((function(t){var n,a=u(t,2),o=a[0],s=a[1];if((null==(n=e.__r3f)||!n.primitive||"object"!==o)&&!dm.equ(s,i[o])){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(o))return c.push([o,s,!0,[]]);var l=[];for(var h in o.includes("-")&&(l=o.split("-")),c.push([o,s,!1,l]),r){var d=r[h];h.startsWith("".concat(o,"-"))&&c.push([h,d,!1,h.split("-")])}}}));var f=x({},r);return s.memoizedProps&&s.memoizedProps.args&&(f.args=s.memoizedProps.args),s.memoizedProps&&s.memoizedProps.attach&&(f.attach=s.memoizedProps.attach),{memoized:f,changes:c}}function bm(e,t){var n,r,a,o,c,h=null!=(n=e.__r3f)?n:{},d=h.root,v=null!=(r=null==d||null==d.getState?void 0:d.getState())?r:{},g=(o=t)&&o.memoized&&o.changes?t:xm(e,t),y=g.memoized,x=g.changes,b=h.eventCount;e.__r3f&&(e.__r3f.memoizedProps=y);for(var _=0;_<x.length;_++){var S,w=u(x[_],4),M=w[0],A=w[1],C=w[2],k=w[3],T=e,E=T[M];if(k.length&&(E=k.reduce((function(e,t){return e[t]}),e),!E||!E.set)){var I=k.reverse(),B=i(c=I)||p(c)||s(c)||l(),P=B[0];T=B.slice(1).reverse().reduce((function(e,t){return e[t]}),e),M=P}if(A===um+"remove")if(E&&E.constructor)A=f(E.constructor,m(null!=(S=y.args)?S:[]));else if(T.constructor){var R,L=f(T.constructor,m(null!=(R=T.__r3f.memoizedProps.args)?R:[]));A=L[E],L.dispose&&L.dispose()}else A=0;if(C)A?h.handlers[M]=A:delete h.handlers[M],h.eventCount=Object.keys(h.handlers).length;else if(E&&E.set&&(E.copy||E instanceof Aa)){var D;if(Array.isArray(A))E.fromArray?E.fromArray(A):(D=E).set.apply(D,m(A));else if(E.copy&&A&&A.constructor&&E.constructor.name===A.constructor.name)E.copy(A);else if(void 0!==A){var F=E instanceof Mr;!F&&E.setScalar?E.setScalar(A):E instanceof Aa&&A instanceof Aa?E.mask=A.mask:E.set(A);0}}else T[M]=A,!v.linear&&T[M]instanceof Er&&(T[M].encoding=cn);_m(e)}if(h.parent&&v.internal&&e.raycast&&b!==h.eventCount){var U=v.internal.interaction.indexOf(e);U>-1&&v.internal.interaction.splice(U,1),h.eventCount&&v.internal.interaction.push(e)}return x.length&&null!=(a=e.__r3f)&&a.parent&&Sm(e),e}function _m(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function Sm(e){null==e.onUpdate||e.onUpdate(e)}function wm(e,t){e.manual||(am(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function Mm(e,t,n){var r=n.pop(),a=n.reduce((function(e,t){return e[t]}),e);return a[r]=t}function Am(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function Cm(e,t,n,r){var a=n.get(t);a&&(n.delete(t),0===n.size&&(e.delete(r),a.target.releasePointerCapture(r)))}function km(e){function t(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}))}function n(t){var n,r=e.getState().internal,a=c(r.hovered.values());try{var i=function(){var e=n.value;if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))){var a=e.eventObject.__r3f,i=null==a?void 0:a.handlers;if(r.hovered.delete(Am(e)),null!=a&&a.eventCount){var o=x(x({},e),{},{intersections:t});null==i.onPointerOut||i.onPointerOut(o),null==i.onPointerLeave||i.onPointerLeave(o)}}};for(a.s();!(n=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(a){switch(a){case"onPointerLeave":case"onPointerCancel":return function(){return n([])};case"onLostPointerCapture":return function(t){var r=e.getState().internal;"pointerId"in t&&r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}}return function(i){var o=e.getState(),s=o.onPointerMissed,l=o.internal;l.lastEvent.current=i;var u="onPointerMove"===a,h="onClick"===a||"onContextMenu"===a||"onDoubleClick"===a,d=function(t,n){for(var r=e.getState(),a=new Set,i=[],o=n?n(r.internal.interaction):r.internal.interaction,s=0;s<o.length;s++){var l=hm(o[s]);l&&(l.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);var u=o.flatMap((function(e){var n,r=hm(e);return r&&r.events.enabled&&null!==r.raycaster.camera?(void 0===r.raycaster.camera&&(null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)),r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]):[]})).sort((function(e,t){var n=hm(e.object),r=hm(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((function(e){var t=Am(e);return!a.has(t)&&(a.add(t),!0)}));r.events.filter&&(u=r.events.filter(u,r));var h,d=c(u);try{for(d.s();!(h=d.n()).done;)for(var f=h.value,p=f.object;p;){var m;null!=(m=p.__r3f)&&m.eventCount&&i.push(x(x({},f),{},{eventObject:p})),p=p.parent}}catch(b){d.e(b)}finally{d.f()}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId)){var v,g=c(r.internal.capturedMap.get(t.pointerId).values());try{for(g.s();!(v=g.n()).done;){var y=v.value;a.has(Am(y.intersection))||i.push(y.intersection)}}catch(b){g.e(b)}finally{g.f()}}return i}(i,u?t:void 0),f=h?function(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],a=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+a*a))}(i):0;"onPointerDown"===a&&(l.initialClick=[i.offsetX,i.offsetY],l.initialHits=d.map((function(e){return e.eventObject}))),h&&!d.length&&f<=2&&(r(i,l.interaction),s&&s(i)),u&&n(d),function(t,r,a,i){var o=e.getState();t.length&&function(){var e,s={stopped:!1},l=c(t);try{var u=function(){var l=e.value,u=hm(l.object)||o,c=u.raycaster,h=u.pointer,d=u.camera,f=u.internal,p=new qr(h.x,h.y,0).unproject(d),v=function(e){var t,n;return null!=(t=null==(n=f.capturedMap.get(e))?void 0:n.has(l.eventObject))&&t},g=function(e){var t={intersection:l,target:r.target};f.capturedMap.has(e)?f.capturedMap.get(e).set(l.eventObject,t):f.capturedMap.set(e,new Map([[l.eventObject,t]])),r.target.setPointerCapture(e)},y=function(e){var t=f.capturedMap.get(e);t&&Cm(f.capturedMap,l.eventObject,t,e)},b={};for(var _ in r){var S=r[_];"function"!==typeof S&&(b[_]=S)}var w=x(x(x({},l),b),{},{pointer:h,intersections:t,stopped:s.stopped,delta:a,unprojectedPoint:p,ray:c.ray,camera:d,stopPropagation:function(){var e="pointerId"in r&&f.capturedMap.get(r.pointerId);if((!e||e.has(l.eventObject))&&(w.stopped=s.stopped=!0,f.hovered.size&&Array.from(f.hovered.values()).find((function(e){return e.eventObject===l.eventObject})))){var a=t.slice(0,t.indexOf(l));n([].concat(m(a),[l]))}},target:{hasPointerCapture:v,setPointerCapture:g,releasePointerCapture:y},currentTarget:{hasPointerCapture:v,setPointerCapture:g,releasePointerCapture:y},nativeEvent:r});if(i(w),!0===s.stopped)return"break"};for(l.s();!(e=l.n()).done&&"break"!==u(););}catch(h){l.e(h)}finally{l.f()}}()}(d,i,f,(function(e){var t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(u){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){var s=Am(e),c=l.hovered.get(s);c?c.stopped&&e.stopPropagation():(l.hovered.set(s,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{var d=o[a];d?h&&!l.initialHits.includes(t)||(r(i,l.interaction.filter((function(e){return!l.initialHits.includes(e)}))),d(e)):h&&l.initialHits.includes(t)&&r(i,l.interaction.filter((function(e){return!l.initialHits.includes(e)})))}}))}}}}var Tm={},Em=function(e){Tm=x(x({},Tm),e)};var Im,Bm=function(e){return!(null==e||!e.render)},Pm=r.createContext(null);var Rm,Lm,Dm=new Set,Fm=new Set,Um=new Set;function qm(e,t){if(e.size){var n,r=c(e.values());try{for(r.s();!(n=r.n()).done;){(0,n.value.callback)(t)}}catch(a){r.e(a)}finally{r.f()}}}function Om(e,t){switch(e){case"before":return qm(Dm,t);case"after":return qm(Fm,t);case"tail":return qm(Um,t)}}function zm(e,t,n){var r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),Rm=t.internal.subscribers,Im=0;Im<Rm.length;Im++)(Lm=Rm[Im]).ref.current(Lm.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function Nm(){var e=r.useContext(Pm);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function Gm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0;return Nm()(e,t)}function jm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Nm(),r=n.getState().internal.subscribe,a=om(e);return im((function(){return r(a,t,n)}),[t,r,n]),null}function Hm(e,t){return function(n){var r=new n;e&&e(r);for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return Promise.all(i.map((function(e){return new Promise((function(n,a){return r.load(e,(function(e){e.scene&&Object.assign(e,fm(e.scene)),n(e)}),t,(function(t){return a(new Error("Could not load ".concat(e,": ").concat(t.message,")")))}))}))})))}}function Vm(e,t,n,r){var a=Array.isArray(t)?t:[t],i=Qp(Hm(n,r),[e].concat(m(a)),{equal:dm.equ});return Array.isArray(t)?i:i[0]}Vm.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return function(e,t,n){Xp(e,t,!0,n)}(Hm(n),[e].concat(m(r)))},Vm.clear=function(e,t){var n=Array.isArray(t)?t:[t];return function(e){if(void 0===e||0===e.length)Jp.splice(0,Jp.length);else{var t=Jp.find((function(t){return Wp(e,t.keys,t.equal)}));if(t){var n=Jp.indexOf(t);-1!==n&&Jp.splice(n,1)}}}([e].concat(m(n)))};var Wm=new Map,Jm=function(e){var t,n,r,a=!1;function i(o){n=requestAnimationFrame(i),a=!0,t=0,Om("before",o);var s,l=c(e.values());try{for(l.s();!(s=l.n()).done;){var u,h=s.value;!(r=h.store.getState()).internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(u=r.gl.xr)&&u.isPresenting||(t+=zm(o,r))}}catch(d){l.e(d)}finally{l.f()}if(Om("after",o),0===t)return Om("tail",o),a=!1,cancelAnimationFrame(n)}return{loop:i,invalidate:function t(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!n)return e.forEach((function(e){return t(e.store.getState())}),o);null!=(r=n.gl.xr)&&r.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+o),a||(a=!0,requestAnimationFrame(i)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;if(n&&Om("before",t),r)zm(t,r,a);else{var i,o=c(e.values());try{for(o.s();!(i=o.n()).done;){var s=i.value;zm(t,s.store.getState())}}catch(l){o.e(l)}finally{o.f()}}n&&Om("after",t)}}}(Wm),Xm=Jm.invalidate,Km=Jm.advance,Ym=function(e,t){function n(e,t,n){var r,a=t.args,i=void 0===a?[]:a,o=t.attach,s=v(t,em),l="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===s.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=pm(s.object,{type:e,root:n,attach:o,primitive:!0})}else{var u=Tm[l];if(!u)throw new Error("R3F: ".concat(l," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(i))throw new Error("R3F: The args prop must be an array!");r=pm(f(u,m(i)),{type:e,root:n,attach:o,memoizedProps:{args:i}})}return void 0===r.__r3f.attach&&(r instanceof bi?r.__r3f.attach="geometry":r instanceof Za&&(r.__r3f.attach="material")),"inject"!==l&&bm(r,s),r}function r(e,t){var n,r,a=!1;t&&(null!=(n=t.__r3f)&&n.attach?gm(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),a=!0),a||null==(r=e.__r3f)||r.objects.push(t),t.__r3f||pm(t,{}),t.__r3f.parent=e,Sm(t),_m(t))}function a(e,t,n){var r=!1;if(t){var a,i;if(null!=(a=t.__r3f)&&a.attach)gm(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var o=e.children.filter((function(e){return e!==t})),s=o.indexOf(n);e.children=[].concat(m(o.slice(0,s)),[t],m(o.slice(s))),r=!0}r||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||pm(t,{}),t.__r3f.parent=e,Sm(t),_m(t)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&m(e).forEach((function(e){return o(t,e,n)}))}function o(e,t,n){if(t){var r,a,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t}))),null!=(a=t.__r3f)&&a.attach)ym(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){var n=e.getState().internal;n.interaction=n.interaction.filter((function(e){return e!==t})),n.initialHits=n.initialHits.filter((function(e){return e!==t})),n.hovered.forEach((function(e,r){e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach((function(e,r){Cm(n.capturedMap,t,e,r)}))}(t.__r3f.root,t)}var l,u=null==(o=t.__r3f)?void 0:o.primitive,c=void 0===n?null!==t.dispose&&!u:n;if(!u)i(null==(l=t.__r3f)?void 0:l.objects,t,c),i(t.children,t,c);t.__r3f&&(delete t.__r3f.root,delete t.__r3f.objects,delete t.__r3f.handlers,delete t.__r3f.memoizedProps,u||delete t.__r3f),c&&t.dispose&&"Scene"!==t.type&&(0,Vp.unstable_scheduleCallback)(Vp.unstable_IdlePriority,(function(){try{t.dispose()}catch(e){}})),_m(e)}}var s=function(){return console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.")};return{reconciler:Hp()({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:a,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:function(e,t){if(t){var n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))}},removeChildFromContainer:function(e,t){t&&o(e.getState().scene,t)},insertInContainerBefore:function(e,t,n){if(t&&n){var r=e.getState().scene;r.__r3f&&a(r,t,n)}},getRootHostContext:function(){return null},getChildHostContext:function(e){return e},finalizeInitialChildren:function(e){var t,n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate:function(e,t,n,r){if(e.__r3f.primitive&&r.object&&r.object!==e)return[!0];var a=r.args,i=void 0===a?[]:a,o=(r.children,v(r,tm)),s=n.args,l=void 0===s?[]:s,u=(n.children,v(n,nm));if(!Array.isArray(i))throw new Error("R3F: the args prop must be an array!");if(i.some((function(e,t){return e!==l[t]})))return[!0];var c=xm(e,o,u,!0);return c.changes.length?[!1,c]:null},commitUpdate:function(e,t,a,i,s,l){var h=u(t,2),d=h[0],f=h[1];d?function(e,t,a,i){var s,l=null==(s=e.__r3f)?void 0:s.parent;if(l){var u=n(t,a,e.__r3f.root);if(e.children){var h,d=c(e.children);try{for(d.s();!(h=d.n()).done;){var f=h.value;f.__r3f&&r(u,f)}}catch(p){d.e(p)}finally{d.f()}e.children=e.children.filter((function(e){return!e.__r3f}))}e.__r3f.objects.forEach((function(e){return r(u,e)})),e.__r3f.objects=[],o(l,e),r(l,u),u.raycast&&u.__r3f.eventCount&&u.__r3f.root.getState().internal.interaction.push(u),[i,i.alternate].forEach((function(e){null!==e&&(e.stateNode=u,e.ref&&("function"===typeof e.ref?e.ref(u):e.ref.current=u))}))}}(e,a,s,l):bm(e,f)},commitMount:function(e,t,n,r){var a,i=null!=(a=e.__r3f)?a:{};e.raycast&&i.handlers&&i.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:function(e){return e},prepareForCommit:function(){return null},preparePortalMount:function(e){return pm(e.getState().scene)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1},hideInstance:function(e){var t,n=null!=(t=e.__r3f)?t:{},r=n.attach,a=n.parent;r&&a&&ym(a,e,r),e.isObject3D&&(e.visible=!1),_m(e)},unhideInstance:function(e,t){var n,r=null!=(n=e.__r3f)?n:{},a=r.attach,i=r.parent;a&&i&&gm(i,e,a),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),_m(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:function(){return t?t():zp.DefaultEventPriority},beforeActiveInstanceBlur:function(){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},now:"undefined"!==typeof performance&&dm.fun(performance.now)?performance.now:dm.fun(Date.now)?Date.now:function(){return 0},scheduleTimeout:dm.fun(setTimeout)?setTimeout:void 0,cancelTimeout:dm.fun(clearTimeout)?clearTimeout:void 0}),applyProps:bm}}(0,(function(){var e,t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return zp.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return zp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return zp.ContinuousEventPriority;default:return zp.DefaultEventPriority}})),Qm=Ym.reconciler,Zm=Ym.applyProps,$m={objects:"shallow",strict:!1},ev=function(e,t){var n="function"===typeof e?e(t):e;return Bm(n)?n:new Fl(x({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function tv(e,t){if(t)return t;if(e instanceof HTMLCanvasElement&&e.parentElement){var n=e.parentElement.getBoundingClientRect();return{width:n.width,height:n.height,top:n.top,left:n.left}}return{width:0,height:0,top:0,left:0}}function nv(t){var n=Wm.get(t),a=null==n?void 0:n.fiber,i=null==n?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");var o,s="function"===typeof reportError?reportError:console.error,l=i||function(e,t){var n=function(e){var t="function"===typeof e?Np(e):e,n=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,i=u((0,r.useReducer)((function(e){return e+1}),0),2)[1],o=t.getState(),s=(0,r.useRef)(o),l=(0,r.useRef)(n),c=(0,r.useRef)(a),h=(0,r.useRef)(!1),d=(0,r.useRef)();void 0===d.current&&(d.current=n(o));var f=!1;(s.current!==o||l.current!==n||c.current!==a||h.current)&&(e=n(o),f=!a(d.current,e)),Gp((function(){f&&(d.current=e),s.current=o,l.current=n,c.current=a,h.current=!1}));var p=(0,r.useRef)(o);Gp((function(){var e=function(){try{var e=t.getState(),n=l.current(e);c.current(d.current,n)||(s.current=e,d.current=n,i())}catch(r){h.current=!0,i()}},n=t.subscribe(e);return t.getState()!==p.current&&e(),n}),[]);var m=f?e:d.current;return(0,r.useDebugValue)(m),m};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[n,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},n}((function(n,a){var i=new qr,o=new qr,s=new qr;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a().size,r=n.width,l=n.height,u=n.top,c=n.left,h=r/l;t instanceof qr?s.copy(t):s.set.apply(s,m(t));var d=e.getWorldPosition(i).distanceTo(s);if(am(e))return{width:r/e.zoom,height:l/e.zoom,top:u,left:c,factor:1,distance:d,aspect:h};var f=e.fov*Math.PI/180,p=2*Math.tan(f/2)*d,v=p*(r/l);return{width:v,height:p,top:u,left:c,factor:r/v,distance:d,aspect:h}}var u=void 0,c=function(e){return n((function(t){return{performance:x(x({},t.performance),{},{current:e})}}))},h=new sr,d={set:n,get:a,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(a(),t)},advance:function(e,n){return t(e,n,a())},legacy:!1,linear:!1,flat:!1,scene:pm(new Nl),controls:null,clock:new Jd,pointer:h,mouse:h,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:function(){var e=a();u&&clearTimeout(u),e.performance.current!==e.performance.min&&c(e.performance.min),u=setTimeout((function(){return c(a().performance.max)}),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:function(e){return n((function(t){return x(x({},t),{},{events:x(x({},t.events),e)})}))},setSize:function(e,t,r,i,s){var u=a().camera,c={width:e,height:t,top:i||0,left:s||0,updateStyle:r};n((function(e){return{size:c,viewport:x(x({},e.viewport),l(u,o,c))}}))},setDpr:function(e){return n((function(t){var n=cm(e);return{viewport:x(x({},t.viewport),{},{dpr:n,initialDpr:t.viewport.initialDpr||n})}}))},setFrameloop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=a().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((function(){return{frameloop:e}}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:r.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e,t,n){var r=a().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var n=a().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((function(t){return t.ref!==e})))}}}};return d})),a=n.getState(),i=a.size,o=a.viewport.dpr,s=a.camera;return n.subscribe((function(){var e=n.getState(),t=e.camera,r=e.size,a=e.viewport,l=e.gl,u=e.set;r===i&&a.dpr===o||(i=r,o=a.dpr,wm(t,r),l.setPixelRatio(a.dpr),l.setSize(r.width,r.height,r.updateStyle)),t!==s&&(s=t,u((function(e){return{viewport:x(x({},e.viewport),e.viewport.getCurrentViewport(t))}})))})),n.subscribe((function(t){return e(t)})),n}(Xm,Km),c=a||Qm.createContainer(l,zp.ConcurrentRoot,null,!1,null,"",s,null);n||Wm.set(t,{fiber:c,store:l});var h=!1;return{configure:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.gl,a=n.size,i=n.events,s=n.onCreated,u=n.shadows,c=void 0!==u&&u,d=n.linear,f=void 0!==d&&d,p=n.flat,m=void 0!==p&&p,g=n.legacy,y=void 0!==g&&g,b=n.orthographic,_=void 0!==b&&b,S=n.frameloop,w=void 0===S?"always":S,M=n.dpr,A=void 0===M?[1,2]:M,C=n.performance,k=n.raycaster,T=n.camera,E=n.onPointerMissed,I=l.getState(),B=I.gl;I.gl||I.set({gl:B=ev(r,t)});var P=I.raycaster;P||I.set({raycaster:P=new Cf});var R=k||{},L=R.params,D=v(R,rm);if(dm.equ(D,P,$m)||Zm(P,x({},D)),dm.equ(L,P.params,$m)||Zm(P,{params:x(x({},P.params),L)}),!I.camera){var F=T instanceof Vi,U=F?T:_?new go(0,0,0,0,.1,1e3):new Wi(75,0,.1,1e3);F||(U.position.z=5,T&&Zm(U,T),null!=T&&T.rotation||U.lookAt(0,0,0)),I.set({camera:U})}if(!I.xr){var q=function(e,t){var n=l.getState();"never"!==n.frameloop&&Km(e,!0,n,t)},O=function(){var e=l.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?q:null),e.gl.xr.isPresenting||Xm(e)},z={connect:function(){var e=l.getState().gl;e.xr.addEventListener("sessionstart",O),e.xr.addEventListener("sessionend",O)},disconnect:function(){var e=l.getState().gl;e.xr.removeEventListener("sessionstart",O),e.xr.removeEventListener("sessionend",O)}};B.xr&&z.connect(),I.set({xr:z})}if(B.shadowMap){var N=dm.boo(c);if(N&&B.shadowMap.enabled!==c||!dm.equ(c,B.shadowMap,$m)){var G=B.shadowMap.enabled;B.shadowMap.enabled=!!c,N?B.shadowMap.type=H:Object.assign(B.shadowMap,c),G!==B.shadowMap.enabled&&(B.shadowMap.needsUpdate=!0)}}Mm(e,y,["ColorManagement","legacyMode"]);var j=f?un:cn,V=m?Te:Pe;B.outputEncoding!==j&&(B.outputEncoding=j),B.toneMapping!==V&&(B.toneMapping=V),I.legacy!==y&&I.set((function(){return{legacy:y}})),I.linear!==f&&I.set((function(){return{linear:f}})),I.flat!==m&&I.set((function(){return{flat:m}})),!r||dm.fun(r)||Bm(r)||dm.equ(r,B,$m)||Zm(B,r),i&&!I.events.handlers&&I.set({events:i(l)}),A&&I.viewport.dpr!==cm(A)&&I.setDpr(A);var W=tv(t,a);return dm.equ(W,I.size,$m)||I.setSize(W.width,W.height,W.updateStyle,W.top,W.left),I.frameloop!==w&&I.setFrameloop(w),I.onPointerMissed||I.set({onPointerMissed:E}),C&&!dm.equ(C,I.performance,$m)&&I.set((function(e){return{performance:x(x({},e.performance),C)}})),o=s,h=!0,this},render:function(e){return h||this.configure(),Qm.updateContainer(r.createElement(rv,{store:l,children:e,onCreated:o,rootElement:t}),c,null,(function(){})),l},unmount:function(){av(t)}}}function rv(e){var t=e.store,n=e.children,a=e.onCreated,i=e.rootElement;return im((function(){var e=t.getState();e.set((function(e){return{internal:x(x({},e.internal),{},{active:!0})}})),a&&a(e),t.getState().events.connected||null==e.events.connect||e.events.connect(i)}),[]),r.createElement(Pm.Provider,{value:t},n)}function av(e,t){var n=Wm.get(e),r=null==n?void 0:n.fiber;if(r){var a=null==n?void 0:n.store.getState();a&&(a.internal.active=!1),Qm.updateContainer(null,r,null,(function(){a&&setTimeout((function(){try{var n,r,i,o;null==a.events.disconnect||a.events.disconnect(),null==(n=a.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(i=a.gl)||null==i.forceContextLoss||i.forceContextLoss(),null!=(o=a.gl)&&o.xr&&a.xr.disconnect(),function(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(a),Wm.delete(e),t&&t(e)}catch(s){}}),500)}))}}Qm.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:r.version});r.unstable_act;function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iv.apply(this,arguments)}var ov=n(494),sv=n.n(ov);function lv(e){var t=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,n=t.debounce,a=t.scroll,i=t.polyfill,o=t.offsetSize,s=i||("undefined"===typeof window?S((function e(){b(this,e)})):window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var l=u((0,r.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),2),c=l[0],h=l[1],d=(0,r.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c}),f=n?"number"===typeof n?n:n.scroll:null,p=n?"number"===typeof n?n:n.resize:null,m=(0,r.useRef)(!1);(0,r.useEffect)((function(){return m.current=!0,function(){m.current=!1}}));var v=u((0,r.useMemo)((function(){var e=function(){if(d.current.element){var e=d.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};d.current.element instanceof HTMLElement&&o&&(t.height=d.current.element.offsetHeight,t.width=d.current.element.offsetWidth),Object.freeze(t),m.current&&!hv(d.current.lastBounds,t)&&h(d.current.lastBounds=t)}};return[e,p?sv()(e,p):e,f?sv()(e,f):e]}),[h,o,f,p]),3),g=v[0],y=v[1],x=v[2];function _(){d.current.scrollContainers&&(d.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",x,!0)})),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null)}function w(){d.current.element&&(d.current.resizeObserver=new s(x),d.current.resizeObserver.observe(d.current.element),a&&d.current.scrollContainers&&d.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",x,{capture:!0,passive:!0})})))}var M,A,C;return M=x,A=Boolean(a),(0,r.useEffect)((function(){if(A){var e=M;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[M,A]),C=y,(0,r.useEffect)((function(){var e=C;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[C]),(0,r.useEffect)((function(){_(),w()}),[a,x,y]),(0,r.useEffect)((function(){return _}),[]),[function(e){e&&e!==d.current.element&&(_(),d.current.element=e,d.current.scrollContainers=uv(e),w())},c,g]}function uv(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,m(uv(e.parentElement)))}var cv=["x","y","top","bottom","left","right","width","height"],hv=function(e,t){return cv.every((function(n){return e[n]===t[n]}))},dv=Object.defineProperty,fv=Object.defineProperties,pv=Object.getOwnPropertyDescriptors,mv=Object.getOwnPropertySymbols,vv=Object.prototype.hasOwnProperty,gv=Object.prototype.propertyIsEnumerable,yv=function(e,t,n){return t in e?dv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},xv=function(e,t){for(var n in t||(t={}))vv.call(t,n)&&yv(e,n,t[n]);if(mv){var r,a=c(mv(t));try{for(a.s();!(r=a.n()).done;){n=r.value;gv.call(t,n)&&yv(e,n,t[n])}}catch(i){a.e(i)}finally{a.f()}}return e};function bv(e,t,n){if(e){if(!0===n(e))return e;for(var r=t?e.return:e.child;r;){var a=bv(r,t,n);if(a)return a;r=t?null:r.sibling}}}function _v(e){try{return Object.defineProperties(e,{_currentRenderer:{get:function(){return null},set:function(){}},_currentRenderer2:{get:function(){return null},set:function(){}}})}catch(t){return e}}var Sv=_v(r.createContext(null)),wv=function(e){w(n,e);var t=T(n);function n(){return b(this,n),t.apply(this,arguments)}return S(n,[{key:"render",value:function(){return r.createElement(Sv.Provider,{value:this._reactInternals},this.props.children)}}]),n}(r.Component),Mv=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Av=Mv.ReactCurrentOwner,Cv=Mv.ReactCurrentDispatcher;function kv(){var e=r.useContext(Sv);if(!e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");var t=r.useId();return r.useMemo((function(){var n;return null!=(n=Av.current)?n:bv(e,!1,(function(e){for(var n=e.memoizedState;n;){if(n.memoizedState===t)return!0;n=n.next}}))}),[e,t])}var Tv=[],Ev=new WeakMap;function Iv(){var e,t=kv();Tv.splice(0,Tv.length),bv(t,!0,(function(e){var t,n=null==(t=e.type)?void 0:t._context;n&&n!==Sv&&Tv.push(_v(n))}));var n,a=c(Tv);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=null==(e=Cv.current)?void 0:e.readContext(i);Ev.set(i,o)}}catch(s){a.e(s)}finally{a.f()}return r.useMemo((function(){return Tv.reduce((function(e,t){return function(n){return r.createElement(e,null,r.createElement(t.Provider,(a=xv({},n),i={value:Ev.get(t)},fv(a,pv(i)))));var a,i}}),(function(e){return r.createElement(wv,xv({},e))}))}),[])}var Bv=["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"],Pv={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Rv(e){var t=km(e).handlePointer;return{priority:1,enabled:!0,compute:function(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(Pv).reduce((function(e,n){return x(x({},e),{},g({},n,t(n)))}),{}),connect:function(t){var n,r=e.getState(),a=r.set,i=r.events;null==i.disconnect||i.disconnect(),a((function(e){return{events:x(x({},e.events),{},{connected:t})}})),Object.entries(null!=(n=i.handlers)?n:[]).forEach((function(e){var n=u(e,2),r=n[0],a=n[1],i=u(Pv[r],2),o=i[0],s=i[1];t.addEventListener(o,a,{passive:s})}))},disconnect:function(){var t,n=e.getState(),r=n.set,a=n.events;a.connected&&(Object.entries(null!=(t=a.handlers)?t:[]).forEach((function(e){var t=u(e,2),n=t[0],r=t[1];if(a&&a.connected instanceof HTMLElement){var i=u(Pv[n],1)[0];a.connected.removeEventListener(i,r)}})),r((function(e){return{events:x(x({},e.events),{},{connected:void 0})}})))}}}var Lv=r.forwardRef((function(t,n){var a=t.children,i=t.fallback,o=t.resize,s=t.style,l=t.gl,c=t.events,h=void 0===c?Rv:c,d=t.eventSource,f=t.eventPrefix,p=t.shadows,m=t.linear,g=t.flat,y=t.legacy,b=t.orthographic,_=t.frameloop,S=t.dpr,w=t.performance,M=t.raycaster,A=t.camera,C=t.onPointerMissed,k=t.onCreated,T=v(t,Bv);r.useMemo((function(){return Em(e)}),[]);var E=Iv(),I=u(lv(x({scroll:!0,debounce:{scroll:50,resize:0}},o)),2),B=I[0],P=I[1],R=r.useRef(null),L=r.useRef(null),D=u(r.useState(null),2),F=D[0],U=D[1];r.useImperativeHandle(n,(function(){return R.current}));var q=om(C),O=u(r.useState(!1),2),z=O[0],N=O[1],G=u(r.useState(!1),2),j=G[0],H=G[1];if(z)throw z;if(j)throw j;var V=r.useRef(null);P.width>0&&P.height>0&&F&&(V.current||(V.current=nv(F)),V.current.configure({gl:l,events:h,shadows:p,linear:m,flat:g,legacy:y,orthographic:b,frameloop:_,dpr:S,performance:w,raycaster:M,camera:A,size:P,onPointerMissed:function(){return null==q.current?void 0:q.current.apply(q,arguments)},onCreated:function(e){var t;null==e.events.connect||e.events.connect(d?(t=d)&&t.hasOwnProperty("current")?d.current:d:L.current),f&&e.setEvents({compute:function(e,t){var n=e[f+"X"],r=e[f+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==k||k(e)}}),V.current.render(r.createElement(E,null,r.createElement(lm,{set:H},r.createElement(r.Suspense,{fallback:r.createElement(sm,{set:N})},a))))),im((function(){U(R.current)}),[]),r.useEffect((function(){if(F)return function(){return av(F)}}),[F]);var W=d?"none":"auto";return r.createElement("div",iv({ref:L,style:x({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:W},s)},T),r.createElement("div",{ref:B,style:{width:"100%",height:"100%"}},r.createElement("canvas",{ref:R,style:{display:"block"}},i)))})),Dv=r.forwardRef((function(e,t){return r.createElement(wv,null,r.createElement(Lv,iv({},e,{ref:t})))}));function Fv(e){var t=e.pixelated,n=Gm((function(e){return e.gl})),a=Gm((function(e){return e.internal.active})),i=Gm((function(e){return e.performance.current})),o=Gm((function(e){return e.viewport.initialDpr})),s=Gm((function(e){return e.setDpr}));return r.useEffect((function(){var e=n.domElement;return function(){a&&s(o),t&&e&&(e.style.imageRendering="auto")}}),[]),r.useEffect((function(){s(i*o),t&&n.domElement&&(n.domElement.style.imageRendering=1===i?"auto":"pixelated")}),[i]),null}var Uv=function(){function e(){b(this,e),g(this,"enabled",!0),g(this,"needsSwap",!0),g(this,"clear",!1),g(this,"renderToScreen",!1)}return S(e,[{key:"setSize",value:function(e,t){}},{key:"render",value:function(e,t,n,r,a){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}]),e}(),qv=function(){function e(t){b(this,e),g(this,"camera",new go(-1,1,1,-1,0,1)),g(this,"geometry",new oo(2,2)),g(this,"mesh",void 0),this.mesh=new qi(this.geometry,t)}return S(e,[{key:"material",get:function(){return this.mesh.material},set:function(e){this.mesh.material=e}},{key:"dispose",value:function(){this.mesh.geometry.dispose()}},{key:"render",value:function(e){e.render(this.mesh,this.camera)}}]),e}(),Ov={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n")},zv={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Mr(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tvec3 luma = vec3( 0.299, 0.587, 0.114 );","\tfloat v = dot( texel.xyz, luma );","\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","\tgl_FragColor = mix( outputColor, texel, alpha );","}"].join("\n")},Nv=function(e,t,n,r){this.strength=void 0!==t?t:1,this.radius=n,this.threshold=r,this.resolution=void 0!==e?new sr(e.x,e.y):new sr(256,256),this.clearColor=new Mr(0,0,0);var a={minFilter:Xe,magFilter:Xe,format:dt};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;var i=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);this.renderTargetBright=new Br(i,o,a),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(var s=0;s<this.nMips;s++){var l=new Br(i,o,a);l.texture.name="UnrealBloomPass.h"+s,l.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(l);var u=new Br(i,o,a);u.texture.name="UnrealBloomPass.v"+s,u.texture.generateMipmaps=!1,this.renderTargetsVertical.push(u),i=Math.round(i/2),o=Math.round(o/2)}void 0===zv&&console.error("THREE.UnrealBloomPass relies on LuminosityHighPassShader");var c=zv;this.highPassUniforms=ji.clone(c.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Hi({uniforms:this.highPassUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,defines:{}}),this.separableBlurMaterials=[];for(var h=[3,5,7,9,11],d=(i=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2),0);d<this.nMips;d++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(h[d])),this.separableBlurMaterials[d].uniforms.texSize.value=new sr(i,o),i=Math.round(i/2),o=Math.round(o/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new qr(1,1,1),new qr(1,1,1),new qr(1,1,1),new qr(1,1,1),new qr(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===Ov&&console.error("THREE.UnrealBloomPass relies on CopyShader");var f=Ov;this.copyUniforms=ji.clone(f.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Hi({uniforms:this.copyUniforms,vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,blending:Q,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Mr,this.oldClearAlpha=1,this.basic=new $a,this.fsQuad=new qv(null)};Nv.prototype=Object.assign(Object.create(Uv.prototype),{constructor:Nv,dispose:function(){for(var e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(var t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose()},setSize:function(e,t){var n=Math.round(e/2),r=Math.round(t/2);this.renderTargetBright.setSize(n,r);for(var a=0;a<this.nMips;a++)this.renderTargetsHorizontal[a].setSize(n,r),this.renderTargetsVertical[a].setSize(n,r),this.separableBlurMaterials[a].uniforms.texSize.value=new sr(n,r),n=Math.round(n/2),r=Math.round(r/2)},render:function(e,t,n,r,a){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();var i=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),a&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);for(var o=this.renderTargetBright,s=0;s<this.nMips;s++)this.fsQuad.material=this.separableBlurMaterials[s],this.separableBlurMaterials[s].uniforms.colorTexture.value=o.texture,this.separableBlurMaterials[s].uniforms.direction.value=Nv.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[s]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[s].uniforms.colorTexture.value=this.renderTargetsHorizontal[s].texture,this.separableBlurMaterials[s].uniforms.direction.value=Nv.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[s]),e.clear(),this.fsQuad.render(e),o=this.renderTargetsVertical[s];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,a&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=i},getSeperableBlurMaterial:function(e){return new Hi({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new sr(.5,.5)},direction:{value:new sr(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat fSigma = float(SIGMA);\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\t\t\t\t\t\tfloat x = float(i);\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\t\t\t\t\t\tweightSum += 2.0 * w;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})},getCompositeMaterial:function(e){return new Hi({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D blurTexture1;\t\t\t\tuniform sampler2D blurTexture2;\t\t\t\tuniform sampler2D blurTexture3;\t\t\t\tuniform sampler2D blurTexture4;\t\t\t\tuniform sampler2D blurTexture5;\t\t\t\tuniform sampler2D dirtTexture;\t\t\t\tuniform float bloomStrength;\t\t\t\tuniform float bloomRadius;\t\t\t\tuniform float bloomFactors[NUM_MIPS];\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\t\t\t\t\t\t\t\tfloat lerpBloomFactor(const in float factor) { \t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\t\t\t\t}\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\t\t\t\t}"})}}),Nv.BlurDirectionX=new sr(1,0),Nv.BlurDirectionY=new sr(0,1);var Gv,jv=new WeakMap,Hv=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).decoderPath="",r.decoderConfig={},r.decoderBinary=null,r.decoderPending=null,r.workerLimit=4,r.workerPool=[],r.workerNextTaskID=1,r.workerSourceURL="",r.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},r.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"},r}return S(n,[{key:"setDecoderPath",value:function(e){return this.decoderPath=e,this}},{key:"setDecoderConfig",value:function(e){return this.decoderConfig=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"load",value:function(e,t,n,r){var a=this,i=new ad(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(e){var n={attributeIDs:a.defaultAttributeIDs,attributeTypes:a.defaultAttributeTypes,useUniqueIDs:!1};a.decodeGeometry(e,n).then(t).catch(r)}),n,r)}},{key:"decodeDracoFile",value:function(e,t,n,r){var a={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,a).then(t)}},{key:"decodeGeometry",value:function(e,t){var n=this;for(var r in t.attributeTypes){var a=t.attributeTypes[r];void 0!==a.BYTES_PER_ELEMENT&&(t.attributeTypes[r]=a.name)}var i,o=JSON.stringify(t);if(jv.has(e)){var s=jv.get(e);if(s.key===o)return s.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var l=this.workerNextTaskID++,u=e.byteLength,c=this._getWorker(l,u).then((function(n){return i=n,new Promise((function(n,r){i._callbacks[l]={resolve:n,reject:r},i.postMessage({type:"decode",id:l,taskConfig:t,buffer:e},[e])}))})).then((function(e){return n._createGeometry(e.geometry)}));return c.catch((function(){return!0})).then((function(){i&&l&&n._releaseTask(i,l)})),jv.set(e,{key:o,promise:c}),c}},{key:"_createGeometry",value:function(e){var t=new bi;e.index&&t.setIndex(new ni(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],a=r.name,i=r.array,o=r.itemSize;t.setAttribute(a,new ni(i,o))}return t}},{key:"_loadLibrary",value:function(e,t){var n=new ad(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((function(t,r){n.load(e,t,void 0,r)}))}},{key:"preload",value:function(){return this._initDecoder(),this}},{key:"_initDecoder",value:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var a=Vv.toString(),i=["/* draco decoder */",r,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending}},{key:"_getWorker",value:function(e,t){var n=this;return this._initDecoder().then((function(){if(n.workerPool.length<n.workerLimit){var r=new Worker(n.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)}else n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));var a=n.workerPool[n.workerPool.length-1];return a._taskCosts[e]=t,a._taskLoad+=t,a}))}},{key:"_releaseTask",value:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}},{key:"debug",value:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}]),n}(td);function Vv(){var e,t;function n(e,t,n,r,a,i){var o=i.num_components(),s=n.num_points()*o,l=s*a.BYTES_PER_ELEMENT,u=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,a),c=e._malloc(l);t.GetAttributeDataArrayForAllPoints(n,i,u,l,c);var h=new a(e.HEAPF32.buffer,c,s).slice();return e._free(c),{name:r,array:h,itemSize:o}}onmessage=function(r){var a=r.data;switch(a.type){case"init":e=a.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var i=a.buffer,o=a.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(i),i.byteLength);try{var l=function(e,t,r,a){var i,o,s=a.attributeIDs,l=a.attributeTypes,u=t.GetEncodedGeometryType(r);if(u===e.TRIANGULAR_MESH)i=new e.Mesh,o=t.DecodeBufferToMesh(r,i);else{if(u!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");i=new e.PointCloud,o=t.DecodeBufferToPointCloud(r,i)}if(!o.ok()||0===i.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var c={index:null,attributes:[]};for(var h in s){var d=self[l[h]],f=void 0,p=void 0;if(a.useUniqueIDs)p=s[h],f=t.GetAttributeByUniqueId(i,p);else{if(-1===(p=t.GetAttributeId(i,e[s[h]])))continue;f=t.GetAttribute(i,p)}c.attributes.push(n(e,t,i,h,d,f))}u===e.TRIANGULAR_MESH&&(c.index=function(e,t,n){var r=3*n.num_faces(),a=4*r,i=e._malloc(a);t.GetTrianglesUInt32Array(n,a,i);var o=new Uint32Array(e.HEAPF32.buffer,i,r).slice();return e._free(i),{array:o,itemSize:1}}(e,t,i));return e.destroy(i),c}(t,r,s,o),u=l.attributes.map((function(e){return e.array.buffer}));l.index&&u.push(l.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:l},u)}catch(c){console.error(c),self.postMessage({type:"error",id:a.id,error:c.message})}finally{t.destroy(s),t.destroy(r)}}))}}}var Wv=function(){if(Gv)return Gv;var e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),t=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!==typeof WebAssembly)return{supported:!1};var n,r="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB";WebAssembly.validate(e)&&(r="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB");var a=WebAssembly.instantiate(function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;++r){var a=e.charCodeAt(r);n[r]=a>96?a-71:a>64?a-65:a>47?a+4:a>46?63:62}for(var i=0,o=0;o<e.length;++o)n[i++]=n[o]<60?t[n[o]]:64*(n[o]-60)+n[++o];return n.buffer.slice(0,i)}(r),{}).then((function(e){(n=e.instance).exports.__wasm_call_ctors()}));function i(e,t,r,a,i,o){var s=n.exports.sbrk,l=r+3&-4,u=s(l*a),c=s(i.length),h=new Uint8Array(n.exports.memory.buffer);h.set(i,c);var d=e(u,r,a,c,i.length);if(0===d&&o&&o(u,l,a),t.set(h.subarray(u,u+r*a)),s(u-s(0)),0!==d)throw new Error("Malformed buffer data: ".concat(d))}var o={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},s={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Gv={ready:a,supported:!0,decodeVertexBuffer:function(e,t,r,a,s){i(n.exports.meshopt_decodeVertexBuffer,e,t,r,a,n.exports[o[s]])},decodeIndexBuffer:function(e,t,r,a){i(n.exports.meshopt_decodeIndexBuffer,e,t,r,a)},decodeIndexSequence:function(e,t,r,a){i(n.exports.meshopt_decodeIndexSequence,e,t,r,a)},decodeGltfBuffer:function(e,t,r,a,l,u){i(n.exports[s[l]],e,t,r,a,n.exports[o[u]])}}},Jv=function(e){w(n,e);var t=T(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new $v(e)})),r.register((function(e){return new og(e)})),r.register((function(e){return new sg(e)})),r.register((function(e){return new tg(e)})),r.register((function(e){return new ng(e)})),r.register((function(e){return new rg(e)})),r.register((function(e){return new ag(e)})),r.register((function(e){return new Zv(e)})),r.register((function(e){return new ig(e)})),r.register((function(e){return new eg(e)})),r.register((function(e){return new Yv(e)})),r.register((function(e){return new lg(e)})),r}return S(n,[{key:"load",value:function(e,t,n,r){var a,i=this;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Bd.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){r?r(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},s=new ad(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{i.parse(n,a,(function(n){t(n),i.manager.itemEnd(e)}),o)}catch(r){o(r)}}),n,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var a,i={},o={};if("string"===typeof e)a=e;else if(Bd.decodeText(new Uint8Array(e,0,4))===ug){try{i[Kv.KHR_BINARY_GLTF]=new dg(e)}catch(p){return void(r&&r(p))}a=i[Kv.KHR_BINARY_GLTF].content}else a=Bd.decodeText(new Uint8Array(e));var s=JSON.parse(a);if(void 0===s.asset||s.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var l=new Hg(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(var u=0;u<this.pluginCallbacks.length;u++){var c=this.pluginCallbacks[u](l);o[c.name]=c,i[c.name]=!0}if(s.extensionsUsed)for(var h=0;h<s.extensionsUsed.length;++h){var d=s.extensionsUsed[h],f=s.extensionsRequired||[];switch(d){case Kv.KHR_MATERIALS_UNLIT:i[d]=new Qv;break;case Kv.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:i[d]=new vg;break;case Kv.KHR_DRACO_MESH_COMPRESSION:i[d]=new fg(s,this.dracoLoader);break;case Kv.KHR_TEXTURE_TRANSFORM:i[d]=new pg;break;case Kv.KHR_MESH_QUANTIZATION:i[d]=new gg;break;default:f.indexOf(d)>=0&&void 0===o[d]&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(i),l.setPlugins(o),l.parse(n,r)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,a){n.parse(e,t,r,a)}))}}]),n}(td);function Xv(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var Kv={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},Yv=function(){function e(t){b(this,e),this.parser=t,this.name=Kv.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return S(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var a=t[n];a.extensions&&a.extensions[this.name]&&void 0!==a.extensions[this.name].light&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var a,i=t.json,o=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e],s=new Mr(16777215);void 0!==o.color&&s.fromArray(o.color);var l=void 0!==o.range?o.range:0;switch(o.type){case"directional":(a=new Ad(s)).target.position.set(0,0,-1),a.add(a.target);break;case"point":(a=new wd(s)).distance=l;break;case"spot":(a=new yd(s)).distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,a.angle=o.spot.outerConeAngle,a.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return a.position.set(0,0,0),a.decay=2,void 0!==o.intensity&&(a.intensity=o.intensity),a.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(a),t.cache.add(n,r),r}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===a?null:this._loadLight(a).then((function(e){return n._getNodeRef(t.cache,a,e)}))}}]),e}(),Qv=function(){function e(){b(this,e),this.name=Kv.KHR_MATERIALS_UNLIT}return S(e,[{key:"getMaterialType",value:function(){return $a}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new Mr(1,1,1),e.opacity=1;var a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var i=a.baseColorFactor;e.color.fromArray(i),e.opacity=i[3]}void 0!==a.baseColorTexture&&r.push(n.assignTexture(e,"map",a.baseColorTexture,cn))}return Promise.all(r)}}]),e}(),Zv=function(){function e(t){b(this,e),this.parser=t,this.name=Kv.KHR_MATERIALS_EMISSIVE_STRENGTH}return S(e,[{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}]),e}(),$v=function(){function e(t){b(this,e),this.parser=t,this.name=Kv.KHR_MATERIALS_CLEARCOAT}return S(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?wh:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];if(void 0!==i.clearcoatFactor&&(t.clearcoat=i.clearcoatFactor),void 0!==i.clearcoatTexture&&a.push(n.assignTexture(t,"clearcoatMap",i.clearcoatTexture)),void 0!==i.clearcoatRoughnessFactor&&(t.clearcoatRoughness=i.clearcoatRoughnessFactor),void 0!==i.clearcoatRoughnessTexture&&a.push(n.assignTexture(t,"clearcoatRoughnessMap",i.clearcoatRoughnessTexture)),void 0!==i.clearcoatNormalTexture&&(a.push(n.assignTexture(t,"clearcoatNormalMap",i.clearcoatNormalTexture)),void 0!==i.clearcoatNormalTexture.scale)){var o=i.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new sr(o,o)}return Promise.all(a)}}]),e}(),eg=function(){function e(t){b(this,e),this.parser=t,this.name=Kv.KHR_MATERIALS_IRIDESCENCE}return S(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?wh:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];return void 0!==i.iridescenceFactor&&(t.iridescence=i.iridescenceFactor),void 0!==i.iridescenceTexture&&a.push(n.assignTexture(t,"iridescenceMap",i.iridescenceTexture)),void 0!==i.iridescenceIor&&(t.iridescenceIOR=i.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==i.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=i.iridescenceThicknessMinimum),void 0!==i.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=i.iridescenceThicknessMaximum),void 0!==i.iridescenceThicknessTexture&&a.push(n.assignTexture(t,"iridescenceThicknessMap",i.iridescenceThicknessTexture)),Promise.all(a)}}]),e}(),tg=function(){function e(t){b(this,e),this.parser=t,this.name=Kv.KHR_MATERIALS_SHEEN}return S(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?wh:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[];t.sheenColor=new Mr(0,0,0),t.sheenRoughness=0,t.sheen=1;var i=r.extensions[this.name];return void 0!==i.sheenColorFactor&&t.sheenColor.fromArray(i.sheenColorFactor),void 0!==i.sheenRoughnessFactor&&(t.sheenRoughness=i.sheenRoughnessFactor),void 0!==i.sheenColorTexture&&a.push(n.assignTexture(t,"sheenColorMap",i.sheenColorTexture,cn)),void 0!==i.sheenRoughnessTexture&&a.push(n.assignTexture(t,"sheenRoughnessMap",i.sheenRoughnessTexture)),Promise.all(a)}}]),e}(),ng=function(){function e(t){b(this,e),this.parser=t,this.name=Kv.KHR_MATERIALS_TRANSMISSION}return S(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?wh:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];return void 0!==i.transmissionFactor&&(t.transmission=i.transmissionFactor),void 0!==i.transmissionTexture&&a.push(n.assignTexture(t,"transmissionMap",i.transmissionTexture)),Promise.all(a)}}]),e}(),rg=function(){function e(t){b(this,e),this.parser=t,this.name=Kv.KHR_MATERIALS_VOLUME}return S(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?wh:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];t.thickness=void 0!==i.thicknessFactor?i.thicknessFactor:0,void 0!==i.thicknessTexture&&a.push(n.assignTexture(t,"thicknessMap",i.thicknessTexture)),t.attenuationDistance=i.attenuationDistance||1/0;var o=i.attenuationColor||[1,1,1];return t.attenuationColor=new Mr(o[0],o[1],o[2]),Promise.all(a)}}]),e}(),ag=function(){function e(t){b(this,e),this.parser=t,this.name=Kv.KHR_MATERIALS_IOR}return S(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?wh:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),ig=function(){function e(t){b(this,e),this.parser=t,this.name=Kv.KHR_MATERIALS_SPECULAR}return S(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?wh:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];t.specularIntensity=void 0!==i.specularFactor?i.specularFactor:1,void 0!==i.specularTexture&&a.push(n.assignTexture(t,"specularIntensityMap",i.specularTexture));var o=i.specularColorFactor||[1,1,1];return t.specularColor=new Mr(o[0],o[1],o[2]),void 0!==i.specularColorTexture&&a.push(n.assignTexture(t,"specularColorMap",i.specularColorTexture,cn)),Promise.all(a)}}]),e}(),og=function(){function e(t){b(this,e),this.parser=t,this.name=Kv.KHR_TEXTURE_BASISU}return S(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var a=r.extensions[this.name],i=t.options.ktx2Loader;if(!i){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,i)}}]),e}(),sg=function(){function e(t){b(this,e),this.parser=t,this.name=Kv.EXT_TEXTURE_WEBP,this.isSupported=null}return S(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;var i=a.extensions[t],o=r.images[i.source],s=n.textureLoader;if(o.uri){var l=n.options.manager.getHandler(o.uri);null!==l&&(s=l)}return this.detectSupport().then((function(a){if(a)return n.loadTextureImage(e,i.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),lg=function(){function e(t){b(this,e),this.name=Kv.EXT_MESHOPT_COMPRESSION,this.parser=t}return S(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,a=r.count,o=r.byteStride,s=new Uint8Array(e,t,n);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(a,o,s,r.mode,r.filter).then((function(e){return e.buffer})):i.ready.then((function(){var e=new ArrayBuffer(a*o);return i.decodeGltfBuffer(new Uint8Array(e),a,o,s,r.mode,r.filter),e}))}))}return null}}]),e}(),ug="glTF",cg=1313821514,hg=5130562,dg=S((function e(t){b(this,e),this.name=Kv.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:Bd.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==ug)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=this.header.length-12,a=new DataView(t,12),i=0;i<r;){var o=a.getUint32(i,!0);i+=4;var s=a.getUint32(i,!0);if(i+=4,s===cg){var l=new Uint8Array(t,12+i,o);this.content=Bd.decodeText(l)}else if(s===hg){var u=12+i;this.body=t.slice(u,u+o)}i+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),fg=function(){function e(t,n){if(b(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Kv.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return S(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,o={},s={},l={};for(var u in i){var c=Pg[u]||u.toLowerCase();o[c]=i[u]}for(var h in e.attributes){var d=Pg[h]||h.toLowerCase();if(void 0!==i[h]){var f=n.accessors[e.attributes[h]],p=Tg[f.componentType];l[d]=p.name,s[d]=!0===f.normalized}}return t.getDependency("bufferView",a).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],a=s[n];void 0!==a&&(r.normalized=a)}t(e)}),o,l)}))}))}}]),e}(),pg=function(){function e(){b(this,e),this.name=Kv.KHR_TEXTURE_TRANSFORM}return S(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),mg=function(e){w(n,e);var t=T(n);function n(e){var r;b(this,n),(r=t.call(this)).isGLTFSpecularGlossinessMaterial=!0;var a=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),i=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),o=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),l=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),u={specular:{value:(new Mr).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return r._extraUniforms=u,r.onBeforeCompile=function(e){for(var t in u)e.uniforms[t]=u[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",a).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",o).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",l)},Object.defineProperties(C(r),{specular:{get:function(){return u.specular.value},set:function(e){u.specular.value=e}},specularMap:{get:function(){return u.specularMap.value},set:function(e){u.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return u.glossiness.value},set:function(e){u.glossiness.value=e}},glossinessMap:{get:function(){return u.glossinessMap.value},set:function(e){u.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete r.metalness,delete r.roughness,delete r.metalnessMap,delete r.roughnessMap,r.setValues(e),r}return S(n,[{key:"copy",value:function(e){return R(M(n.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),n}(Sh),vg=function(){function e(){b(this,e),this.name=Kv.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}return S(e,[{key:"getMaterialType",value:function(){return mg}},{key:"extendParams",value:function(e,t,n){var r=t.extensions[this.name];e.color=new Mr(1,1,1),e.opacity=1;var a=[];if(Array.isArray(r.diffuseFactor)){var i=r.diffuseFactor;e.color.fromArray(i),e.opacity=i[3]}if(void 0!==r.diffuseTexture&&a.push(n.assignTexture(e,"map",r.diffuseTexture,cn)),e.emissive=new Mr(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new Mr(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var o=r.specularGlossinessTexture;a.push(n.assignTexture(e,"glossinessMap",o)),a.push(n.assignTexture(e,"specularMap",o,cn))}return Promise.all(a)}},{key:"createMaterial",value:function(e){var t=new mg(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=void 0===e.emissiveIntensity?1:e.emissiveIntensity,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=fn,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}]),e}(),gg=S((function e(){b(this,e),this.name=Kv.KHR_MESH_QUANTIZATION})),yg=function(e){w(n,e);var t=T(n);function n(e,r,a,i){return b(this,n),t.call(this,e,r,a,i)}return S(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r*3+r,i=0;i!==r;i++)t[i]=n[a+i];return t}},{key:"interpolate_",value:function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,u=r-t,c=(n-t)/u,h=c*c,d=h*c,f=e*l,p=f-l,m=-2*d+3*h,v=d-h,g=1-m,y=v-h+c,x=0;x!==o;x++){var b=i[p+x+o],_=i[p+x+s]*u,S=i[f+x+o],w=i[f+x]*u;a[x]=g*b+y*_+m*S+v*w}return a}}]),n}(Uh),xg=new Ur,bg=function(e){w(n,e);var t=T(n);function n(){return b(this,n),t.apply(this,arguments)}return S(n,[{key:"interpolate_",value:function(e,t,r,a){var i=R(M(n.prototype),"interpolate_",this).call(this,e,t,r,a);return xg.fromArray(i).normalize().toArray(i),i}}]),n}(yg),_g=0,Sg=1,wg=2,Mg=3,Ag=4,Cg=5,kg=6,Tg={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Eg={9728:je,9729:Xe,9984:He,9985:Ke,9986:We,9987:Qe},Ig={33071:Ne,33648:Ge,10497:ze},Bg={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Pg={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Rg={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Lg={CUBICSPLINE:void 0,LINEAR:Zt,STEP:Qt},Dg="OPAQUE",Fg="MASK",Ug="BLEND";function qg(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function Og(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function zg(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var a=t.extras.targetNames;if(e.morphTargetInfluences.length===a.length){e.morphTargetDictionary={};for(var i=0,o=a.length;i<o;i++)e.morphTargetDictionary[a[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ng(e){var t=e.extensions&&e.extensions[Kv.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+Gg(t.attributes):e.indices+":"+Gg(e.attributes)+":"+e.mode}function Gg(e){for(var t="",n=Object.keys(e).sort(),r=0,a=n.length;r<a;r++)t+=n[r]+":"+e[n[r]]+";";return t}function jg(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var Hg=function(){function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(this,e),this.json=r,this.extensions={},this.plugins={},this.options=a,this.cache=new Xv,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};var i="undefined"!==typeof navigator&&!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),o="undefined"!==typeof navigator&&(null===(t=navigator.userAgent)||void 0===t?void 0:t.indexOf("Firefox"))>-1,s="undefined"!==typeof navigator&&o?null===(n=navigator.userAgent)||void 0===n?void 0:n.match(/Firefox\/([0-9]+)\./)[1]:-1;"undefined"===typeof createImageBitmap||i||o&&s<98?this.textureLoader=new cd(this.options.manager):this.textureLoader=new qd(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ad(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return S(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,a=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var i={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};qg(a,i,r),Og(i,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(i)}))).then((function(){e(i)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,a=t.length;r<a;r++)for(var i=t[r].joints,o=0,s=i.length;o<s;o++)e[i[o]].isBone=!0;for(var l=0,u=e.length;l<u;l++){var c=e[l];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var a=n.clone();return function e(t,n){var a=r.associations.get(t);null!=a&&r.associations.set(n,a);var i,o=c(t.children.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),l=s[0];e(s[1],n.children[l])}}catch(h){o.e(h)}finally{o.f()}}(n,a),a.name+="_instance_"+e.uses[t]++,a}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var a=e(t[r]);a&&n.push(a)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[Kv.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,a){n.load(Bd.resolveURL(t.uri,r.path),e,void 0,(function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var a=[];return void 0!==r.bufferView?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),void 0!==r.sparse&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then((function(e){var a,i,o=e[0],s=Bg[r.type],l=Tg[r.componentType],u=l.BYTES_PER_ELEMENT,c=u*s,h=r.byteOffset||0,d=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,f=!0===r.normalized;if(d&&d!==c){var p=Math.floor(h/d),m="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+p+":"+r.count,v=t.cache.get(m);v||(a=new l(o,p*d,r.count*d/u),v=new Gl(a,d/u),t.cache.add(m,v)),i=new Hl(v,s,h%d/u,f)}else a=null===o?new l(r.count*s):new l(o,h,r.count*s),i=new ni(a,s,f);if(void 0!==r.sparse){var g=Bg.SCALAR,y=Tg[r.sparse.indices.componentType],x=r.sparse.indices.byteOffset||0,b=r.sparse.values.byteOffset||0,_=new y(e[1],x,r.sparse.count*g),S=new l(e[2],b,r.sparse.count*s);null!==o&&(i=new ni(i.array.slice(),i.itemSize,i.normalized));for(var w=0,M=_.length;w<M;w++){var A=_[w];if(i.setX(A,S[w*s]),s>=2&&i.setY(A,S[w*s+1]),s>=3&&i.setZ(A,S[w*s+2]),s>=4&&i.setW(A,S[w*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return i}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e].source,a=t.images[r],i=this.textureLoader;if(a.uri){var o=n.manager.getHandler(a.uri);null!==o&&(i=o)}return this.loadTextureImage(e,r,i)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,a=this.json,i=a.textures[e],o=a.images[t],s=(o.uri||o.bufferView)+":"+i.sampler;if(this.textureCache[s])return this.textureCache[s];var l=this.loadImageSource(t,n).then((function(t){t.flipY=!1,i.name&&(t.name=i.name);var n=(a.samplers||{})[i.sampler]||{};return t.magFilter=Eg[n.magFilter]||Xe,t.minFilter=Eg[n.minFilter]||Qe,t.wrapS=Ig[n.wrapS]||ze,t.wrapT=Ig[n.wrapT]||ze,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=l,l}},{key:"loadImageSource",value:function(e,t){var n=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var a=n.images[e],i=self.URL||self.webkitURL,o=a.uri||"",s=!1;if(void 0!==a.bufferView)o=this.getDependency("bufferView",a.bufferView).then((function(e){s=!0;var t=new Blob([e],{type:a.mimeType});return o=i.createObjectURL(t)}));else if(void 0===a.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var l=Promise.resolve(o).then((function(e){return new Promise((function(n,a){var i=n;!0===t.isImageBitmapLoader&&(i=function(e){var t=new Er(e);t.needsUpdate=!0,n(t)}),t.load(Bd.resolveURL(e,r.path),i,void 0,a)}))})).then((function(e){var t;return!0===s&&i.revokeObjectURL(o),e.userData.mimeType=a.mimeType||((t=a.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=l,l}},{key:"assignTexture",value:function(e,t,n,r){var a=this;return this.getDependency("texture",n.index).then((function(i){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),a.extensions[Kv.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[Kv.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=a.associations.get(i);i=a.extensions[Kv.KHR_TEXTURE_TRANSFORM].extendTexture(i,o),a.associations.set(i,s)}}return void 0!==r&&(i.encoding=r),e[t]=i,i}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,a=void 0!==t.attributes.color,i=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+n.uuid,s=this.cache.get(o);s||(s=new qu,Za.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,s.sizeAttenuation=!1,this.cache.add(o,s)),n=s}else if(e.isLine){var l="LineBasicMaterial:"+n.uuid,u=this.cache.get(l);u||(u=new ku,Za.prototype.copy.call(u,n),u.color.copy(n.color),this.cache.add(l,u)),n=u}if(r||a||i){var c="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(c+="specular-glossiness:"),r&&(c+="derivative-tangents:"),a&&(c+="vertex-colors:"),i&&(c+="flat-shading:");var h=this.cache.get(c);h||(h=n.clone(),a&&(h.vertexColors=!0),i&&(h.flatShading=!0),r&&(h.normalScale&&(h.normalScale.y*=-1),h.clearcoatNormalScale&&(h.clearcoatNormalScale.y*=-1)),this.cache.add(c,h),this.associations.set(h,this.associations.get(n))),n=h}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}},{key:"getMaterialType",value:function(){return Sh}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,a=this.extensions,i=r.materials[e],o={},s=i.extensions||{},l=[];if(s[Kv.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=a[Kv.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=u.getMaterialType(),l.push(u.extendParams(o,i,n))}else if(s[Kv.KHR_MATERIALS_UNLIT]){var c=a[Kv.KHR_MATERIALS_UNLIT];t=c.getMaterialType(),l.push(c.extendParams(o,i,n))}else{var h=i.pbrMetallicRoughness||{};if(o.color=new Mr(1,1,1),o.opacity=1,Array.isArray(h.baseColorFactor)){var d=h.baseColorFactor;o.color.fromArray(d),o.opacity=d[3]}void 0!==h.baseColorTexture&&l.push(n.assignTexture(o,"map",h.baseColorTexture,cn)),o.metalness=void 0!==h.metallicFactor?h.metallicFactor:1,o.roughness=void 0!==h.roughnessFactor?h.roughnessFactor:1,void 0!==h.metallicRoughnessTexture&&(l.push(n.assignTexture(o,"metalnessMap",h.metallicRoughnessTexture)),l.push(n.assignTexture(o,"roughnessMap",h.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),l.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===i.doubleSided&&(o.side=X);var f=i.alphaMode||Dg;if(f===Ug?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,f===Fg&&(o.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&t!==$a&&(l.push(n.assignTexture(o,"normalMap",i.normalTexture)),o.normalScale=new sr(1,1),void 0!==i.normalTexture.scale)){var p=i.normalTexture.scale;o.normalScale.set(p,p)}return void 0!==i.occlusionTexture&&t!==$a&&(l.push(n.assignTexture(o,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(o.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&t!==$a&&(o.emissive=(new Mr).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&t!==$a&&l.push(n.assignTexture(o,"emissiveMap",i.emissiveTexture,cn)),Promise.all(l).then((function(){var r;return r=t===mg?a[Kv.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new t(o),i.name&&(r.name=i.name),Og(r,i),n.associations.set(r,{materials:e}),i.extensions&&qg(a,r,i),r}))}},{key:"createUniqueName",value:function(e){for(var t=vf.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function a(e){return n[Kv.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return Wg(n,e,t)}))}for(var i=[],o=0,s=e.length;o<s;o++){var l=e[o],u=Ng(l),c=r[u];if(c)i.push(c.promise);else{var h=void 0;h=l.extensions&&l.extensions[Kv.KHR_DRACO_MESH_COMPRESSION]?a(l):Wg(new bi,l,t),r[u]={primitive:l,promise:h},i.push(h)}}return Promise.all(i)}},{key:"loadMesh",value:function(e){for(var t,n=this,r=this.json,a=this.extensions,i=r.meshes[e],o=i.primitives,s=[],l=0,u=o.length;l<u;l++){var c=void 0===o[l].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new Sh({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:W})),t.DefaultMaterial):this.getDependency("material",o[l].material);s.push(c)}return s.push(n.loadGeometries(o)),Promise.all(s).then((function(t){for(var r=t.slice(0,t.length-1),s=t[t.length-1],l=[],u=0,c=s.length;u<c;u++){var h=s[u],d=o[u],f=void 0,p=r[u];if(d.mode===Ag||d.mode===Cg||d.mode===kg||void 0===d.mode)!0!==(f=!0===i.isSkinnedMesh?new pu(h,p):new qi(h,p)).isSkinnedMesh||f.geometry.attributes.skinWeight.normalized||f.normalizeSkinWeights(),d.mode===Cg?f.geometry=Jg(f.geometry,sn):d.mode===kg&&(f.geometry=Jg(f.geometry,ln));else if(d.mode===Sg)f=new Fu(h,p);else if(d.mode===Mg)f=new Ru(h,p);else if(d.mode===wg)f=new Uu(h,p);else{if(d.mode!==_g)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+d.mode);f=new ju(h,p)}Object.keys(f.geometry.morphAttributes).length>0&&zg(f,i),f.name=n.createUniqueName(i.name||"mesh_"+e),Og(f,i),d.extensions&&qg(a,f,d),n.assignFinalMaterial(f),l.push(f)}for(var m=0,v=l.length;m<v;m++)n.associations.set(l[m],{meshes:e,primitives:m});if(1===l.length)return l[0];var g=new Tl;n.associations.set(g,{meshes:e});for(var y=0,x=l.length;y<x;y++)g.add(l[y]);return g}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new Wi(or.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new go(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Og(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],r=[],a=[],i=[],o=[],s=0,l=t.channels.length;s<l;s++){var u=t.channels[s],c=t.samplers[u.sampler],h=u.target,d=h.node,f=void 0!==t.parameters?t.parameters[c.input]:c.input,p=void 0!==t.parameters?t.parameters[c.output]:c.output;n.push(this.getDependency("node",d)),r.push(this.getDependency("accessor",f)),a.push(this.getDependency("accessor",p)),i.push(c),o.push(h)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(a),Promise.all(i),Promise.all(o)]).then((function(n){for(var r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],l=[],u=function(e,t){var n=r[e],u=a[e],c=i[e],h=o[e],d=s[e];if(void 0===n)return"continue";n.updateMatrix();var f=void 0;switch(Rg[d.path]){case Rg.weights:f=Hh;break;case Rg.rotation:f=Wh;break;default:f=Xh}var p=n.name?n.name:n.uuid,m=void 0!==h.interpolation?Lg[h.interpolation]:Zt,v=[];Rg[d.path]===Rg.weights?n.traverse((function(e){e.morphTargetInfluences&&v.push(e.name?e.name:e.uuid)})):v.push(p);var g=c.array;if(c.normalized){for(var y=jg(g.constructor),x=new Float32Array(g.length),b=0,_=g.length;b<_;b++)x[b]=g[b]*y;g=x}for(var S=0,w=v.length;S<w;S++){var M=new f(v[S]+"."+Rg[d.path],u.array,g,m);"CUBICSPLINE"===h.interpolation&&(M.createInterpolant=function(e){return new(this instanceof Wh?bg:yg)(this.times,this.values,this.getValueSize()/3,e)},M.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(M)}},c=0,h=r.length;c<h;c++)u(c);var d=t.name?t.name:"animation_"+e;return new Kh(d,void 0,l)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t=this.json,n=this.extensions,r=this,a=t.nodes[e],i=a.name?r.createUniqueName(a.name):"";return function(){var t=[],n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return n&&t.push(n),void 0!==a.camera&&t.push(r.getDependency("camera",a.camera).then((function(e){return r._getNodeRef(r.cameraCache,a.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){var o;if((o=!0===a.isBone?new mu:t.length>1?new Tl:1===t.length?t[0]:new Oa)!==t[0])for(var s=0,l=t.length;s<l;s++)o.add(t[s]);if(a.name&&(o.userData.name=a.name,o.name=i),Og(o,a),a.extensions&&qg(n,o,a),void 0!==a.matrix){var u=new pa;u.fromArray(a.matrix),o.applyMatrix4(u)}else void 0!==a.translation&&o.position.fromArray(a.translation),void 0!==a.rotation&&o.quaternion.fromArray(a.rotation),void 0!==a.scale&&o.scale.fromArray(a.scale);return r.associations.has(o)||r.associations.set(o,{}),r.associations.get(o).nodes=e,o}))}},{key:"loadScene",value:function(e){var t=this.json,n=this.extensions,r=this.json.scenes[e],a=this,i=new Tl;r.name&&(i.name=a.createUniqueName(r.name)),Og(i,r),r.extensions&&qg(n,i,r);for(var o=r.nodes||[],s=[],l=0,h=o.length;l<h;l++)s.push(Vg(o[l],i,t,a));return Promise.all(s).then((function(){return a.associations=function(e){var t,n=new Map,r=c(a.associations);try{for(r.s();!(t=r.n()).done;){var i=u(t.value,2),o=i[0],s=i[1];(o instanceof Za||o instanceof Er)&&n.set(o,s)}}catch(l){r.e(l)}finally{r.f()}return e.traverse((function(e){var t=a.associations.get(e);null!=t&&n.set(e,t)})),n}(i),i}))}}]),e}();function Vg(e,t,n,r){var a=n.nodes[e];return r.getDependency("node",e).then((function(e){return void 0===a.skin?e:r.getDependency("skin",a.skin).then((function(e){for(var n=[],a=0,i=(t=e).joints.length;a<i;a++)n.push(r.getDependency("node",t.joints[a]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],a=[],i=0,o=n.length;i<o;i++){var s=n[i];if(s){r.push(s);var l=new pa;void 0!==t.inverseBindMatrices&&l.fromArray(t.inverseBindMatrices.array,16*i),a.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[i])}e.bind(new xu(r,a),e.matrixWorld)}})),e}));var t})).then((function(e){t.add(e);var i=[];if(a.children)for(var o=a.children,s=0,l=o.length;s<l;s++){var u=o[s];i.push(Vg(u,e,n,r))}return Promise.all(i)}))}function Wg(e,t,n){var r=t.attributes,a=[];function i(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=Pg[o]||o.toLowerCase();s in e.attributes||a.push(i(r[o],s))}if(void 0!==t.indices&&!e.index){var l=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));a.push(l)}return Og(e,t),function(e,t,n){var r=t.attributes,a=new Nr;if(void 0!==r.POSITION){var i=n.json.accessors[r.POSITION],o=i.min,s=i.max;if(void 0!==o&&void 0!==s){if(a.set(new qr(o[0],o[1],o[2]),new qr(s[0],s[1],s[2])),i.normalized){var l=jg(Tg[i.componentType]);a.min.multiplyScalar(l),a.max.multiplyScalar(l)}var u=t.targets;if(void 0!==u){for(var c=new qr,h=new qr,d=0,f=u.length;d<f;d++){var p=u[d];if(void 0!==p.POSITION){var m=n.json.accessors[p.POSITION],v=m.min,g=m.max;if(void 0!==v&&void 0!==g){if(h.setX(Math.max(Math.abs(v[0]),Math.abs(g[0]))),h.setY(Math.max(Math.abs(v[1]),Math.abs(g[1]))),h.setZ(Math.max(Math.abs(v[2]),Math.abs(g[2]))),m.normalized){var y=jg(Tg[m.componentType]);h.multiplyScalar(y)}c.max(h)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(c)}e.boundingBox=a;var x=new ia;a.getCenter(x.center),x.radius=a.min.distanceTo(a.max)/2,e.boundingSphere=x}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(a).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,a=!1,i=!1,o=0,s=t.length;o<s;o++){var l=t[o];if(void 0!==l.POSITION&&(r=!0),void 0!==l.NORMAL&&(a=!0),void 0!==l.COLOR_0&&(i=!0),r&&a&&i)break}if(!r&&!a&&!i)return Promise.resolve(e);for(var u=[],c=[],h=[],d=0,f=t.length;d<f;d++){var p=t[d];if(r){var m=void 0!==p.POSITION?n.getDependency("accessor",p.POSITION):e.attributes.position;u.push(m)}if(a){var v=void 0!==p.NORMAL?n.getDependency("accessor",p.NORMAL):e.attributes.normal;c.push(v)}if(i){var g=void 0!==p.COLOR_0?n.getDependency("accessor",p.COLOR_0):e.attributes.color;h.push(g)}}return Promise.all([Promise.all(u),Promise.all(c),Promise.all(h)]).then((function(t){var n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),a&&(e.morphAttributes.normal=o),i&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function Jg(e,t){var n=e.getIndex();if(null===n){var r=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<a.count;i++)r.push(i);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(t===ln)for(var l=1;l<=o;l++)s.push(n.getX(0)),s.push(n.getX(l)),s.push(n.getX(l+1));else for(var u=0;u<o;u++)u%2===0?(s.push(n.getX(u)),s.push(n.getX(u+1)),s.push(n.getX(u+2))):(s.push(n.getX(u+2)),s.push(n.getX(u+1)),s.push(n.getX(u)));s.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(s),c}var Xg=null;function Kg(e,t,n){return function(r){n&&n(r),e&&(Xg||(Xg=new Hv),Xg.setDecoderPath("string"===typeof e?e:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),r.setDRACOLoader(Xg)),t&&r.setMeshoptDecoder(Wv())}}function Yg(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,a=Vm(Jv,e,Kg(t,n,r));return a}Yg.preload=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return Vm.preload(Jv,e,Kg(t,n,r))},Yg.clear=function(e){return Vm.clear(Jv,e)};var Qg=function(e){w(n,e);var t=T(n);function n(){return b(this,n),t.call(this,{uniforms:{depth:{value:null},opacity:{value:1},attenuation:{value:2.5},anglePower:{value:12},spotPosition:{value:new qr(0,0,0)},lightColor:{value:new Mr("white")},cameraNear:{value:0},cameraFar:{value:1},resolution:{value:new sr(0,0)}},transparent:!0,depthWrite:!1,vertexShader:"\n      varying vec3 vNormal;\n      varying vec3 vWorldPosition;\n      varying float vViewZ;\n      varying float vIntensity;\n      uniform vec3 spotPosition;\n      uniform float attenuation;      \n\n      void main() {\n        // compute intensity\n        vNormal = normalize( normalMatrix * normal );\n        vec4 worldPosition\t= modelMatrix * vec4( position, 1.0 );\n        vWorldPosition = worldPosition.xyz;\n        vec4 viewPosition = viewMatrix * worldPosition;\n        vViewZ = viewPosition.z;\n        float intensity\t= distance(worldPosition.xyz, spotPosition) / attenuation;\n        intensity\t= 1.0 - clamp(intensity, 0.0, 1.0);\n        vIntensity = intensity;        \n        // set gl_Position\n        gl_Position\t= projectionMatrix * viewPosition;\n\n      }",fragmentShader:"\n      #include <packing>\n\n      varying vec3 vNormal;\n      varying vec3 vWorldPosition;\n      uniform vec3 lightColor;\n      uniform vec3 spotPosition;\n      uniform float attenuation;\n      uniform float anglePower;\n      uniform sampler2D depth;\n      uniform vec2 resolution;\n      uniform float cameraNear;\n      uniform float cameraFar;\n      varying float vViewZ;\n      varying float vIntensity;\n      uniform float opacity;\n\n      float readDepth( sampler2D depthSampler, vec2 coord ) {\n        float fragCoordZ = texture2D( depthSampler, coord ).x;\n        float viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\n        return viewZ;\n      }\n\n      void main() {\n        float d = 1.0;\n        bool isSoft = resolution[0] > 0.0 && resolution[1] > 0.0;\n        if (isSoft) {\n          vec2 sUv = gl_FragCoord.xy / resolution;\n          d = readDepth(depth, sUv);\n        }\n        float intensity = vIntensity;\n        vec3 normal\t= vec3(vNormal.x, vNormal.y, abs(vNormal.z));\n        float angleIntensity\t= pow( dot(normal, vec3(0.0, 0.0, 1.0)), anglePower );\n        intensity\t*= angleIntensity;\n        // fades when z is close to sampled depth, meaning the cone is intersecting existing geometry\n        if (isSoft) {\n          intensity\t*= smoothstep(0., 1., vViewZ - d);\n        }\n        gl_FragColor = vec4(lightColor, intensity * opacity);\n\n        #include <tonemapping_fragment>\n\t      #include <encodings_fragment>\n      }"})}return S(n)}(Hi),Zg=["opacity","radiusTop","radiusBottom","depthBuffer","color","distance","angle","attenuation","anglePower"],$g=new qr,ey=r.forwardRef((function(e,t){var n=e.opacity,a=void 0===n?1:n,i=e.radiusTop,o=e.radiusBottom,s=e.depthBuffer,l=e.color,c=void 0===l?"white":l,h=e.distance,d=void 0===h?5:h,f=e.angle,p=void 0===f?.15:f,m=e.attenuation,g=void 0===m?5:m,y=e.anglePower,x=void 0===y?5:y,b=v(e,Zg),_=r.useRef(null),S=Gm((function(e){return e.size})),w=Gm((function(e){return e.camera})),M=Gm((function(e){return e.viewport.dpr})),A=u(r.useState((function(){return new Qg})),1)[0];i=void 0===i?.1:i,o=void 0===o?7*p:o,jm((function(){A.uniforms.spotPosition.value.copy(_.current.getWorldPosition($g)),_.current.lookAt(_.current.parent.target.getWorldPosition($g))}));var C=r.useMemo((function(){var e=new _c(i,o,d,128,64,!0);return e.applyMatrix4((new pa).makeTranslation(0,-d/2,0)),e.applyMatrix4((new pa).makeRotationX(-Math.PI/2)),e}),[p,d,i,o]);return r.createElement("spotLight",iv({ref:t,angle:p,color:c,distance:d},b),r.createElement("mesh",{ref:_,geometry:C,raycast:function(){return null}},r.createElement("primitive",{object:A,attach:"material","uniforms-opacity-value":a,"uniforms-lightColor-value":c,"uniforms-attenuation-value":g,"uniforms-anglePower-value":x,"uniforms-depth-value":s,"uniforms-cameraNear-value":w.near,"uniforms-cameraFar-value":w.far,"uniforms-resolution-value":s?[S.width*M,S.height*M]:[0,0]})))})),ty=n(184);function ny(e){var t=(0,r.useRef)(),n=Yg("./b12.gltf"),a=n.nodes,i=n.materials,o=function(e,t){var n=r.useRef(),a=u(r.useState((function(){return t?t instanceof Oa?{current:t}:t:n})),1)[0],i=u(r.useState((function(){return new bf(void 0)})),1)[0],o=r.useRef({}),s=u(r.useState((function(){var t={};return e.forEach((function(e){return Object.defineProperty(t,e.name,{enumerable:!0,get:function(){if(a.current)return o.current[e.name]||(o.current[e.name]=i.clipAction(e,a.current))}})})),{ref:a,clips:e,actions:t,names:e.map((function(e){return e.name})),mixer:i}})),1)[0];return jm((function(e,t){return i.update(t)})),r.useEffect((function(){var e=a.current;return function(){o.current={},Object.values(s.actions).forEach((function(t){e&&i.uncacheAction(t,e)}))}}),[e]),s}(n.animations,t),s=o.actions,l=o.mixer;(0,r.useEffect)((function(){for(var e in s)s[e].setLoop(Xt)}),[l]);var c=Gm().scene,h=c.getObjectByName("targetObject");c.getObjectByName("B12");return jm((function(e){h.visible=!1,h.position.z=-2.44-4*-e.mouse.x,h.position.y=3.56- -e.mouse.y})),(0,ty.jsx)("group",x(x({ref:t},e),{},{dispose:null,position:[-1,1.08,-3.05],children:(0,ty.jsx)("group",{name:"Scene",children:(0,ty.jsx)("group",{name:"B12",rotation:[-Math.PI/2,0,-Math.PI],scale:4,children:(0,ty.jsx)("group",{name:"root",children:(0,ty.jsx)("group",{name:"GLTF_SceneRootNode",rotation:[Math.PI/2,-Math.PI/2,0],children:(0,ty.jsx)("group",{name:"Drone_StaticMesh_0",children:(0,ty.jsxs)("group",{name:"Object_4",children:[(0,ty.jsx)("mesh",{name:"Object_0",castShadow:!0,lookAt:h,receiveShadow:!0,geometry:a.Object_0.geometry,material:i.M_Drone}),(0,ty.jsx)("mesh",{name:"Object_0_1",castShadow:!0,lookAt:h,receiveShadow:!0,geometry:a.Object_0_1.geometry,material:i.M_eye_drone_Inst}),(0,ty.jsx)(ey,{name:"Spot",castShadow:!0,target:h,distance:40,angle:.3,anglePower:15,attenuation:e.Light,intensity:e.Light,penumbra:.7,decay:1.4,position:[0,.01,.04],rotation:[Math.PI,0,0],scale:.09,children:(0,ty.jsx)("group",{position:[0,0,-1]})})]})})})})})})}))}Yg.preload("./b12.gltf");var ry=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}},ay=["samples"];var iy=["envMap","resolution","frames","makeDefault","children"],oy=r.forwardRef((function(e,t){var n=e.envMap,a=e.resolution,i=void 0===a?256:a,o=e.frames,s=void 0===o?1/0:o,l=e.makeDefault,u=e.children,c=v(e,iy),h=Gm((function(e){return e.set})),d=Gm((function(e){return e.camera})),f=Gm((function(e){return e.size})),p=r.useRef(null),m=r.useRef(null),g=function(e,t,n){var a=Gm(),i=a.gl,o=a.size,s=a.viewport,l="number"===typeof e?e:o.width*s.dpr,u="number"===typeof t?t:o.height*s.dpr,c=("number"===typeof e?n:e)||{},h=c.samples,d=v(c,ay),f=r.useMemo((function(){var e;return(e=new Br(l,u,x({minFilter:Xe,magFilter:Xe,encoding:i.outputEncoding,type:ot},d))).samples=h,e}),[]);return r.useLayoutEffect((function(){f.setSize(l,u),h&&(f.samples=h)}),[h,f,l,u]),r.useEffect((function(){return function(){return f.dispose()}}),[]),f}(i);r.useLayoutEffect((function(){c.manual||(p.current.aspect=f.width/f.height)}),[f,c]),r.useLayoutEffect((function(){p.current.updateProjectionMatrix()}));var y=0,b=null,_="function"===typeof u;return jm((function(e){_&&(s===1/0||y<s)&&(m.current.visible=!1,e.gl.setRenderTarget(g),b=e.scene.background,n&&(e.scene.background=n),e.gl.render(e.scene,p.current),e.scene.background=b,e.gl.setRenderTarget(null),m.current.visible=!0,y++)})),r.useLayoutEffect((function(){if(l){var e=d;return h((function(){return{camera:p.current}})),function(){return h((function(){return{camera:e}}))}}}),[p,l,h]),r.createElement(r.Fragment,null,r.createElement("perspectiveCamera",iv({ref:ry([p,t])},c),!_&&u),r.createElement("group",{ref:m},_&&u(g.texture)))}));function sy(e){var t=Yg("./robotInRuinScene.gltf"),n=t.nodes,r=t.materials;return(0,ty.jsxs)("group",x(x({},e),{},{dispose:null,children:[(0,ty.jsxs)("group",{position:[0,.5,-2.62],scale:1.15,children:[(0,ty.jsxs)("group",{position:[0,2.06,.11],rotation:[Math.PI,0,-Math.PI],children:[(0,ty.jsx)("group",{position:[0,.14,0],rotation:[.01,0,0],children:(0,ty.jsx)("group",{position:[0,.17,0],children:(0,ty.jsxs)("group",{position:[0,.19,0],children:[(0,ty.jsx)("group",{position:[0,.21,0],rotation:[-.01,0,0],children:(0,ty.jsx)("group",{position:[0,.17,.06]})}),(0,ty.jsx)("group",{position:[.13,.18,0],rotation:[1.57,-.27,-1.57],children:(0,ty.jsx)("group",{position:[0,.26,0],rotation:[.83,.01,-.01],children:(0,ty.jsx)("group",{position:[0,.43,0],rotation:[-.09,0,.02],children:(0,ty.jsx)("group",{position:[0,.52,0],rotation:[.13,.01,.04],children:(0,ty.jsx)("group",{position:[0,.23,0],rotation:[.15,-.02,-.14],children:(0,ty.jsx)("group",{position:[0,.04,0],children:(0,ty.jsx)("group",{position:[0,.06,0]})})})})})})}),(0,ty.jsx)("group",{position:[-.13,.18,0],rotation:[1.57,.27,1.57],children:(0,ty.jsx)("group",{position:[0,.26,0],rotation:[.83,-.01,.01],children:(0,ty.jsx)("group",{position:[0,.43,0],rotation:[-.09,0,-.02],children:(0,ty.jsx)("group",{position:[0,.52,0],rotation:[.13,-.01,-.04],children:(0,ty.jsx)("group",{position:[0,.23,0],rotation:[.16,.02,.13],children:(0,ty.jsx)("group",{position:[0,.04,0],children:(0,ty.jsx)("group",{position:[0,.06,-.01]})})})})})})})]})})}),(0,ty.jsx)("group",{position:[.27,-.08,.01],rotation:[.01,0,-3.13],children:(0,ty.jsx)("group",{position:[0,.81,0],rotation:[.03,0,-.01],children:(0,ty.jsx)("group",{position:[0,.74,0],rotation:[1.04,-.02,.04],children:(0,ty.jsx)("group",{position:[0,.33,0],rotation:[.5,-.14,.07]})})})}),(0,ty.jsx)("group",{position:[-.27,-.08,.01],rotation:[.01,0,3.13],children:(0,ty.jsx)("group",{position:[0,.81,0],rotation:[.03,0,.01],children:(0,ty.jsx)("group",{position:[0,.74,0],rotation:[1.05,.02,-.04],children:(0,ty.jsx)("group",{position:[0,.34,0],rotation:[.49,.14,-.07]})})})})]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.robot002.geometry,material:r.robot})]}),(0,ty.jsx)(oy,{castShadow:!0,makeDefault:!0,far:1e3,near:.9,fov:44.1,position:[-2.93,4.9,-3.84],rotation:[.22,-1.51,.22]}),(0,ty.jsx)("directionalLight",{castShadow:!0,"shadow-mapSize-height":1,"shadow-bias":-1e-6,"shadow-mapSize-width":1,intensity:1,decay:2,color:"#70ffff",position:[.16,9.89,-.25],rotation:[-1.52,-.12,.66],scale:1.64}),(0,ty.jsx)("directionalLight",{castShadow:!0,"shadow-mapSize":[1024,1024],"shadow-bias":-1e-7,intensity:2,decay:2,color:"#70ffff",position:[.53,10.03,.37],rotation:[-.09,0,0],scale:1.64}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube002.geometry,material:r["Material.002"],position:[3.15,.13,.4],rotation:[-.18,-.11,-.48],scale:[.81,.44,.25]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube001.geometry,material:r["Material.002"],position:[4.65,.34,.25],rotation:[-.18,-.11,-.48],scale:.06}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cylinder000.geometry,material:r["Material.002"],position:[3.29,.39,.37],rotation:[-.18,-.11,-.48],scale:[.32,.41,.32]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube000.geometry,material:r["Material.002"],position:[3.2,.21,.38],rotation:[-.18,-.11,-.48],scale:.44}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube022.geometry,material:r["Material.002"],position:[-5.95,.7,1.31],scale:.44}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube019.geometry,material:r["Material.002"],position:[7.07,1.02,.47],rotation:[-.39,.15,-.03],scale:.05}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube018.geometry,material:r["Material.002"],position:[-.06,.21,.16],scale:[.06,.13,.13]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube017.geometry,material:r["Material.002"],position:[1.28,.41,.14],rotation:[1.47,-.3,1.57],scale:[.03,.01,.01]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube016.geometry,material:r["Material.002"],position:[-5.95,.6,1.33],scale:[.81,.44,.25]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Sphere001.geometry,material:r["Material.002"],position:[-3.22,-.29,4.6],scale:[.45,.24,.24]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube014.geometry,material:r["Material.002"],position:[-3.22,-.6,4.6],scale:[.51,.26,.3]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube013.geometry,material:r["Material.002"],position:[.18,3.47,.08],scale:[.51,.26,.3]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube012.geometry,material:r["Material.002"],position:[1.54,.81,-3.5],scale:.44}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube011.geometry,material:r["Material.002"],position:[1.62,.36,.26],rotation:[1.35,-.65,.94],scale:[.06,.13,.13]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube243.geometry,material:r["Material.006"],position:[12.45,1.13,-11.24],rotation:[-.19,-.09,-.02],scale:[.06,.05,.06]}),(0,ty.jsxs)("group",{position:[-11.05,1.13,-12.05],rotation:[2.29,-.23,2.66],scale:[0,.14,0],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_9.geometry,material:r["Material.004"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_10.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_11.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[-8.63,1.58,-11.37],rotation:[-2.06,-.15,-2.85],scale:[0,.12,0],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_12.geometry,material:r["Material.010"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_13.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_14.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[-6.63,1.34,-11.24],rotation:[-2.42,-.17,-2.54],scale:[0,.14,0],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_15.geometry,material:r["Material.011"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_16.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_17.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[-7,.46,-13.08],rotation:[-2.28,-.47,-1.83],scale:[0,.16,0],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_18.geometry,material:r["Material.012"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_19.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_20.geometry,material:r["Material.009"]})]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube238.geometry,material:r["Material.006"],position:[-3.29,.53,-11.77],rotation:[-1.92,-1,-1.66],scale:[.24,.17,.24]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube237.geometry,material:r["Material.007"],position:[-11.79,.53,8.28],rotation:[-.69,-.15,.11],scale:[.08,.06,.08]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube236.geometry,material:r["Material.006"],position:[-11.51,.73,3.43],rotation:[2.37,-.96,2.14],scale:[.06,.04,.06]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube235.geometry,material:r["Material.007"],position:[-10.83,1.01,2.82],rotation:[-.74,-.52,-.53],scale:[.05,.04,.05]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube234.geometry,material:r["Material.006"],position:[-12.64,.54,-9.31],rotation:[1.82,-.66,1.97],scale:[.11,.08,.11]}),(0,ty.jsxs)("group",{position:[-8.25,.4,2.23],rotation:[-1.1,-1.43,-1],scale:[.01,.3,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_21.geometry,material:r["Material.004"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_22.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_23.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[-9.04,1.54,-10.51],rotation:[.11,-1.23,-.1],scale:[.01,.26,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_24.geometry,material:r["Material.010"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_25.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_26.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[-8.96,1.37,-9.98],rotation:[.94,-.16,.24],scale:[0,.11,0],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_27.geometry,material:r["Material.011"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_28.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_29.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[-7.64,.62,11.58],rotation:[2.37,-.77,2.51],scale:[.01,.25,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_30.geometry,material:r["Material.012"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_31.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_32.geometry,material:r["Material.009"]})]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube229.geometry,material:r["Material.006"],position:[-6.29,.73,9.25],rotation:[-1.28,-.07,-.74],scale:[.09,.07,.09]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube228.geometry,material:r["Material.007"],position:[-7.5,1.1,6.75],rotation:[2.89,-.33,-3.12],scale:[.09,.07,.09]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube227.geometry,material:r["Material.006"],position:[-6.12,.46,1.74],rotation:[-2.08,-.93,-2.1],scale:[.06,.04,.06]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube226.geometry,material:r["Material.007"],position:[-8.12,.43,2.45],rotation:[-.76,-.45,-.22],scale:[.05,.04,.05]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube225.geometry,material:r["Material.006"],position:[-7.98,.64,.47],rotation:[2.05,-.22,2.58],scale:[.08,.06,.08]}),(0,ty.jsxs)("group",{position:[-6.98,.38,-6.87],rotation:[-2.81,-.85,-2.82],scale:[.01,.28,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_33.geometry,material:r["Material.004"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_34.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_35.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[-3.93,.2,-.62],rotation:[-1.25,-.96,-1.18],scale:[.01,.28,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_36.geometry,material:r["Material.010"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_37.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_38.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[-4.92,.25,.56],rotation:[.59,-1.23,.59],scale:[.01,.26,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_39.geometry,material:r["Material.011"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_40.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_41.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[-3.57,.2,-4.5],rotation:[.57,-.86,.45],scale:[.01,.2,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_42.geometry,material:r["Material.012"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_43.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_44.geometry,material:r["Material.009"]})]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube220.geometry,material:r["Material.006"],position:[-4.79,.23,-6.19],rotation:[1.27,.05,-.12],scale:[.08,.06,.08]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube219.geometry,material:r["Material.007"],position:[-4.28,.68,-9.52],rotation:[2.88,-.96,2.77],scale:[.14,.1,.14]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube218.geometry,material:r["Material.006"],position:[-3.14,.2,-1.71],rotation:[-.95,-1.01,-.87],scale:[.06,.04,.06]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube217.geometry,material:r["Material.007"],position:[-1.36,.26,-6.19],rotation:[.85,-1.24,.74],scale:[.1,.07,.1]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube216.geometry,material:r["Material.006"],position:[.87,.2,12.57],rotation:[.53,-.07,.04],scale:[.05,.04,.05]}),(0,ty.jsxs)("group",{position:[-.78,.2,8.8],rotation:[2.41,-.62,2.66],scale:[.01,.24,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_45.geometry,material:r["Material.004"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_46.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_47.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[.14,.2,-3.83],rotation:[-1.6,-.54,-1.62],scale:[.01,.21,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_48.geometry,material:r["Material.010"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_49.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_50.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[2.37,.2,6.99],rotation:[3.02,-1.45,3.03],scale:[.01,.3,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_51.geometry,material:r["Material.011"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_52.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_53.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[1.79,.2,6.44],rotation:[-.18,-1.23,-.17],scale:[.01,.26,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_54.geometry,material:r["Material.012"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_55.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_56.geometry,material:r["Material.009"]})]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube211.geometry,material:r["Material.006"],position:[3.14,.2,5.6],rotation:[.66,-.81,.52],scale:[.2,.14,.2]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube210.geometry,material:r["Material.007"],position:[1.73,.2,4.63],rotation:[1.3,-.91,1.23],scale:[.15,.11,.15]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube209.geometry,material:r["Material.006"],position:[2.22,.2,2.58],rotation:[.62,-.97,.53],scale:[.05,.04,.05]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube208.geometry,material:r["Material.007"],position:[3.57,.2,-3.19],rotation:[1.05,.25,-.4],scale:[.03,.02,.03]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube207.geometry,material:r["Material.006"],position:[2.58,.2,-2.01],rotation:[2.82,-.74,2.92],scale:[.11,.08,.11]}),(0,ty.jsxs)("group",{position:[2.22,.2,-2.36],rotation:[-1.39,-.47,-1.18],scale:[.01,.2,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_57.geometry,material:r["Material.004"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_58.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_59.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[5.67,.61,2.8],rotation:[2.41,-.49,2.52],scale:[0,.17,0],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_60.geometry,material:r["Material.010"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_61.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_62.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[5.36,.31,-1.16],rotation:[-1.64,-1.08,-1.55],scale:[.01,.32,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_63.geometry,material:r["Material.011"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_64.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_65.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[5.64,.31,-1.5],rotation:[-.1,-1.36,.03],scale:[.01,.32,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_66.geometry,material:r["Material.012"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_67.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_68.geometry,material:r["Material.009"]})]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube202.geometry,material:r["Material.006"],position:[8.08,.8,9.89],rotation:[.39,-.09,-.02],scale:[.08,.06,.08]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube201.geometry,material:r["Material.007"],position:[7.26,1.05,4.82],rotation:[2.39,-.41,2.77],scale:[.1,.07,.1]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube200.geometry,material:r["Material.006"],position:[7.12,.57,-.44],rotation:[-1.89,-1.22,-1.73],scale:[.06,.05,.06]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube199.geometry,material:r["Material.007"],position:[9.58,1.02,-.2],rotation:[-.26,-.31,.12],scale:[.06,.04,.06]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube198.geometry,material:r["Material.006"],position:[9.02,.32,-8.23],rotation:[1.98,-.34,2.21],scale:[.09,.07,.09]}),(0,ty.jsxs)("group",{position:[13.16,.24,11.8],rotation:[-2.31,-.5,-2.63],scale:[0,.2,0],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_69.geometry,material:r["Material.004"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_70.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_71.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[12.58,1.2,-3.62],rotation:[-2.05,-1.34,-2.1],scale:[.01,.36,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_72.geometry,material:r["Material.010"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_73.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_74.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[10.95,1.11,-3.95],rotation:[-.15,.16,.27],scale:[0,.1,0],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_75.geometry,material:r["Material.011"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_76.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_77.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[11.02,1.13,-7.07],rotation:[2.42,-.2,2.56],scale:[0,.19,0],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_78.geometry,material:r["Material.012"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_79.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_80.geometry,material:r["Material.009"]})]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube193.geometry,material:r["Material.007"],position:[1.82,7.99,11.93],rotation:[Math.PI/2,0,-Math.PI/2],scale:[.07,.05,.07]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube192.geometry,material:r["Material.006"],position:[-2,8.14,12.64],rotation:[Math.PI,0,-Math.PI/2],scale:[.03,.02,.03]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube191.geometry,material:r["Material.007"],position:[1.11,8.45,11.3],rotation:[Math.PI/2,0,-Math.PI/2],scale:[.04,.03,.04]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube190.geometry,material:r["Material.006"],position:[.95,7.99,12.48],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.06,.04,.06]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube189.geometry,material:r["Material.006"],position:[-.18,7.99,12.15],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.1,.07,.1]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube188.geometry,material:r["Material.007"],position:[-1.25,8.45,11.83],rotation:[Math.PI/2,0,-Math.PI/2],scale:[.07,.05,.07]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube187.geometry,material:r["Material.006"],position:[-2.9,8.45,11.93],rotation:[Math.PI/2,0,-Math.PI/2],scale:[.03,.02,.03]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube186.geometry,material:r["Material.007"],position:[9.26,.26,-.49],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.04,.03,.04]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube185.geometry,material:r["Material.006"],position:[8.29,.26,-10.67],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.06,.04,.06]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube184.geometry,material:r["Material.006"],position:[8.03,.26,-6.66],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.1,.07,.1]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube183.geometry,material:r["Material.007"],position:[6.9,.26,8.95],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.07,.05,.07]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube182.geometry,material:r["Material.006"],position:[5.93,.26,-8.31],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.03,.02,.03]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube181.geometry,material:r["Material.007"],position:[5.67,.26,.42],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.04,.03,.04]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube180.geometry,material:r["Material.006"],position:[4.54,.26,-.49],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.06,.04,.06]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube179.geometry,material:r["Material.006"],position:[5.93,.26,1.12],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.1,.07,.1]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube178.geometry,material:r["Material.007"],position:[5.67,.26,5.14],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.07,.05,.07]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube177.geometry,material:r["Material.006"],position:[4.54,.26,6.59],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.03,.02,.03]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube176.geometry,material:r["Material.007"],position:[5.93,.26,8.2],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.04,.03,.04]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube175.geometry,material:r["Material.006"],position:[5.67,.26,12.21],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.06,.04,.06]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube174.geometry,material:r["Material.006"],position:[4.54,.26,11.31],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.1,.07,.1]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube173.geometry,material:r["Material.007"],position:[3.57,.26,-8.31],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.07,.05,.07]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube172.geometry,material:r["Material.006"],position:[3.31,.26,-1.94],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.03,.02,.03]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube171.geometry,material:r["Material.007"],position:[2.18,.26,-.49],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.04,.03,.04]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube170.geometry,material:r["Material.006"],position:[3.57,.26,-1.24],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.06,.04,.06]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube169.geometry,material:r["Material.006"],position:[3.31,.26,.42],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.1,.07,.1]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube168.geometry,material:r["Material.007"],position:[2.18,.26,1.87],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.07,.05,.07]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube167.geometry,material:r["Material.006"],position:[3.57,.26,3.48],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.03,.02,.03]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube166.geometry,material:r["Material.007"],position:[3.31,.26,5.14],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.04,.03,.04]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube165.geometry,material:r["Material.006"],position:[-.18,.26,-9.92],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.06,.04,.06]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube164.geometry,material:r["Material.006"],position:[1.21,.26,-8.31],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.1,.07,.1]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube163.geometry,material:r["Material.007"],position:[.95,.26,-4.3],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.07,.05,.07]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube162.geometry,material:r["Material.006"],position:[-.18,.26,-2.85],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.03,.02,.03]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube161.geometry,material:r["Material.007"],position:[1.21,.26,3.48],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.04,.03,.04]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube160.geometry,material:r["Material.006"],position:[.95,.26,9.86],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.06,.04,.06]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube159.geometry,material:r["Material.006"],position:[-.18,.26,11.31],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.1,.07,.1]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube158.geometry,material:r["Material.007"],position:[1.21,.26,10.56],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.07,.05,.07]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube157.geometry,material:r["Material.006"],position:[.95,.26,12.21],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.03,.02,.03]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube156.geometry,material:r["Material.007"],position:[-2.54,.26,-9.92],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.04,.03,.04]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube155.geometry,material:r["Material.006"],position:[-1.15,.26,-10.67],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.06,.04,.06]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube154.geometry,material:r["Material.006"],position:[-1.41,.26,-6.66],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.1,.07,.1]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube153.geometry,material:r["Material.007"],position:[-2.54,.26,-7.56],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.07,.05,.07]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube152.geometry,material:r["Material.006"],position:[-1.15,.26,1.12],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.03,.02,.03]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube151.geometry,material:r["Material.007"],position:[-1.41,.26,2.78],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.04,.03,.04]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube150.geometry,material:r["Material.006"],position:[-2.54,.26,1.87],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.06,.04,.06]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube149.geometry,material:r["Material.006"],position:[-1.15,.26,3.48],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.1,.07,.1]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube148.geometry,material:r["Material.007"],position:[-1.41,.26,9.86],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.07,.05,.07]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube147.geometry,material:r["Material.006"],position:[-4.9,.26,-9.92],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.03,.02,.03]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube146.geometry,material:r["Material.007"],position:[-3.51,.26,-5.95],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.04,.03,.04]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube145.geometry,material:r["Material.006"],position:[-6.13,.26,-9.02],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.06,.04,.06]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube144.geometry,material:r["Material.006"],position:[9.26,.26,-12.28],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.1,.07,.1]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube143.geometry,material:r["Material.007"],position:[8.29,.26,-13.03],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.07,.05,.07]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube142.geometry,material:r["Material.006"],position:[.95,.26,-11.38],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.03,.02,.03]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube141.geometry,material:r["Material.007"],position:[-2.54,.26,-12.28],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.04,.03,.04]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube140.geometry,material:r["Material.006"],position:[-3.51,.26,-13.03],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.06,.04,.06]}),(0,ty.jsx)("mesh",{receiveShadow:!0,geometry:n.Plane003.geometry,material:r["Material.009"],position:[.21,.26,-.33],scale:12.98}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Plane002.geometry,material:r["Material.001"],position:[.21,.26,-.33],scale:12.98}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Plane001.geometry,material:r["Material.002"],position:[.21,.2,-.33],scale:12.98}),(0,ty.jsxs)("mesh",{receiveShadow:!0,geometry:n.Plane.geometry,material:r["Material.001"],position:[.21,.26,-.33],scale:12.98,children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube024_2.geometry,material:r["Material.006"],position:[-.29,0,-.98],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube023_2.geometry,material:r["Material.007"],position:[-.21,0,-.92],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube021_1.geometry,material:r["Material.006"],position:[.06,0,-.85],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube015_4.geometry,material:r["Material.007"],position:[.62,0,-.98],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.01,0,.01]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube007_4.geometry,material:r["Material.006"],position:[.7,0,-.92],rotation:[-Math.PI/2,0,-Math.PI/2],scale:.01}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube024_3.geometry,material:r["Material.006"],position:[-.31,0,.97],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube023_3.geometry,material:r["Material.007"],position:[-.29,0,-.61],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube021_2.geometry,material:r["Material.006"],position:[-.21,0,.9],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube015_5.geometry,material:r["Material.007"],position:[-.12,0,.79],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.01,0,.01]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube007_5.geometry,material:r["Material.006"],position:[-.1,0,.11],rotation:[-Math.PI/2,0,-Math.PI/2],scale:.01}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube024_4.geometry,material:r["Material.006"],position:[-.21,0,.17],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube023_4.geometry,material:r["Material.007"],position:[-.12,0,.24],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube021_3.geometry,material:r["Material.006"],position:[-.1,0,-.07],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube015_6.geometry,material:r["Material.007"],position:[-.21,0,-.74],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.01,0,.01]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube007_6.geometry,material:r["Material.006"],position:[-.12,0,-.67],rotation:[-Math.PI/2,0,-Math.PI/2],scale:.01}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube024_5.geometry,material:r["Material.006"],position:[-.1,0,-.8],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube023_5.geometry,material:r["Material.007"],position:[-.03,0,.9],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube021_4.geometry,material:r["Material.006"],position:[.06,0,.79],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube015_7.geometry,material:r["Material.007"],position:[.08,0,.66],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.01,0,.01]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube007_7.geometry,material:r["Material.006"],position:[-.03,0,.72],rotation:[-Math.PI/2,0,-Math.PI/2],scale:.01}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube024_6.geometry,material:r["Material.006"],position:[.06,0,.79],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube023_6.geometry,material:r["Material.007"],position:[.08,0,.11],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube021_5.geometry,material:r["Material.006"],position:[-.03,0,-.38],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube015_8.geometry,material:r["Material.007"],position:[.06,0,-.49],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.01,0,.01]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube007_8.geometry,material:r["Material.006"],position:[.08,0,-.8],rotation:[-Math.PI/2,0,-Math.PI/2],scale:.01}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube024_7.geometry,material:r["Material.006"],position:[.15,0,.9],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube023_7.geometry,material:r["Material.007"],position:[.24,0,.24],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube021_6.geometry,material:r["Material.006"],position:[.26,0,-.07],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube015_9.geometry,material:r["Material.007"],position:[.15,0,-.01],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.01,0,.01]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube007_9.geometry,material:r["Material.006"],position:[.24,0,-.12],rotation:[-Math.PI/2,0,-Math.PI/2],scale:.01}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube024_8.geometry,material:r["Material.006"],position:[.26,0,-.25],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube023_8.geometry,material:r["Material.007"],position:[.15,0,-.19],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube021_7.geometry,material:r["Material.006"],position:[.24,0,-.31],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube015_10.geometry,material:r["Material.007"],position:[.44,0,.84],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.01,0,.01]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube007_10.geometry,material:r["Material.006"],position:[.33,0,.72],rotation:[-Math.PI/2,0,-Math.PI/2],scale:.01}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube024_9.geometry,material:r["Material.006"],position:[.42,0,.6],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube023_9.geometry,material:r["Material.007"],position:[.44,0,.29],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube021_8.geometry,material:r["Material.006"],position:[.33,0,.17],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube015_11.geometry,material:r["Material.007"],position:[.42,0,.06],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.01,0,.01]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube007_11.geometry,material:r["Material.006"],position:[.44,0,-.25],rotation:[-Math.PI/2,0,-Math.PI/2],scale:.01}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube024_10.geometry,material:r["Material.006"],position:[.33,0,-.19],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube023_10.geometry,material:r["Material.007"],position:[.42,0,-.12],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube021_9.geometry,material:r["Material.006"],position:[.44,0,-.8],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube015_12.geometry,material:r["Material.007"],position:[.52,0,-.19],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.01,0,.01]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube007_12.geometry,material:r["Material.006"],position:[.78,0,-.31],rotation:[-Math.PI/2,0,-Math.PI/2],scale:.01}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube024_11.geometry,material:r["Material.006"],position:[.8,0,-.61],rotation:[-Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube023_11.geometry,material:r["Material.007"],position:[.52,.62,-1],rotation:[0,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube021_10.geometry,material:r["Material.006"],position:[-.06,.63,.95],rotation:[Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube015_13.geometry,material:r["Material.007"],position:[-.09,.6,.94],rotation:[-Math.PI/2,-Math.PI/2,0],scale:[.01,0,.01]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube007_13.geometry,material:r["Material.006"],position:[.03,.61,.89],rotation:[0,0,-Math.PI/2],scale:.01}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube024_12.geometry,material:r["Material.006"],position:[-.06,.62,.89],rotation:[0,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube023_12.geometry,material:r["Material.007"],position:[.07,.63,.9],rotation:[Math.PI/2,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube021_11.geometry,material:r["Material.006"],position:[-.17,.61,1],rotation:[-Math.PI,0,-Math.PI/2],scale:0}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube015_14.geometry,material:r["Material.007"],position:[.12,.6,.95],rotation:[Math.PI/2,0,-Math.PI/2],scale:[.01,0,.01]})]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube005.geometry,material:r["tape.001"],position:[6.66,4.32,3.06],scale:[.83,1.77,.83]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube.geometry,material:r["tape.001"],position:[-.18,4.32,-6.84],scale:[.83,1.77,.83]}),(0,ty.jsxs)("group",{position:[-6.4,1.43,8.39],rotation:[-.18,.54,.34],scale:[.01,.52,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube018_1.geometry,material:r["Material.004"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube018_2.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube018_3.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[-5.55,1.71,8.39],rotation:[.06,.56,-.12],scale:[.01,.52,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube017_1.geometry,material:r["Material.010"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube017_2.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube017_3.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[-5.94,1.35,8.73],rotation:[.55,.56,-.12],scale:[.01,.52,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube016_1.geometry,material:r["Material.011"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube016_2.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube016_3.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[-4.83,1.83,8.52],rotation:[-.33,.74,-.17],scale:[.01,.52,.01],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube015_1.geometry,material:r["Material.012"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube015_2.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube015_3.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[3.17,.87,7.27],rotation:[-.33,.74,-.17],scale:[.02,.68,.02],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube009.geometry,material:r["Material.012"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube009_1.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube009_2.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[1.84,.78,7.6],rotation:[.55,.56,-.12],scale:[.02,.68,.02],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube008.geometry,material:r["Material.011"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube008_1.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube008_2.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[2.35,1,7.15],rotation:[.06,.56,-.12],scale:[.02,.68,.02],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube007_1.geometry,material:r["Material.010"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube007_2.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube007_3.geometry,material:r["Material.009"]})]}),(0,ty.jsxs)("group",{position:[1.21,.94,7.15],rotation:[-.18,.54,.34],scale:[.02,.68,.02],children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube006.geometry,material:r["Material.004"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube006_1.geometry,material:r["Material.005"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube006_2.geometry,material:r["Material.009"]})]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube024.geometry,material:r["Material.006"],position:[-2.17,.24,3.74],scale:[.29,.21,.29]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube023.geometry,material:r["Material.007"],position:[-1.28,.5,1.91],scale:[.19,.14,.19]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube021.geometry,material:r["Material.006"],position:[-.61,.23,4.33],scale:[.16,.12,.16]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube015.geometry,material:r["Material.007"],position:[-1.85,.42,3],rotation:[.65,-.79,.31],scale:[.36,.27,.36]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube007.geometry,material:r["Material.006"],position:[-.39,.42,3.05],scale:[.49,.36,.49]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere.geometry,material:r["Material.008"],position:[-.07,5.65,7.01],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere174.geometry,material:r["Material.008"],position:[-10.12,13.77,10.34],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere173.geometry,material:r["Material.008"],position:[-2.97,13.79,2.63],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere172.geometry,material:r["Material.008"],position:[4.01,13.8,-3.73],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere171.geometry,material:r["Material.008"],position:[10.67,13.81,3.53],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere170.geometry,material:r["Material.008"],position:[10.19,13.82,-9.75],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere169.geometry,material:r["Material.008"],position:[-8.3,13.83,5.34],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere168.geometry,material:r["Material.008"],position:[7.63,13.84,2.05],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere167.geometry,material:r["Material.008"],position:[11.84,13.85,10.99],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere166.geometry,material:r["Material.008"],position:[-12.57,13.85,2.13],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere165.geometry,material:r["Material.008"],position:[8.42,13.86,7.37],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere164.geometry,material:r["Material.008"],position:[-9.61,13.86,.12],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere163.geometry,material:r["Material.008"],position:[-4.12,13.86,-6.16],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere162.geometry,material:r["Material.008"],position:[-11.92,13.86,-6.45],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere161.geometry,material:r["Material.008"],position:[8.16,13.85,-4.9],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere160.geometry,material:r["Material.008"],position:[9.18,13.85,3.07],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere159.geometry,material:r["Material.008"],position:[10.18,13.85,3.33],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere158.geometry,material:r["Material.008"],position:[6.02,13.84,-.3],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere157.geometry,material:r["Material.008"],position:[-.79,13.83,-11.55],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere156.geometry,material:r["Material.008"],position:[4.38,13.82,-2.51],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere155.geometry,material:r["Material.008"],position:[10.39,13.81,-5.66],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere154.geometry,material:r["Material.008"],position:[-4.49,13.8,-5.85],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere153.geometry,material:r["Material.008"],position:[-4.43,13.78,-4.22],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere152.geometry,material:r["Material.008"],position:[12.92,13.77,-10.46],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere151.geometry,material:r["Material.008"],position:[-8.71,13.75,-4.98],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere150.geometry,material:r["Material.008"],position:[-12.07,13.73,1.72],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere149.geometry,material:r["Material.008"],position:[-11.75,13.71,-10.54],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere148.geometry,material:r["Material.008"],position:[-.41,13.69,12.16],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere147.geometry,material:r["Material.008"],position:[11.53,13.67,5.58],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere146.geometry,material:r["Material.008"],position:[-4.09,13.65,4.47],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere145.geometry,material:r["Material.008"],position:[4.44,13.62,-5.78],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere144.geometry,material:r["Material.008"],position:[-11.14,13.59,4.79],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere143.geometry,material:r["Material.008"],position:[-2.32,13.57,-1.13],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere142.geometry,material:r["Material.008"],position:[8.98,13.54,9.2],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere141.geometry,material:r["Material.008"],position:[-.83,13.5,-1.74],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere140.geometry,material:r["Material.008"],position:[-10.43,13.47,-6.15],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere139.geometry,material:r["Material.008"],position:[6.83,13.44,4.4],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere138.geometry,material:r["Material.008"],position:[-3.96,13.4,2.83],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere137.geometry,material:r["Material.008"],position:[12.49,13.37,12.22],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere136.geometry,material:r["Material.008"],position:[6.6,13.33,-7.86],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere135.geometry,material:r["Material.008"],position:[11.22,13.29,9.66],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere134.geometry,material:r["Material.008"],position:[-11.25,13.25,-10.34],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere133.geometry,material:r["Material.008"],position:[8.84,13.2,-2.24],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere132.geometry,material:r["Material.008"],position:[-9.76,13.16,-1.51],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere131.geometry,material:r["Material.008"],position:[-2.96,13.11,-10.45],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere130.geometry,material:r["Material.008"],position:[-12.46,13.07,10.3],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere129.geometry,material:r["Material.008"],position:[-12.97,13.02,-3.52],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere128.geometry,material:r["Material.008"],position:[-8.09,12.97,-6.11],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere127.geometry,material:r["Material.008"],position:[10.01,12.92,12.73],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere126.geometry,material:r["Material.008"],position:[-.58,12.87,-2.56],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere125.geometry,material:r["Material.008"],position:[5.63,12.81,11.96],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere124.geometry,material:r["Material.008"],position:[-2.54,12.76,.58],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere123.geometry,material:r["Material.008"],position:[11.73,12.7,.37],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere122.geometry,material:r["Material.008"],position:[12.29,12.64,4.05],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere121.geometry,material:r["Material.008"],position:[8.64,12.58,-11.23],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere120.geometry,material:r["Material.008"],position:[-11.73,12.52,-4],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere119.geometry,material:r["Material.008"],position:[-3.61,12.46,6.51],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere118.geometry,material:r["Material.008"],position:[2.36,12.39,4.13],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere117.geometry,material:r["Material.008"],position:[1.15,12.33,-1.84],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere116.geometry,material:r["Material.008"],position:[6.25,12.26,9.92],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere115.geometry,material:r["Material.008"],position:[13.06,12.19,-1.88],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere114.geometry,material:r["Material.008"],position:[-9.27,12.12,-1.31],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere113.geometry,material:r["Material.008"],position:[.98,12.05,7.56],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere112.geometry,material:r["Material.008"],position:[-6.74,11.98,-11.63],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere111.geometry,material:r["Material.008"],position:[4.92,11.9,-12.11],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere110.geometry,material:r["Material.008"],position:[-4.61,11.83,-6.67],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere109.geometry,material:r["Material.008"],position:[3.03,11.75,9.24],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere108.geometry,material:r["Material.008"],position:[-8.65,11.67,-3.35],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere107.geometry,material:r["Material.008"],position:[11.9,11.59,7.72],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere106.geometry,material:r["Material.008"],position:[-8.37,11.51,-.9],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere105.geometry,material:r["Material.008"],position:[-5.58,11.43,4.16],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere104.geometry,material:r["Material.008"],position:[7.22,11.34,-9.9],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere103.geometry,material:r["Material.008"],position:[-6.43,11.26,-10.81],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere102.geometry,material:r["Material.008"],position:[-6.88,11.17,-.59],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere101.geometry,material:r["Material.008"],position:[-2.3,11.08,11.95],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere100.geometry,material:r["Material.008"],position:[-10.41,10.99,6.93],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere099.geometry,material:r["Material.008"],position:[10.91,10.9,7.62],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere098.geometry,material:r["Material.008"],position:[1.23,10.81,7.97],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere097.geometry,material:r["Material.008"],position:[-.23,10.71,-9.4],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere096.geometry,material:r["Material.008"],position:[.59,10.62,-7.36],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere095.geometry,material:r["Material.008"],position:[8.55,10.52,5.73],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere094.geometry,material:r["Material.008"],position:[9.42,10.42,7.16],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere093.geometry,material:r["Material.008"],position:[12.38,10.32,-5.76],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere092.geometry,material:r["Material.008"],position:[-3.05,10.22,10.8],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere091.geometry,material:r["Material.008"],position:[-2.12,10.12,7.05],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere090.geometry,material:r["Material.008"],position:[-10.46,10.01,.39],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere089.geometry,material:r["Material.008"],position:[-7.56,9.91,4.11],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere088.geometry,material:r["Material.008"],position:[5.11,9.8,-8.43],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere087.geometry,material:r["Material.008"],position:[-3.2,9.69,-9.63],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere086.geometry,material:r["Material.008"],position:[4.5,9.58,-4.14],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere085.geometry,material:r["Material.008"],position:[-9.47,9.47,-12.14],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere084.geometry,material:r["Material.008"],position:[.02,9.36,-10.22],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere083.geometry,material:r["Material.008"],position:[-5.42,9.24,-4.01],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere082.geometry,material:r["Material.008"],position:[11.54,9.13,5.27],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere081.geometry,material:r["Material.008"],position:[1.77,9.01,-2.81],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere080.geometry,material:r["Material.008"],position:[-8.43,8.89,2.37],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere079.geometry,material:r["Material.008"],position:[-4.6,8.77,6.41],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere078.geometry,material:r["Material.008"],position:[-2.49,8.65,7.12],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere077.geometry,material:r["Material.008"],position:[10.15,8.53,-4.84],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere076.geometry,material:r["Material.008"],position:[5.32,8.4,6.28],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere075.geometry,material:r["Material.008"],position:[5.94,8.28,7.88],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere074.geometry,material:r["Material.008"],position:[-11.62,8.15,-7.88],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere073.geometry,material:r["Material.008"],position:[-9.7,8.02,-4.78],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere072.geometry,material:r["Material.008"],position:[-6.75,7.89,1.45],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere071.geometry,material:r["Material.008"],position:[6.29,7.76,-12.97],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere070.geometry,material:r["Material.008"],position:[7.18,7.63,8.08],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere069.geometry,material:r["Material.008"],position:[-1.2,7.49,-2.97],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere068.geometry,material:r["Material.008"],position:[-7.51,7.36,10.65],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere067.geometry,material:r["Material.008"],position:[.56,7.22,-.82],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere066.geometry,material:r["Material.008"],position:[4.53,7.08,-.87],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere065.geometry,material:r["Material.008"],position:[4.36,6.94,-9.05],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere064.geometry,material:r["Material.008"],position:[5.45,6.8,7.1],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere063.geometry,material:r["Material.008"],position:[-9.84,6.66,-13.36],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere062.geometry,material:r["Material.008"],position:[3.28,6.51,9.65],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere061.geometry,material:r["Material.008"],position:[-1.95,6.37,-3.58],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere060.geometry,material:r["Material.008"],position:[-10.55,6.22,-4.51],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere059.geometry,material:r["Material.008"],position:[-11.53,6.07,8.46],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere058.geometry,material:r["Material.008"],position:[-.75,5.92,8.07],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere057.geometry,material:r["Material.008"],position:[-3.17,5.77,9.98],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere056.geometry,material:r["Material.008"],position:[-5.28,5.62,11.72],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere055.geometry,material:r["Material.008"],position:[1.68,5.46,2.09],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere054.geometry,material:r["Material.008"],position:[-10.68,5.31,-7.48],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere053.geometry,material:r["Material.008"],position:[-12.6,5.15,-1.14],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere052.geometry,material:r["Material.008"],position:[11.46,4.99,8.85],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere051.geometry,material:r["Material.008"],position:[7.71,4.83,-9.39],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere050.geometry,material:r["Material.008"],position:[-3.9,4.67,-.44],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere049.geometry,material:r["Material.008"],position:[-9.41,4.5,-10.5],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere048.geometry,material:r["Material.008"],position:[-9.59,4.34,-12.95],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere047.geometry,material:r["Material.008"],position:[7.29,4.17,-6.63],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere046.geometry,material:r["Material.008"],position:[-1.19,4.01,10.11],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere045.geometry,material:r["Material.008"],position:[-3.79,3.84,11.41],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere044.geometry,material:r["Material.008"],position:[-9.99,3.67,11.16],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere043.geometry,material:r["Material.008"],position:[-6.4,3.5,8.81],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere042.geometry,material:r["Material.008"],position:[-7.76,3.32,11.47],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere041.geometry,material:r["Material.008"],position:[-12.01,3.15,3.36],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere040.geometry,material:r["Material.008"],position:[10.04,2.97,6.19],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere039.geometry,material:r["Material.008"],position:[-1.79,2.79,1.73],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere038.geometry,material:r["Material.008"],position:[-12.26,2.62,2.95],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere037.geometry,material:r["Material.008"],position:[11.17,2.44,3.13],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere035.geometry,material:r["Material.008"],position:[-.3,2.07,2.04],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere034.geometry,material:r["Material.008"],position:[11.34,1.89,10.48],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere033.geometry,material:r["Material.008"],position:[-10.23,1.7,2.17],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere032.geometry,material:r["Material.008"],position:[9.43,1.51,2.26],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere031.geometry,material:r["Material.008"],position:[1,1.32,2.65],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere030.geometry,material:r["Material.008"],position:[-5.92,1.13,-3.61],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere029.geometry,material:r["Material.008"],position:[8.35,.94,-2.44],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere028.geometry,material:r["Material.008"],position:[10.29,.75,6.6],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere027.geometry,material:r["Material.008"],position:[1.99,.55,2.91],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere026.geometry,material:r["Material.008"],position:[7.87,.36,11.04],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere025.geometry,material:r["Material.008"],position:[-6.72,.16,-5.09],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere024.geometry,material:r["Material.008"],position:[7.15,-.04,-11.54],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere023.geometry,material:r["Material.008"],position:[11.45,-.24,-4.23],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere022.geometry,material:r["Material.008"],position:[-8.54,-.44,-9.07],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere021.geometry,material:r["Material.008"],position:[13.12,-.64,-5.15],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere020.geometry,material:r["Material.008"],position:[-6.09,-.85,7.02],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere019.geometry,material:r["Material.008"],position:[-6.27,-1.05,11.93],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere018.geometry,material:r["Material.008"],position:[-11.58,-1.26,1.92],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere017.geometry,material:r["Material.008"],position:[3.29,-1.47,-.16],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere016.geometry,material:r["Material.008"],position:[6.7,-1.68,3.59],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere015.geometry,material:r["Material.008"],position:[1.9,-1.89,-2],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere014.geometry,material:r["Material.008"],position:[12.5,-2.11,-7.4],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere013.geometry,material:r["Material.008"],position:[-10.1,-2.32,.53],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere012.geometry,material:r["Material.008"],position:[2.41,-2.54,10.67],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere011.geometry,material:r["Material.008"],position:[4.32,-2.76,-6.59],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere010.geometry,material:r["Material.008"],position:[-5.73,-2.97,-4.83],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere009.geometry,material:r["Material.008"],position:[1.31,-3.19,-.21],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere008.geometry,material:r["Material.008"],position:[-3.14,-3.42,-12.9],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere007.geometry,material:r["Material.008"],position:[-4.03,-3.64,1.2],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere006.geometry,material:r["Material.008"],position:[-3.42,-3.86,8.96],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere005.geometry,material:r["Material.008"],position:[-7.1,-4.09,-6.31],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere004.geometry,material:r["Material.008"],position:[-6.8,-4.32,-8.36],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere003.geometry,material:r["Material.008"],position:[-10.71,-4.55,-.94],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere002.geometry,material:r["Material.008"],position:[-10.06,-4.78,7.07],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere001.geometry,material:r["Material.008"],position:[6.69,-5.01,8.49],rotation:[0,-1.57,0],scale:.02}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere348.geometry,material:r["Material.008"],position:[6.69,-.17,8.49],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere347.geometry,material:r["Material.008"],position:[-10.06,-.02,7.07],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere346.geometry,material:r["Material.008"],position:[-10.71,.12,-.94],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere345.geometry,material:r["Material.008"],position:[-6.8,.27,-8.36],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere344.geometry,material:r["Material.008"],position:[-7.1,.41,-6.31],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere343.geometry,material:r["Material.008"],position:[-3.42,.55,8.96],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere342.geometry,material:r["Material.008"],position:[-4.03,.69,1.2],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere341.geometry,material:r["Material.008"],position:[-3.14,.83,-12.9],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere340.geometry,material:r["Material.008"],position:[1.31,.97,-.21],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere339.geometry,material:r["Material.008"],position:[-5.73,1.11,-4.83],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere338.geometry,material:r["Material.008"],position:[4.32,1.24,-6.59],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere337.geometry,material:r["Material.008"],position:[2.41,1.38,10.67],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere336.geometry,material:r["Material.008"],position:[-10.1,1.52,.53],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere335.geometry,material:r["Material.008"],position:[12.5,1.65,-7.4],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere334.geometry,material:r["Material.008"],position:[1.9,1.78,-2],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere333.geometry,material:r["Material.008"],position:[6.7,1.92,3.59],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere332.geometry,material:r["Material.008"],position:[3.29,2.05,-.16],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere331.geometry,material:r["Material.008"],position:[-11.58,2.18,1.92],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere330.geometry,material:r["Material.008"],position:[-6.27,2.31,11.93],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere329.geometry,material:r["Material.008"],position:[-6.09,2.44,7.02],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere328.geometry,material:r["Material.008"],position:[13.12,2.57,-5.15],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere327.geometry,material:r["Material.008"],position:[-8.54,2.69,-9.07],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere326.geometry,material:r["Material.008"],position:[11.45,2.82,-4.23],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere325.geometry,material:r["Material.008"],position:[7.15,2.95,-11.54],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere324.geometry,material:r["Material.008"],position:[-6.72,3.07,-5.09],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere323.geometry,material:r["Material.008"],position:[7.87,3.19,11.04],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere322.geometry,material:r["Material.008"],position:[1.99,3.32,2.91],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere321.geometry,material:r["Material.008"],position:[10.29,3.44,6.6],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,name:"targetObject",geometry:n.Icosphere320.geometry,material:r["Material.008"],position:[8.35,3.56,-2.44],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere319.geometry,material:r["Material.008"],position:[-5.92,3.68,-3.61],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere318.geometry,material:r["Material.008"],position:[1,3.8,2.65],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere317.geometry,material:r["Material.008"],position:[9.43,3.92,2.26],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere316.geometry,material:r["Material.008"],position:[-10.23,4.03,2.17],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere315.geometry,material:r["Material.008"],position:[11.34,4.15,10.48],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere314.geometry,material:r["Material.008"],position:[-.3,4.27,2.04],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere313.geometry,material:r["Material.008"],position:[2.32,4.38,-13.03],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere312.geometry,material:r["Material.008"],position:[11.17,4.49,3.13],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere311.geometry,material:r["Material.008"],position:[-12.26,4.61,2.95],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere310.geometry,material:r["Material.008"],position:[-1.79,4.72,1.73],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere309.geometry,material:r["Material.008"],position:[10.04,4.83,6.19],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere308.geometry,material:r["Material.008"],position:[-12.01,4.94,3.36],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere307.geometry,material:r["Material.008"],position:[-7.76,5.05,11.47],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere306.geometry,material:r["Material.008"],position:[-6.4,5.16,8.81],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere305.geometry,material:r["Material.008"],position:[-9.99,5.27,11.16],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere304.geometry,material:r["Material.008"],position:[-3.79,5.37,11.41],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere303.geometry,material:r["Material.008"],position:[-1.19,5.48,10.11],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere302.geometry,material:r["Material.008"],position:[7.29,5.58,-6.63],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere301.geometry,material:r["Material.008"],position:[-9.59,5.69,-12.95],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere300.geometry,material:r["Material.008"],position:[-9.41,5.79,-10.5],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere299.geometry,material:r["Material.008"],position:[-3.9,5.89,-.44],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere298.geometry,material:r["Material.008"],position:[7.71,5.99,-9.39],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere297.geometry,material:r["Material.008"],position:[11.46,6.09,8.85],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere296.geometry,material:r["Material.008"],position:[-12.6,6.19,-1.14],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere295.geometry,material:r["Material.008"],position:[-10.68,6.29,-7.48],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere294.geometry,material:r["Material.008"],position:[1.68,6.39,2.09],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere293.geometry,material:r["Material.008"],position:[-5.28,6.48,11.72],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere292.geometry,material:r["Material.008"],position:[-3.17,6.58,9.98],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere291.geometry,material:r["Material.008"],position:[-.75,6.68,8.07],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere290.geometry,material:r["Material.008"],position:[-11.53,6.77,8.46],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere289.geometry,material:r["Material.008"],position:[-10.55,6.86,-4.51],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere288.geometry,material:r["Material.008"],position:[-1.95,6.95,-3.58],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere287.geometry,material:r["Material.008"],position:[3.28,7.05,9.65],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere286.geometry,material:r["Material.008"],position:[-9.84,7.14,-13.36],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere285.geometry,material:r["Material.008"],position:[5.45,7.23,7.1],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere284.geometry,material:r["Material.008"],position:[4.36,7.31,-9.05],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere283.geometry,material:r["Material.008"],position:[4.53,7.4,-.87],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere282.geometry,material:r["Material.008"],position:[.56,7.49,-.82],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere281.geometry,material:r["Material.008"],position:[-7.51,7.58,10.65],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere280.geometry,material:r["Material.008"],position:[-1.2,7.66,-2.97],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere279.geometry,material:r["Material.008"],position:[7.18,7.74,8.08],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere278.geometry,material:r["Material.008"],position:[6.29,7.83,-12.97],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere277.geometry,material:r["Material.008"],position:[-6.75,7.91,1.45],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere276.geometry,material:r["Material.008"],position:[-9.7,7.99,-4.78],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere275.geometry,material:r["Material.008"],position:[-11.62,8.07,-7.88],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere274.geometry,material:r["Material.008"],position:[5.94,8.15,7.88],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere273.geometry,material:r["Material.008"],position:[5.32,8.23,6.28],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere272.geometry,material:r["Material.008"],position:[10.15,8.31,-4.84],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere271.geometry,material:r["Material.008"],position:[-2.49,8.38,7.12],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere270.geometry,material:r["Material.008"],position:[-4.6,8.46,6.41],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere269.geometry,material:r["Material.008"],position:[-8.43,8.54,2.37],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere268.geometry,material:r["Material.008"],position:[1.77,8.61,-2.81],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere267.geometry,material:r["Material.008"],position:[11.54,8.68,5.27],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere266.geometry,material:r["Material.008"],position:[-5.42,8.76,-4.01],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere265.geometry,material:r["Material.008"],position:[.02,8.83,-10.22],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere264.geometry,material:r["Material.008"],position:[-9.47,8.9,-12.14],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere263.geometry,material:r["Material.008"],position:[4.5,8.97,-4.14],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere262.geometry,material:r["Material.008"],position:[-3.2,9.04,-9.63],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere261.geometry,material:r["Material.008"],position:[5.11,9.11,-8.43],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere260.geometry,material:r["Material.008"],position:[-7.56,9.17,4.11],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere259.geometry,material:r["Material.008"],position:[-10.46,9.24,.39],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere258.geometry,material:r["Material.008"],position:[-2.12,9.3,7.05],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere257.geometry,material:r["Material.008"],position:[-3.05,9.37,10.8],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere256.geometry,material:r["Material.008"],position:[12.38,9.43,-5.76],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere255.geometry,material:r["Material.008"],position:[9.42,9.49,7.16],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere254.geometry,material:r["Material.008"],position:[8.55,9.56,5.73],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere253.geometry,material:r["Material.008"],position:[.59,9.62,-7.36],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere252.geometry,material:r["Material.008"],position:[-.23,9.68,-9.4],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere251.geometry,material:r["Material.008"],position:[1.23,9.74,7.97],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere250.geometry,material:r["Material.008"],position:[10.91,9.79,7.62],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere249.geometry,material:r["Material.008"],position:[-10.41,9.85,6.93],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere248.geometry,material:r["Material.008"],position:[-2.3,9.91,11.95],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere247.geometry,material:r["Material.008"],position:[-6.88,9.96,-.59],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere246.geometry,material:r["Material.008"],position:[-6.43,10.02,-10.81],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere245.geometry,material:r["Material.008"],position:[7.22,10.07,-9.9],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere244.geometry,material:r["Material.008"],position:[-5.58,10.12,4.16],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere243.geometry,material:r["Material.008"],position:[-8.37,10.17,-.9],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere242.geometry,material:r["Material.008"],position:[11.9,10.23,7.72],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere241.geometry,material:r["Material.008"],position:[-8.65,10.28,-3.35],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere240.geometry,material:r["Material.008"],position:[3.03,10.33,9.24],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere239.geometry,material:r["Material.008"],position:[-4.61,10.37,-6.67],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere238.geometry,material:r["Material.008"],position:[4.92,10.42,-12.11],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere237.geometry,material:r["Material.008"],position:[-6.74,10.47,-11.63],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere236.geometry,material:r["Material.008"],position:[.98,10.51,7.56],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere235.geometry,material:r["Material.008"],position:[-9.27,10.56,-1.31],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere234.geometry,material:r["Material.008"],position:[13.06,10.6,-1.88],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere233.geometry,material:r["Material.008"],position:[6.25,10.64,9.92],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere232.geometry,material:r["Material.008"],position:[1.15,10.69,-1.84],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere231.geometry,material:r["Material.008"],position:[2.36,10.73,4.13],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere230.geometry,material:r["Material.008"],position:[-3.61,10.77,6.51],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere229.geometry,material:r["Material.008"],position:[-11.73,10.81,-4],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere228.geometry,material:r["Material.008"],position:[8.64,10.84,-11.23],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere227.geometry,material:r["Material.008"],position:[12.29,10.88,4.05],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere226.geometry,material:r["Material.008"],position:[11.73,10.92,.37],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere225.geometry,material:r["Material.008"],position:[-2.54,10.95,.58],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere224.geometry,material:r["Material.008"],position:[5.63,10.99,11.96],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere223.geometry,material:r["Material.008"],position:[-.58,11.02,-2.56],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere222.geometry,material:r["Material.008"],position:[10.01,11.06,12.73],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere221.geometry,material:r["Material.008"],position:[-8.09,11.09,-6.11],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere220.geometry,material:r["Material.008"],position:[-12.97,11.12,-3.52],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere219.geometry,material:r["Material.008"],position:[-12.46,11.15,10.3],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere218.geometry,material:r["Material.008"],position:[-2.96,11.18,-10.45],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere217.geometry,material:r["Material.008"],position:[-9.76,11.21,-1.51],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere216.geometry,material:r["Material.008"],position:[8.84,11.23,-2.24],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere215.geometry,material:r["Material.008"],position:[-11.25,11.26,-10.34],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere214.geometry,material:r["Material.008"],position:[11.22,11.29,9.66],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere213.geometry,material:r["Material.008"],position:[6.6,11.31,-7.86],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere212.geometry,material:r["Material.008"],position:[12.49,11.34,12.22],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere211.geometry,material:r["Material.008"],position:[-3.96,11.36,2.83],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere210.geometry,material:r["Material.008"],position:[6.83,11.38,4.4],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere209.geometry,material:r["Material.008"],position:[-10.43,11.4,-6.15],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere208.geometry,material:r["Material.008"],position:[-.83,11.42,-1.74],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere207.geometry,material:r["Material.008"],position:[8.98,11.44,9.2],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere206.geometry,material:r["Material.008"],position:[-2.32,11.46,-1.13],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere205.geometry,material:r["Material.008"],position:[-11.14,11.48,4.79],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere204.geometry,material:r["Material.008"],position:[4.44,11.5,-5.78],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere203.geometry,material:r["Material.008"],position:[-4.09,11.51,4.47],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere202.geometry,material:r["Material.008"],position:[11.53,11.53,5.58],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere201.geometry,material:r["Material.008"],position:[-.41,11.54,12.16],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere200.geometry,material:r["Material.008"],position:[-11.75,11.55,-10.54],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere199.geometry,material:r["Material.008"],position:[-12.07,11.57,1.72],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere198.geometry,material:r["Material.008"],position:[-8.71,11.58,-4.98],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere197.geometry,material:r["Material.008"],position:[12.92,11.59,-10.46],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere196.geometry,material:r["Material.008"],position:[-4.43,11.6,-4.22],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere195.geometry,material:r["Material.008"],position:[-4.49,11.61,-5.85],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere194.geometry,material:r["Material.008"],position:[10.39,11.61,-5.66],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere193.geometry,material:r["Material.008"],position:[4.38,11.62,-2.51],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere192.geometry,material:r["Material.008"],position:[-.79,11.63,-11.55],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere191.geometry,material:r["Material.008"],position:[6.02,11.63,-.3],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere190.geometry,material:r["Material.008"],position:[10.18,11.64,3.33],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere189.geometry,material:r["Material.008"],position:[9.18,11.64,3.07],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere188.geometry,material:r["Material.008"],position:[8.16,11.64,-4.9],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere187.geometry,material:r["Material.008"],position:[-11.92,11.64,-6.45],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere186.geometry,material:r["Material.008"],position:[-4.12,11.64,-6.16],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere185.geometry,material:r["Material.008"],position:[-9.61,11.64,.12],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere184.geometry,material:r["Material.008"],position:[8.42,11.64,7.37],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere183.geometry,material:r["Material.008"],position:[-12.57,11.64,2.13],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere182.geometry,material:r["Material.008"],position:[11.84,11.64,10.99],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere181.geometry,material:r["Material.008"],position:[7.63,11.63,2.05],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere180.geometry,material:r["Material.008"],position:[-8.3,11.63,5.34],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere179.geometry,material:r["Material.008"],position:[10.19,11.62,-9.75],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere178.geometry,material:r["Material.008"],position:[10.67,11.62,3.53],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere177.geometry,material:r["Material.008"],position:[4.01,11.61,-3.73],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere176.geometry,material:r["Material.008"],position:[-2.97,11.6,2.63],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Icosphere175.geometry,material:r["Material.008"],position:[-10.12,11.59,10.34],rotation:[0,-1.57,0],scale:[.02,.01,.02]}),(0,ty.jsxs)("group",{position:[4.42,.31,3.9],rotation:[-1.44,-.46,-1.34],scale:.06,children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube046.geometry,material:r["Material.014"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube046_1.geometry,material:r["Material.017"]})]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Circle002.geometry,material:r["Material.002"],position:[4.67,.44,3.86],rotation:[-1.44,-.46,-1.34],scale:.06}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube040.geometry,material:r["Material.016"],position:[4.56,.38,3.88],rotation:[-1.44,-.46,-1.34],scale:.06}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube039.geometry,material:r["Material.006"],position:[4.5,.35,3.89],rotation:[-1.44,-.46,-1.34],scale:.06}),(0,ty.jsxs)("group",{position:[-4.64,.36,2.81],rotation:[-2.63,-.99,-2.77],scale:.05,children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube030_1.geometry,material:r["Material.013"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube030_2.geometry,material:r["Material.005"]})]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Circle.geometry,material:r["Material.002"],position:[-4.55,.58,2.91],rotation:[-2.22,-.8,-2.56],scale:.05}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube034.geometry,material:r["Material.005"],position:[-4.59,.5,2.86],rotation:[-2.22,-.8,-2.56],scale:.05}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Cube033.geometry,material:r["Material.006"],position:[-4.62,.44,2.83],rotation:[-2.63,-.99,-2.77],scale:.05}),(0,ty.jsxs)("group",{position:[0,.53,1.13],scale:.27,children:[(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_85.geometry,material:r["Material.019"]}),(0,ty.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.Mesh_86.geometry,material:r["Material.001"]})]})]}))}function ly(){var e,t=0,n=[],r=0,a=0;var i=d((function(e){a||s(1,e)})),o=d((function(e){a||s(-1,e)}));function s(n,r){a++;var i=0;try{r===m&&f();var o=n>0&&h(r);o?o.call(r,d((function(e){i++,s(1,e)})),d((function(e){i++,s(-1,e)}))):(t=n,e=r,l())}catch(u){t||i||s(-1,u)}}function l(){r||(setTimeout(u,0),r=1)}function u(){var e=n;r=0,n=[],e.forEach(c)}function c(e){e()}function h(e){var t=e&&(p(e)||"object"===typeof e)&&e.then;return p(t)&&t}function d(e){var t=0;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];t++||e.apply(this,n)}}function f(){throw new TypeError("Chaining cycle detected")}var p=function(e){return"function"===typeof e},m={then:function(r,a){var i=ly();return n.push((function(){var n=t>0?r:a;if(p(n))try{var o=n(e);o===i&&f();var s=h(o);s?s.call(o,i.resolve,i.reject):i.resolve(o)}catch(l){i.reject(l)}else i[t>0?"resolve":"reject"](e)})),t&&l(),i},resolve:i,reject:o};return m}function uy(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{then:n.then.bind(n),resolve:e,reject:t}}Yg.preload("./robotInRuinScene.gltf"),ly.all=uy.all=function(e){var t=0,n=[],r=cy();return 0===e.length?r.resolve([]):e.forEach((function(a,i){var o=cy();o.resolve(a),o.then((function(a){t++,n[i]=a,t===e.length&&r.resolve(n)}),r.reject)})),r};var cy="function"===typeof Promise?uy:ly;function hy(){var e=Object.create(null);function t(r,a){var i=r.id,o=r.name,s=r.dependencies;void 0===s&&(s=[]);var l=r.init;void 0===l&&(l=function(){});var u=r.getTransferables;if(void 0===u&&(u=null),!e[i])try{s=s.map((function(n){return n&&n.isWorkerModule&&(t(n,(function(e){if(e instanceof Error)throw e})),n=e[n.id].value),n})),l=n("<"+o+">.init",l),u&&(u=n("<"+o+">.getTransferables",u));var c=null;"function"===typeof l?c=l.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[i]={id:i,value:c,getTransferables:u},a(c)}catch(h){h&&h.noLog||console.error(h),a(h)}}function n(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(a){console.error(a)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",(function(n){var r=n.data,a=r.messageId,i=r.action,o=r.data;try{"registerModule"===i&&t(o,(function(e){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:{isCallable:"function"===typeof e}})})),"callModule"===i&&function(t,n){var r,a=t.id,i=t.args;e[a]&&"function"===typeof e[a].value||n(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var o=(r=e[a]).value.apply(r,i);o&&"function"===typeof o.then?o.then(s,(function(e){return n(e instanceof Error?e:new Error(""+e))})):s(o)}catch(l){n(l)}function s(t){try{var r=e[a].getTransferables&&e[a].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(l){console.error(l),n(l)}}}(o,(function(e,t){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:e},t||void 0)}))}catch(s){postMessage({messageId:a,success:!1,error:s.stack})}}))}var dy=function(){var e=!1;if("undefined"!==typeof window&&"undefined"!==typeof window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return dy=function(){return e},e},fy=0,py=0,my=!1,vy=Object.create(null),gy=Object.create(null),yy=Object.create(null);function xy(e){if((!e||"function"!==typeof e.init)&&!my)throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,r=e.getTransferables,a=e.workerId;if(!dy())return function(e){var t=function e(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e._getInitResult().then((function(e){if("function"===typeof e)return e.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,r=e.init;n=Array.isArray(n)?n.map((function(e){return e&&e._getInitResult?e._getInitResult():e})):[];var a=cy.all(n).then((function(e){return r.apply(null,e)}));return t._getInitResult=function(){return a},a},t}(e);null==a&&(a="#default");var i="workerModule"+ ++fy,o=e.name||i,s=null;function l(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!s){s=_y(a,"registerModule",l.workerModuleData);var n=function e(){s=null,gy[a].delete(e)};(gy[a]||(gy[a]=new Set)).add(n)}return s.then((function(t){if(t.isCallable)return _y(a,"callModule",{id:i,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!==typeof e||e.workerModuleData||(my=!0,e=xy({workerId:a,name:"<"+o+"> function dependency: "+e.name,init:"function(){return (\n"+by(e)+"\n)}"}),my=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),l.workerModuleData={isWorkerModule:!0,id:i,name:o,dependencies:t,init:by(n),getTransferables:r&&by(r)},l}function by(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function _y(e,t,n){var r=cy(),a=++py;return yy[a]=function(e){e.success?r.resolve(e.result):r.reject(new Error("Error in worker "+t+" call: "+e.error))},function(e){var t=vy[e];if(!t){var n=by(hy);(t=vy[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=yy[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete yy[n],r(t)}}return t}(e).postMessage({messageId:a,action:t,data:n}),r}var Sy=xy({name:"Thenable",dependencies:[cy],init:function(e){return e}});function wy(){var e=function(e){function t(e,t,n,r,a,i,o,s){var l=1-o;s.x=l*l*e+2*l*o*n+o*o*a,s.y=l*l*t+2*l*o*r+o*o*i}function n(e,t,n,r,a,i,o,s,l,u){var c=1-l;u.x=c*c*c*e+3*c*c*l*n+3*c*l*l*a+l*l*l*o,u.y=c*c*c*t+3*c*c*l*r+3*c*l*l*i+l*l*l*s}function r(e,t){for(var n,r,a,i,o,s=/([MLQCZ])([^MLQCZ]*)/g;n=s.exec(e);){var l=n[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map((function(e){return parseFloat(e)}));switch(n[1]){case"M":i=r=l[0],o=a=l[1];break;case"L":l[0]===i&&l[1]===o||t("L",i,o,i=l[0],o=l[1]);break;case"Q":t("Q",i,o,i=l[2],o=l[3],l[0],l[1]);break;case"C":t("C",i,o,i=l[4],o=l[5],l[0],l[1],l[2],l[3]);break;case"Z":i===r&&o===a||t("L",i,o,r,a)}}}function a(e,a,i){void 0===i&&(i=16);var o={x:0,y:0};r(e,(function(e,r,s,l,u,c,h,d,f){switch(e){case"L":a(r,s,l,u);break;case"Q":for(var p=r,m=s,v=1;v<i;v++)t(r,s,c,h,l,u,v/(i-1),o),a(p,m,o.x,o.y),p=o.x,m=o.y;break;case"C":for(var g=r,y=s,x=1;x<i;x++)n(r,s,c,h,d,f,l,u,x/(i-1),o),a(g,y,o.x,o.y),g=o.x,y=o.y}}))}var i="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o=new WeakMap,s={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function l(e,t){var n=e.getContext?e.getContext("webgl",s):e,r=o.get(n);if(!r){var a=function(e){var t=c[e];if(!t&&!(t=c[e]=n.getExtension(e)))throw new Error(e+" not supported");return t},i=function(e,t){var r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r},l=function(){c={},h={},d={},f=-1,p.length=0},u="undefined"!==typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext,c={},h={},d={},f=-1,p=[];n.canvas.addEventListener("webglcontextlost",(function(e){l(),e.preventDefault()}),!1),o.set(n,r={gl:n,isWebGL2:u,getExtension:a,withProgram:function(e,t,r,o){if(!h[e]){var s={},l={},c=n.createProgram();n.attachShader(c,i(t,n.VERTEX_SHADER)),n.attachShader(c,i(r,n.FRAGMENT_SHADER)),n.linkProgram(c),h[e]={program:c,transaction:function(e){n.useProgram(c),e({setUniform:function(e,t){for(var r=[],a=arguments.length-2;a-- >0;)r[a]=arguments[a+2];var i=l[t]||(l[t]=n.getUniformLocation(c,t));n["uniform"+e].apply(n,[i].concat(r))},setAttribute:function(e,t,r,i,o){var l=s[e];l||(l=s[e]={buf:n.createBuffer(),loc:n.getAttribLocation(c,e),data:null}),n.bindBuffer(n.ARRAY_BUFFER,l.buf),n.vertexAttribPointer(l.loc,t,n.FLOAT,!1,0,0),n.enableVertexAttribArray(l.loc),u?n.vertexAttribDivisor(l.loc,i):a("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(l.loc,i),o!==l.data&&(n.bufferData(n.ARRAY_BUFFER,o,r),l.data=o)}})}}}h[e].transaction(o)},withTexture:function(e,t){f++;try{n.activeTexture(n.TEXTURE0+f);var r=d[e];r||(r=d[e]=n.createTexture(),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)),n.bindTexture(n.TEXTURE_2D,r),t(r,f)}finally{f--}},withTextureFramebuffer:function(e,t,r){var a=n.createFramebuffer();p.push(a),n.bindFramebuffer(n.FRAMEBUFFER,a),n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);try{r(a)}finally{n.deleteFramebuffer(a),n.bindFramebuffer(n.FRAMEBUFFER,p[--p.length-1]||null)}},handleContextLoss:l})}t(r)}function u(e,t,n,r,a,o,s,u){void 0===s&&(s=15),void 0===u&&(u=null),l(e,(function(e){var l=e.gl,c=e.withProgram;(0,e.withTexture)("copy",(function(e,h){l.texImage2D(l.TEXTURE_2D,0,l.RGBA,a,o,0,l.RGBA,l.UNSIGNED_BYTE,t),c("copy",i,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",(function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,l.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",h),l.bindFramebuffer(l.FRAMEBUFFER,u||null),l.disable(l.BLEND),l.colorMask(8&s,4&s,2&s,1&s),l.viewport(n,r,a,o),l.scissor(n,r,a,o),l.drawArrays(l.TRIANGLES,0,3)}))}))}))}var c=Object.freeze({__proto__:null,withWebGLContext:l,renderImageData:u,resizeWebGLCanvasWithoutClearing:function(e,t,n){var r=e.width,a=e.height;l(e,(function(i){var o=i.gl,s=new Uint8Array(r*a*4);o.readPixels(0,0,r,a,o.RGBA,o.UNSIGNED_BYTE,s),e.width=t,e.height=n,u(o,s,0,0,r,a)}))}});function h(e,t,n,r,i,o){void 0===o&&(o=1);var s=new Uint8Array(e*t),l=r[2]-r[0],u=r[3]-r[1],c=[];a(n,(function(e,t,n,r){c.push({x1:e,y1:t,x2:n,y2:r,minX:Math.min(e,n),minY:Math.min(t,r),maxX:Math.max(e,n),maxY:Math.max(t,r)})})),c.sort((function(e,t){return e.maxX-t.maxX}));for(var h=0;h<e;h++)for(var d=0;d<t;d++){var f=v(r[0]+l*(h+.5)/e,r[1]+u*(d+.5)/t),m=Math.pow(1-Math.abs(f)/i,o)/2;f<0&&(m=1-m),m=Math.max(0,Math.min(255,Math.round(255*m))),s[d*e+h]=m}return s;function v(e,t){for(var n=1/0,r=1/0,a=c.length;a--;){var i=c[a];if(i.maxX+r<=e)break;if(e+r>i.minX&&t-r<i.maxY&&t+r>i.minY){var o=p(e,t,i.x1,i.y1,i.x2,i.y2);o<n&&(n=o,r=Math.sqrt(n))}}return function(e,t){for(var n=0,r=c.length;r--;){var a=c[r];if(a.maxX<=e)break;a.y1>t!==a.y2>t&&e<(a.x2-a.x1)*(t-a.y1)/(a.y2-a.y1)+a.x1&&(n+=a.y1<a.y2?1:-1)}return 0!==n}(e,t)&&(r=-r),r}}function d(e,t,n,r,a,i,o,s,l,u){void 0===i&&(i=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),f(e,t,n,r,a,i,o,null,s,l,u)}function f(e,t,n,r,a,i,o,s,l,c,d){void 0===i&&(i=1),void 0===l&&(l=0),void 0===c&&(c=0),void 0===d&&(d=0);for(var f=h(e,t,n,r,a,i),p=new Uint8Array(4*f.length),m=0;m<f.length;m++)p[4*m+d]=f[m];u(o,p,l,c,e,t,1<<3-d,s)}function p(e,t,n,r,a,i){var o=a-n,s=i-r,l=o*o+s*s,u=l?Math.max(0,Math.min(1,((e-n)*o+(t-r)*s)/l)):0,c=e-(n+u*o),h=t-(r+u*s);return c*c+h*h}var m=Object.freeze({__proto__:null,generate:h,generateIntoCanvas:d,generateIntoFramebuffer:f}),v=new Float32Array([0,0,2,0,0,2]),g=null,y=!1,x={},b=new WeakMap;function _(e){if(!y&&!A(e))throw new Error("WebGL generation not supported")}function S(e,t,n,r,a,i,o){if(void 0===i&&(i=1),void 0===o&&(o=null),!o&&!(o=g)){var s="function"===typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!==typeof document?document.createElement("canvas"):null;if(!s)throw new Error("OffscreenCanvas or DOM canvas not supported");o=g=s.getContext("webgl",{depth:!1})}_(o);var u=new Uint8Array(e*t*4);l(o,(function(o){var s=o.gl,l=o.withTexture,c=o.withTextureFramebuffer;l("readable",(function(o,l){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,e,t,0,s.RGBA,s.UNSIGNED_BYTE,null),c(o,l,(function(o){M(e,t,n,r,a,i,s,o,0,0,0),s.readPixels(0,0,e,t,s.RGBA,s.UNSIGNED_BYTE,u)}))}))}));for(var c=new Uint8Array(e*t),h=0,d=0;h<u.length;h+=4)c[d++]=u[h];return c}function w(e,t,n,r,a,i,o,s,l,u){void 0===i&&(i=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),M(e,t,n,r,a,i,o,null,s,l,u)}function M(e,t,n,r,o,s,u,c,h,d,f){void 0===s&&(s=1),void 0===h&&(h=0),void 0===d&&(d=0),void 0===f&&(f=0),_(u);var p=[];a(n,(function(e,t,n,r){p.push(e,t,n,r)})),p=new Float32Array(p),l(u,(function(n){var a=n.gl,l=n.isWebGL2,u=n.getExtension,m=n.withProgram,g=n.withTexture,y=n.withTextureFramebuffer,x=n.handleContextLoss;if(g("rawDistances",(function(n,g){e===n._lastWidth&&t===n._lastHeight||a.texImage2D(a.TEXTURE_2D,0,a.RGBA,n._lastWidth=e,n._lastHeight=t,0,a.RGBA,a.UNSIGNED_BYTE,null),m("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",(function(i){var c=i.setAttribute,h=i.setUniform,d=!l&&u("ANGLE_instanced_arrays"),f=!l&&u("EXT_blend_minmax");c("aUV",2,a.STATIC_DRAW,0,v),c("aLineSegment",4,a.DYNAMIC_DRAW,1,p),h.apply(void 0,["4f","uGlyphBounds"].concat(r)),h("1f","uMaxDistance",o),h("1f","uExponent",s),y(n,g,(function(n){a.enable(a.BLEND),a.colorMask(!0,!0,!0,!0),a.viewport(0,0,e,t),a.scissor(0,0,e,t),a.blendFunc(a.ONE,a.ONE),a.blendEquationSeparate(a.FUNC_ADD,l?a.MAX:f.MAX_EXT),a.clear(a.COLOR_BUFFER_BIT),l?a.drawArraysInstanced(a.TRIANGLES,0,3,p.length/4):d.drawArraysInstancedANGLE(a.TRIANGLES,0,3,p.length/4)}))})),m("post",i,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",(function(n){n.setAttribute("aUV",2,a.STATIC_DRAW,0,v),n.setUniform("1i","tex",g),a.bindFramebuffer(a.FRAMEBUFFER,c),a.disable(a.BLEND),a.colorMask(0===f,1===f,2===f,3===f),a.viewport(h,d,e,t),a.scissor(h,d,e,t),a.drawArrays(a.TRIANGLES,0,3)}))})),a.isContextLost())throw x(),new Error("webgl context lost")}))}function A(e){var t=e&&e!==g?e.canvas||e:x,n=b.get(t);if(void 0===n){y=!0;var r=null;try{var a=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],i=S(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);n=i&&a.length===i.length&&i.every((function(e,t){return e===a[t]})),n||(r="bad trial run results",console.info(a,i))}catch(o){n=!1,r=o.message}r&&console.warn("WebGL SDF generation not supported:",r),y=!1,b.set(t,n)}return n}var C=Object.freeze({__proto__:null,generate:S,generateIntoCanvas:w,generateIntoFramebuffer:M,isSupported:A});return e.forEachPathCommand=r,e.generate=function(e,t,n,r,a,i){void 0===a&&(a=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===i&&(i=1);try{return S.apply(C,arguments)}catch(o){return console.info("WebGL SDF generation failed, falling back to JS",o),h.apply(m,arguments)}},e.generateIntoCanvas=function(e,t,n,r,a,i,o,s,l,u){void 0===a&&(a=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===i&&(i=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0);try{return w.apply(C,arguments)}catch(c){return console.info("WebGL SDF generation failed, falling back to JS",c),d.apply(m,arguments)}},e.javascript=m,e.pathToLineSegments=a,e.webgl=C,e.webglUtils=c,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e}var My=function(){var e=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},r={};n.L=1,r[1]="L",Object.keys(t).forEach((function(e,t){n[e]=1<<t+1,r[n[e]]=e})),Object.freeze(n);var a=n.LRI|n.RLI|n.FSI,i=n.L|n.R|n.AL,o=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,s=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,l=n.S|n.WS|n.B|a|n.PDI|s,u=null;function c(e){return function(){if(!u){u=new Map;var e=function(e){if(t.hasOwnProperty(e)){var r=0;t[e].split(",").forEach((function(t){var a=t.split("+"),i=a[0],o=a[1];i=parseInt(i,36),o=o?parseInt(o,36):0,u.set(r+=i,n[e]);for(var s=0;s<o;s++)u.set(++r,n[e])}))}};for(var r in t)e(r)}}(),u.get(e.codePointAt(0))||n.L}var h,d,f,p="14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",m="6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye";function v(e,t){var n,r=0,a=new Map,i=t&&new Map;return e.split(",").forEach((function e(o){if(-1!==o.indexOf("+"))for(var s=+o;s--;)e(n);else{n=o;var l=o.split(">"),u=l[0],c=l[1];u=String.fromCodePoint(r+=parseInt(u,36)),c=String.fromCodePoint(r+=parseInt(c,36)),a.set(u,c),t&&i.set(c,u)}})),{map:a,reverseMap:i}}function g(){if(!h){var e=v(p,!0),t=e.map,n=e.reverseMap;h=t,d=n,f=v(m,!1).map}}function y(e){return g(),h.get(e)||null}function x(e){return g(),d.get(e)||null}function b(e){return g(),f.get(e)||null}var _=n.L,S=n.R,w=n.EN,M=n.ES,A=n.ET,C=n.AN,k=n.CS,T=n.B,E=n.S,I=n.ON,B=n.BN,P=n.NSM,R=n.AL,L=n.LRO,D=n.RLO,F=n.LRE,U=n.RLE,q=n.PDF,O=n.LRI,z=n.RLI,N=n.FSI,G=n.PDI;var j;function H(e){return function(){if(!j){var e=v("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach((function(e,n){t.set(n,e)})),j=t}}(),j.get(e)||null}function V(e,t,n,r){var a=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(a-1,null==r?a-1:+r);var i=[];return t.paragraphs.forEach((function(a){var o=Math.max(n,a.start),s=Math.min(r,a.end);if(o<s){for(var u=t.levels.slice(o,s+1),h=s;h>=o&&c(e[h])&l;h--)u[h]=a.level;for(var d=a.level,f=1/0,p=0;p<u.length;p++){var m=u[p];m>d&&(d=m),m<f&&(f=1|m)}for(var v=d;v>=f;v--)for(var g=0;g<u.length;g++)if(u[g]>=v){for(var y=g;g+1<u.length&&u[g+1]>=v;)g++;g>y&&i.push([y+n,g+n])}}})),i}function W(e,t,n,r){for(var a=V(e,t,n,r),i=[],o=0;o<e.length;o++)i[o]=o;return a.forEach((function(e){for(var t=e[0],n=e[1],r=i.slice(t,n+1),a=r.length;a--;)i[n-a]=r[a]})),i}return e.closingToOpeningBracket=x,e.getBidiCharType=c,e.getBidiCharTypeName=function(e){return r[c(e)]},e.getCanonicalBracket=b,e.getEmbeddingLevels=function(e,t){for(var n=new Uint32Array(e.length),r=0;r<e.length;r++)n[r]=c(e[r]);var u=new Map;function h(e,t){var r=n[e];n[e]=t,u.set(r,u.get(r)-1),r&o&&u.set(o,u.get(o)-1),u.set(t,(u.get(t)||0)+1),t&o&&u.set(o,(u.get(o)||0)+1)}for(var d=new Uint8Array(e.length),f=new Map,p=[],m=null,v=0;v<e.length;v++)m||p.push(m={start:v,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:Nt(v,!1)}),n[v]&T&&(m.end=v,m=null);for(var g=U|F|D|L|a|G|q|T,j=function(e){return e+(1&e?1:2)},H=function(e){return e+(1&e?2:1)},V=0;V<p.length;V++){var W=[{_level:(m=p[V]).level,_override:0,_isolate:0}],J=void 0,X=0,K=0,Y=0;u.clear();for(var Q=m.start;Q<=m.end;Q++){var Z=n[Q];if(J=W[W.length-1],u.set(Z,(u.get(Z)||0)+1),Z&o&&u.set(o,(u.get(o)||0)+1),Z&g)if(Z&(U|F)){d[Q]=J._level;var $=(Z===U?H:j)(J._level);$<=125&&!X&&!K?W.push({_level:$,_override:0,_isolate:0}):X||K++}else if(Z&(D|L)){d[Q]=J._level;var ee=(Z===D?H:j)(J._level);ee<=125&&!X&&!K?W.push({_level:ee,_override:Z&D?S:_,_isolate:0}):X||K++}else if(Z&a){Z&N&&(Z=1===Nt(Q+1,!0)?z:O),d[Q]=J._level,J._override&&h(Q,J._override);var te=(Z===z?H:j)(J._level);te<=125&&0===X&&0===K?(Y++,W.push({_level:te,_override:0,_isolate:1,_isolInitIndex:Q})):X++}else if(Z&G){if(X>0)X--;else if(Y>0){for(K=0;!W[W.length-1]._isolate;)W.pop();var ne=W[W.length-1]._isolInitIndex;null!=ne&&(f.set(ne,Q),f.set(Q,ne)),W.pop(),Y--}J=W[W.length-1],d[Q]=J._level,J._override&&h(Q,J._override)}else Z&q?(0===X&&(K>0?K--:!J._isolate&&W.length>1&&(W.pop(),J=W[W.length-1])),d[Q]=J._level):Z&T&&(d[Q]=m.level);else d[Q]=J._level,J._override&&Z!==B&&h(Q,J._override)}for(var re=[],ae=null,ie=m.start;ie<=m.end;ie++){var oe=n[ie];if(!(oe&s)){var se=d[ie],le=oe&a,ue=oe===G;ae&&se===ae._level?(ae._end=ie,ae._endsWithIsolInit=le):re.push(ae={_start:ie,_end:ie,_level:se,_startsWithPDI:ue,_endsWithIsolInit:le})}}for(var ce=[],he=0;he<re.length;he++){var de=re[he];if(!de._startsWithPDI||de._startsWithPDI&&!f.has(de._start)){for(var fe=[ae=de],pe=void 0;ae&&ae._endsWithIsolInit&&null!=(pe=f.get(ae._end));)for(var me=he+1;me<re.length;me++)if(re[me]._start===pe){fe.push(ae=re[me]);break}for(var ve=[],ge=0;ge<fe.length;ge++)for(var ye=fe[ge],xe=ye._start;xe<=ye._end;xe++)ve.push(xe);for(var be=d[ve[0]],_e=m.level,Se=ve[0]-1;Se>=0;Se--)if(!(n[Se]&s)){_e=d[Se];break}var we=ve[ve.length-1],Me=d[we],Ae=m.level;if(!(n[we]&a))for(var Ce=we+1;Ce<=m.end;Ce++)if(!(n[Ce]&s)){Ae=d[Ce];break}ce.push({_seqIndices:ve,_sosType:Math.max(_e,be)%2?S:_,_eosType:Math.max(Ae,Me)%2?S:_})}}for(var ke=0;ke<ce.length;ke++){var Te=ce[ke],Ee=Te._seqIndices,Ie=Te._sosType,Be=Te._eosType;if(u.get(P))for(var Pe=0;Pe<Ee.length;Pe++){var Re=Ee[Pe];if(n[Re]&P){for(var Le=Ie,De=Pe-1;De>=0;De--)if(!(n[Ee[De]]&s)){Le=n[Ee[De]];break}h(Re,Le&(a|G)?I:Le)}}if(u.get(w))for(var Fe=0;Fe<Ee.length;Fe++){var Ue=Ee[Fe];if(n[Ue]&w)for(var qe=Fe-1;qe>=-1;qe--){var Oe=-1===qe?Ie:n[Ee[qe]];if(Oe&i){Oe===R&&h(Ue,C);break}}}if(u.get(R))for(var ze=0;ze<Ee.length;ze++){var Ne=Ee[ze];n[Ne]&R&&h(Ne,S)}if(u.get(M)||u.get(k))for(var Ge=1;Ge<Ee.length-1;Ge++){var je=Ee[Ge];if(n[je]&(M|k)){for(var He=0,Ve=0,We=Ge-1;We>=0&&(He=n[Ee[We]])&s;We--);for(var Je=Ge+1;Je<Ee.length&&(Ve=n[Ee[Je]])&s;Je++);He===Ve&&(n[je]===M?He===w:He&(w|C))&&h(je,He)}}if(u.get(w))for(var Xe=0;Xe<Ee.length;Xe++){var Ke=Ee[Xe];if(n[Ke]&w){for(var Ye=Xe-1;Ye>=0&&n[Ee[Ye]]&(A|s);Ye--)h(Ee[Ye],w);for(var Qe=Xe+1;Qe<Ee.length&&n[Ee[Qe]]&(A|s);Qe++)h(Ee[Qe],w)}}if(u.get(A)||u.get(M)||u.get(k))for(var Ze=0;Ze<Ee.length;Ze++){var $e=Ee[Ze];if(n[$e]&(A|M|k)){h($e,I);for(var et=Ze-1;et>=0&&n[Ee[et]]&s;et--)h(Ee[et],I);for(var tt=Ze+1;tt<Ee.length&&n[Ee[tt]]&s;tt++)h(Ee[tt],I)}}if(u.get(w))for(var nt=0,rt=Ie;nt<Ee.length;nt++){var at=Ee[nt],it=n[at];it&w?rt===_&&h(at,_):it&i&&(rt=it)}if(u.get(o)){for(var ot=S|w|C,st=ot|_,lt=[],ut=[],ct=0;ct<Ee.length;ct++)if(n[Ee[ct]]&o){var ht=e[Ee[ct]],dt=void 0;if(null!==y(ht)){if(!(ut.length<63))break;ut.push({char:ht,seqIndex:ct})}else if(null!==(dt=x(ht)))for(var ft=ut.length-1;ft>=0;ft--){var pt=ut[ft].char;if(pt===dt||pt===x(b(ht))||y(b(pt))===ht){lt.push([ut[ft].seqIndex,ct]),ut.length=ft;break}}}lt.sort((function(e,t){return e[0]-t[0]}));for(var mt=0;mt<lt.length;mt++){for(var vt=lt[mt],gt=vt[0],yt=vt[1],xt=!1,bt=0,_t=gt+1;_t<yt;_t++){var St=Ee[_t];if(n[St]&st){xt=!0;var wt=n[St]&ot?S:_;if(wt===jt(St)){bt=wt;break}}}if(xt&&!bt){bt=Ie;for(var Mt=gt-1;Mt>=0;Mt--){var At=Ee[Mt];if(n[At]&st){var Ct=n[At]&ot?S:_;bt=Ct!==jt(At)?Ct:jt(At);break}}}if(bt){if(n[Ee[gt]]=n[Ee[yt]]=bt,bt!==jt(Ee[gt]))for(var kt=gt+1;kt<Ee.length;kt++)if(!(n[Ee[kt]]&s)){c(e[Ee[kt]])&P&&(n[Ee[kt]]=bt);break}if(bt!==jt(Ee[yt]))for(var Tt=yt+1;Tt<Ee.length;Tt++)if(!(n[Ee[Tt]]&s)){c(e[Ee[Tt]])&P&&(n[Ee[Tt]]=bt);break}}}for(var Et=0;Et<Ee.length;Et++)if(n[Ee[Et]]&o){for(var It=Et,Bt=Et,Pt=Ie,Rt=Et-1;Rt>=0;Rt--){if(!(n[Ee[Rt]]&s)){Pt=n[Ee[Rt]]&ot?S:_;break}It=Rt}for(var Lt=Be,Dt=Et+1;Dt<Ee.length;Dt++){if(!(n[Ee[Dt]]&(o|s))){Lt=n[Ee[Dt]]&ot?S:_;break}Bt=Dt}for(var Ft=It;Ft<=Bt;Ft++)n[Ee[Ft]]=Pt===Lt?Pt:jt(Ee[Ft]);Et=Bt}}}for(var Ut=m.start;Ut<=m.end;Ut++){var qt=d[Ut],Ot=n[Ut];if(1&qt?Ot&(_|w|C)&&d[Ut]++:Ot&S?d[Ut]++:Ot&(C|w)&&(d[Ut]+=2),Ot&s&&(d[Ut]=0===Ut?m.level:d[Ut-1]),Ut===m.end||c(e[Ut])&(E|T))for(var zt=Ut;zt>=0&&c(e[zt])&l;zt--)d[zt]=m.level}}return{levels:d,paragraphs:p};function Nt(t,r){for(var i=t;i<e.length;i++){var o=n[i];if(o&(S|R))return 1;if(o&(T|_)||r&&o===G)return 0;if(o&a){var s=Gt(i);i=-1===s?e.length:s}}return 0}function Gt(t){for(var r=1,i=t+1;i<e.length;i++){var o=n[i];if(o&T)break;if(o&G){if(0===--r)return i}else o&a&&r++}return-1}function jt(e){return 1&d[e]?S:_}},e.getMirroredCharacter=H,e.getMirroredCharactersMap=function(e,t,n,r){var a=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(a-1,null==r?a-1:+r);for(var i=new Map,o=n;o<=r;o++)if(1&t[o]){var s=H(e[o]);null!==s&&i.set(o,s)}return i},e.getReorderSegments=V,e.getReorderedIndices=W,e.getReorderedString=function(e,t,n,r){var a=W(e,t,n,r),i=[].concat(e);return a.forEach((function(n,r){i[r]=(1&t.levels[n]?H(e[n]):null)||e[n]})),i.join("")},e.openingToClosingBracket=y,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e},Ay=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Cy(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){var n=so[t];return n?Cy(n):e}))}for(var ky=[],Ty=0;Ty<256;Ty++)ky[Ty]=(Ty<16?"0":"")+Ty.toString(16);var Ey=Object.assign||function(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++){var r=arguments[t];if(r)for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a])}return e},Iy=Date.now(),By=new WeakMap,Py=new Map,Ry=1e10;function Ly(e,t){var n=function(e){var t=JSON.stringify(e,Fy),n=qy.get(t);null==n&&qy.set(t,n=++Uy);return n}(t),r=By.get(e);if(r||By.set(e,r=Object.create(null)),r[n])return new r[n];var a="_onBeforeCompile".concat(n),i=function(r){e.onBeforeCompile.call(this,r);var i=this.customProgramCacheKey()+"|"+r.vertexShader+"|"+r.fragmentShader,o=Py[i];if(!o){var s=function(e,t,n){var r=e.vertexShader,a=e.fragmentShader,i=t.vertexDefs,o=t.vertexMainIntro,s=t.vertexMainOutro,l=t.vertexTransform,u=t.fragmentDefs,c=t.fragmentMainIntro,h=t.fragmentMainOutro,d=t.fragmentColorTransform,f=t.customRewriter,p=t.timeUniform;i=i||"",o=o||"",s=s||"",u=u||"",c=c||"",h=h||"",(l||f)&&(r=Cy(r));(d||f)&&(a=Cy(a=a.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n")));if(f){var m=f({vertexShader:r,fragmentShader:a});r=m.vertexShader,a=m.fragmentShader}if(d){var v=[];a=a.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,(function(e){return v.push(e),""})),h="".concat(d,"\n").concat(v.join("\n"),"\n").concat(h)}if(p){var g="\nuniform float ".concat(p,";\n");i=g+i,u=g+u}l&&(r="vec3 troika_position_".concat(n,";\nvec3 troika_normal_").concat(n,";\nvec2 troika_uv_").concat(n,";\n").concat(r,"\n"),i="".concat(i,"\nvoid troikaVertexTransform").concat(n,"(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ").concat(l,"\n}\n"),o="\ntroika_position_".concat(n," = vec3(position);\ntroika_normal_").concat(n," = vec3(normal);\ntroika_uv_").concat(n," = vec2(uv);\ntroikaVertexTransform").concat(n,"(troika_position_").concat(n,", troika_normal_").concat(n,", troika_uv_").concat(n,");\n").concat(o,"\n"),r=r.replace(/\b(position|normal|uv)\b/g,(function(e,t,r,a){return/\battribute\s+vec[23]\s+$/.test(a.substr(0,r))?t:"troika_".concat(t,"_").concat(n)})));return r=Dy(r,n,i,o,s),a=Dy(a,n,u,c,h),{vertexShader:r,fragmentShader:a}}(r,t,n);o=Py[i]=s}r.vertexShader=o.vertexShader,r.fragmentShader=o.fragmentShader,Ey(r.uniforms,this.uniforms),t.timeUniform&&(r.uniforms[t.timeUniform]={get value(){return Date.now()-Iy}}),this[a]&&this[a](r)},o=function(){return s(t.chained?e:e.clone())},s=function(r){var a=Object.create(r,l);return Object.defineProperty(a,"baseMaterial",{value:e}),Object.defineProperty(a,"id",{value:Ry++}),a.uuid=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(ky[255&e]+ky[e>>8&255]+ky[e>>16&255]+ky[e>>24&255]+"-"+ky[255&t]+ky[t>>8&255]+"-"+ky[t>>16&15|64]+ky[t>>24&255]+"-"+ky[63&n|128]+ky[n>>8&255]+"-"+ky[n>>16&255]+ky[n>>24&255]+ky[255&r]+ky[r>>8&255]+ky[r>>16&255]+ky[r>>24&255]).toUpperCase()}(),a.uniforms=Ey({},r.uniforms,t.uniforms),a.defines=Ey({},r.defines,t.defines),a.defines["TROIKA_DERIVED_MATERIAL_".concat(n)]="",a.extensions=Ey({},r.extensions,t.extensions),a._listeners=void 0,a},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get:function(){return i},set:function(e){this[a]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(Ey(this.extensions,t.extensions),Ey(this.defines,t.defines),Ey(this.uniforms,ji.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){var t=new e.constructor;return s(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){var n=this._depthMaterial;return n||((n=this._depthMaterial=Ly(e.isDerivedMaterial?e.getDepthMaterial():new _l({depthPacking:dn}),t)).defines.IS_DEPTH_MATERIAL="",n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){var n=this._distanceMaterial;return n||((n=this._distanceMaterial=Ly(e.isDerivedMaterial?e.getDistanceMaterial():new Sl,t)).defines.IS_DISTANCE_MATERIAL="",n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value:function(){var t=this._depthMaterial,n=this._distanceMaterial;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return r[n]=o,new o}function Dy(e,t,n,r,a){return(r||a||n)&&(e=e.replace(Ay,"\n".concat(n,"\nvoid troikaOrigMain").concat(t,"() {")),e+="\nvoid main() {\n  ".concat(r,"\n  troikaOrigMain").concat(t,"();\n  ").concat(a,"\n}")),e}function Fy(e,t){return"uniforms"===e?void 0:"function"===typeof t?t.toString():t}var Uy=0,qy=new Map;var Oy,zy=function(){return(self.performance||Date).now()},Ny=wy();var Gy=function(){var e=[],t=0;function n(){for(var r=zy();e.length&&zy()-r<5;)e.shift()();t=e.length?setTimeout(n,0):0}return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=cy();return e.push((function(){var e=zy();try{var t;(t=Ny.webgl).generateIntoCanvas.apply(t,a),o.resolve({timing:zy()-e})}catch(n){o.reject(n)}})),t||(t=setTimeout(n,0)),o}}(),jy=function(){var e={},t=0;return function(n,r,a,i,o,s,l,u,c,h){var d="TroikaTextSDFGenerator_JS_"+t++%4,f=e[d];return f||(f=e[d]={workerModule:xy({name:d,workerId:d,dependencies:[wy,zy],init:function(e,t){var n=e().javascript.generate;return function(){var e=t(),r=n.apply(void 0,arguments);return{textureData:r,timing:t()-e}}},getTransferables:function(e){return[e.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(n,r,a,i,o,s).then((function(e){for(var t=e.textureData,a=e.timing,i=zy(),o=new Uint8Array(4*t.length),s=0;s<t.length;s++)o[4*s+h]=t[s];return Ny.webglUtils.renderImageData(l,o,u,c,n,r,1<<3-h),a+=zy()-i,0===--f.requests&&(f.idleTimer=setTimeout((function(){!function(e){gy[e]&&gy[e].forEach((function(e){e()})),vy[e]&&(vy[e].terminate(),delete vy[e])}(d)}),2e3)),{timing:a}}))}}();var Hy=Ny.webglUtils.resizeWebGLCanvasWithoutClearing;var Vy=xy({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),function(e){var t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var a=4;n.readUshort(r,a),a+=2,n.readUshort(r,a),a+=2;var i=n.readUint(r,a);a+=4;for(var o=[],s=0;s<i;s++){var l=n.readUint(r,a);a+=4,o.push(t._readFont(r,l))}return o}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,a=n;r.readFixed(e,n),n+=4;var i=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],s={_data:e,_offset:a},l={},u=0;u<i;u++){var c=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var h=r.readUint(e,n);n+=4;var d=r.readUint(e,n);n+=4,l[c]={offset:h,length:d}}for(u=0;u<o.length;u++){var f=o[u];l[f]&&(s[f.trim()]=t[f.trim()].parse(e,l[f].offset,l[f].length,s))}return s},_tabOffset:function(e,n,r){for(var a=t._bin,i=a.readUshort(e,r+4),o=r+12,s=0;s<i;s++){var l=a.readASCII(e,o,4);o+=4,a.readUint(e,o),o+=4;var u=a.readUint(e,o);if(o+=4,a.readUint(e,o),o+=4,l==n)return u}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,r){for(var a=[],i=0;i<r;i++)a.push(t._bin.readUshort(e,n+2*i));return a},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",a=0;a<n;a++)r+=String.fromCharCode(e[t+a]);return r},readUnicode:function(e,t,n){for(var r="",a=0;a<n;a++){var i=e[t++]<<8|e[t++];r+=String.fromCharCode(i)}return r},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,r){var a=t._bin._tdec;return a&&0==n&&r==e.length?a.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],a=0;a<n;a++)r.push(e[t+a]);return r},readASCIIArray:function(e,t,n){for(var r=[],a=0;a<n;a++)r.push(String.fromCharCode(e[t+a]));return r},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,n,r,a,i){var o=t._bin,s={},l=n;o.readFixed(e,n),n+=4;var u=o.readUshort(e,n);n+=2;var c=o.readUshort(e,n);n+=2;var h=o.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,l+u),s.featureList=t._lctf.readFeatureList(e,l+c),s.lookupList=t._lctf.readLookupList(e,l+h,i),s},t._lctf.readLookupList=function(e,n,r){var a=t._bin,i=n,o=[],s=a.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=a.readUshort(e,n);n+=2;var c=t._lctf.readLookupTable(e,i+u,r);o.push(c)}return o},t._lctf.readLookupTable=function(e,n,r){var a=t._bin,i=n,o={tabs:[]};o.ltype=a.readUshort(e,n),n+=2,o.flag=a.readUshort(e,n),n+=2;var s=a.readUshort(e,n);n+=2;for(var l=o.ltype,u=0;u<s;u++){var c=a.readUshort(e,n);n+=2;var h=r(e,l,i+c,o);o.tabs.push(h)}return o},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,a=[],i=r.readUshort(e,n);if(n+=2,1==i){var o=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++)a.push(o+l),a.push(o+l),a.push(r.readUshort(e,n)),n+=2}if(2==i){var u=r.readUshort(e,n);for(n+=2,l=0;l<u;l++)a.push(r.readUshort(e,n)),n+=2,a.push(r.readUshort(e,n)),n+=2,a.push(r.readUshort(e,n)),n+=2}return a},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],a=e[n+1];if(e[n+2],r<=t&&t<=a)return n}return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,a={};a.fmt=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);return n+=2,1==a.fmt&&(a.tab=r.readUshorts(e,n,i)),2==a.fmt&&(a.tab=r.readUshorts(e,n,3*i)),a},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var a=t._lctf.getInterval(r,n);if(-1!=a)return r[a+2]+(n-r[a])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2;var c=t._lctf.readFeatureTable(e,a+u);c.tag=l.trim(),i.push(c)}return i},t._lctf.readFeatureTable=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2,o>0&&(i.featureParams=a+o);var s=r.readUshort(e,n);n+=2,i.tab=[];for(var l=0;l<s;l++)i.tab.push(r.readUshort(e,n+2*l));return i},t._lctf.readScriptList=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2,i[l.trim()]=t._lctf.readScriptTable(e,a+u)}return i},t._lctf.readScriptTable=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2,i.default=t._lctf.readLangSysTable(e,a+o);var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,i[u.trim()]=t._lctf.readLangSysTable(e,a+c)}return i},t._lctf.readLangSysTable=function(e,n){var r=t._bin,a={};r.readUshort(e,n),n+=2,a.reqFeature=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);return n+=2,a.features=r.readUshorts(e,n,i),a},t.CFF={},t.CFF.parse=function(e,n,r){var a=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var i=[];n=t.CFF.readIndex(e,n,i);for(var o=[],s=0;s<i.length-1;s++)o.push(a.readASCII(e,n+i[s],i[s+1]-i[s]));n+=i[i.length-1];var l=[];n=t.CFF.readIndex(e,n,l);var u=[];for(s=0;s<l.length-1;s++)u.push(t.CFF.readDict(e,n+l[s],n+l[s+1]));n+=l[l.length-1];var c=u[0],h=[];n=t.CFF.readIndex(e,n,h);var d=[];for(s=0;s<h.length-1;s++)d.push(a.readASCII(e,n+h[s],h[s+1]-h[s]));if(n+=h[h.length-1],t.CFF.readSubrs(e,n,c),c.CharStrings){n=c.CharStrings,h=[],n=t.CFF.readIndex(e,n,h);var f=[];for(s=0;s<h.length-1;s++)f.push(a.readBytes(e,n+h[s],h[s+1]-h[s]));c.CharStrings=f}if(c.ROS){n=c.FDArray;var p=[];for(n=t.CFF.readIndex(e,n,p),c.FDArray=[],s=0;s<p.length-1;s++){var m=t.CFF.readDict(e,n+p[s],n+p[s+1]);t.CFF._readFDict(e,m,d),c.FDArray.push(m)}n+=p[p.length-1],n=c.FDSelect,c.FDSelect=[];var v=e[n];if(n++,3!=v)throw v;var g=a.readUshort(e,n);for(n+=2,s=0;s<g+1;s++)c.FDSelect.push(a.readUshort(e,n),e[n+2]),n+=3}return c.Encoding&&(c.Encoding=t.CFF.readEncoding(e,c.Encoding,c.CharStrings.length)),c.charset&&(c.charset=t.CFF.readCharset(e,c.charset,c.CharStrings.length)),t.CFF._readFDict(e,c,d),c},t.CFF._readFDict=function(e,n,r){var a;for(var i in n.Private&&(a=n.Private[1],n.Private=t.CFF.readDict(e,a,a+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,a+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(i)&&(n[i]=r[n[i]-426+35])},t.CFF.readSubrs=function(e,n,r){var a=t._bin,i=[];n=t.CFF.readIndex(e,n,i);var o,s=i.length;o=s<1240?107:s<33900?1131:32768,r.Bias=o,r.Subrs=[];for(var l=0;l<i.length-1;l++)r.Subrs.push(a.readBytes(e,n+i[l],i[l+1]-i[l]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var a=[".notdef"],i=e[n];if(n++,0!=i)throw"error: unknown encoding format: "+i;var o=e[n];n++;for(var s=0;s<o;s++)a.push(e[n+s]);return a},t.CFF.readCharset=function(e,n,r){var a=t._bin,i=[".notdef"],o=e[n];if(n++,0==o)for(var s=0;s<r;s++){var l=a.readUshort(e,n);n+=2,i.push(l)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;i.length<r;){l=a.readUshort(e,n),n+=2;var u=0;for(1==o?(u=e[n],n++):(u=a.readUshort(e,n),n+=2),s=0;s<=u;s++)i.push(l),l++}}return i},t.CFF.readIndex=function(e,n,r){var a=t._bin,i=a.readUshort(e,n)+1,o=e[n+=2];if(n++,1==o)for(var s=0;s<i;s++)r.push(e[n+s]);else if(2==o)for(s=0;s<i;s++)r.push(a.readUshort(e,n+2*s));else if(3==o)for(s=0;s<i;s++)r.push(16777215&a.readUint(e,n+3*s-1));else if(1!=i)throw"unsupported offset size: "+o+", count: "+i;return(n+=i*o)-1},t.CFF.getCharString=function(e,n,r){var a=t._bin,i=e[n],o=e[n+1];e[n+2],e[n+3],e[n+4];var s=1,l=null,u=null;i<=20&&(l=i,s=1),12==i&&(l=100*i+o,s=2),21<=i&&i<=27&&(l=i,s=1),28==i&&(u=a.readShort(e,n+1),s=3),29<=i&&i<=31&&(l=i,s=1),32<=i&&i<=246&&(u=i-139,s=1),247<=i&&i<=250&&(u=256*(i-247)+o+108,s=2),251<=i&&i<=254&&(u=256*-(i-251)-o-108,s=2),255==i&&(u=a.readInt(e,n+1)/65535,s=5),r.val=null!=u?u:"o"+l,r.size=s},t.CFF.readCharString=function(e,n,r){for(var a=n+r,i=t._bin,o=[];n<a;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,c=null,h=null;s<=20&&(c=s,u=1),12==s&&(c=100*s+l,u=2),19!=s&&20!=s||(c=s,u=2),21<=s&&s<=27&&(c=s,u=1),28==s&&(h=i.readShort(e,n+1),u=3),29<=s&&s<=31&&(c=s,u=1),32<=s&&s<=246&&(h=s-139,u=1),247<=s&&s<=250&&(h=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(h=256*-(s-251)-l-108,u=2),255==s&&(h=i.readInt(e,n+1)/65535,u=5),o.push(null!=h?h:"o"+c),n+=u}return o},t.CFF.readDict=function(e,n,r){for(var a=t._bin,i={},o=[];n<r;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,c=null,h=null;if(28==s&&(h=a.readShort(e,n+1),u=3),29==s&&(h=a.readInt(e,n+1),u=5),32<=s&&s<=246&&(h=s-139,u=1),247<=s&&s<=250&&(h=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(h=256*-(s-251)-l-108,u=2),255==s)throw h=a.readInt(e,n+1)/65535,u=5,"unknown number";if(30==s){var d=[];for(u=1;;){var f=e[n+u];u++;var p=f>>4,m=15&f;if(15!=p&&d.push(p),15!=m&&d.push(m),15==m)break}for(var v="",g=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<d.length;y++)v+=g[d[y]];h=parseFloat(v)}s<=21&&(c=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],u=1,12==s&&(c=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],u=2)),null!=c?(i[c]=1==o.length?o[0]:o,o=[]):o.push(h),n+=u}return i},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var a=t._bin,i={};a.readUshort(e,n),n+=2;var o=a.readUshort(e,n);n+=2;var s=[];i.tables=[];for(var l=0;l<o;l++){var u=a.readUshort(e,n);n+=2;var c=a.readUshort(e,n);n+=2;var h=a.readUint(e,n);n+=4;var d="p"+u+"e"+c,f=s.indexOf(h);if(-1==f){var p;f=i.tables.length,s.push(h);var m=a.readUshort(e,h);0==m?p=t.cmap.parse0(e,h):4==m?p=t.cmap.parse4(e,h):6==m?p=t.cmap.parse6(e,h):12==m?p=t.cmap.parse12(e,h):console.debug("unknown format: "+m,u,c,h),i.tables.push(p)}if(null!=i[d])throw"multiple tables for one platform+encoding";i[d]=f}return i},t.cmap.parse0=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,a.map=[];for(var o=0;o<i-6;o++)a.map.push(e[n+o]);return a},t.cmap.parse4=function(e,n){var r=t._bin,a=n,i={};i.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var l=s/2;i.searchRange=r.readUshort(e,n),n+=2,i.entrySelector=r.readUshort(e,n),n+=2,i.rangeShift=r.readUshort(e,n),n+=2,i.endCount=r.readUshorts(e,n,l),n+=2*l,n+=2,i.startCount=r.readUshorts(e,n,l),n+=2*l,i.idDelta=[];for(var u=0;u<l;u++)i.idDelta.push(r.readShort(e,n)),n+=2;for(i.idRangeOffset=r.readUshorts(e,n,l),n+=2*l,i.glyphIdArray=[];n<a+o;)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse6=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,a.firstCode=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2,a.glyphIdArray=[];for(var o=0;o<i;o++)a.glyphIdArray.push(r.readUshort(e,n)),n+=2;return a},t.cmap.parse12=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var i=r.readUint(e,n);n+=4,a.groups=[];for(var o=0;o<i;o++){var s=n+12*o,l=r.readUint(e,s+0),u=r.readUint(e,s+4),c=r.readUint(e,s+8);a.groups.push([l,u,c])}return a},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var a=[],i=0;i<r.maxp.numGlyphs;i++)a.push(null);return a},t.glyf._parseGlyf=function(e,n){var r=t._bin,a=e._data,i=t._tabOffset(a,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var o={};if(o.noc=r.readShort(a,i),i+=2,o.xMin=r.readShort(a,i),i+=2,o.yMin=r.readShort(a,i),i+=2,o.xMax=r.readShort(a,i),i+=2,o.yMax=r.readShort(a,i),i+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var s=0;s<o.noc;s++)o.endPts.push(r.readUshort(a,i)),i+=2;var l=r.readUshort(a,i);if(i+=2,a.length-i<l)return null;o.instructions=r.readBytes(a,i,l),i+=l;var u=o.endPts[o.noc-1]+1;for(o.flags=[],s=0;s<u;s++){var c=a[i];if(i++,o.flags.push(c),0!=(8&c)){var h=a[i];i++;for(var d=0;d<h;d++)o.flags.push(c),s++}}for(o.xs=[],s=0;s<u;s++){var f=0!=(2&o.flags[s]),p=0!=(16&o.flags[s]);f?(o.xs.push(p?a[i]:-a[i]),i++):p?o.xs.push(0):(o.xs.push(r.readShort(a,i)),i+=2)}for(o.ys=[],s=0;s<u;s++)f=0!=(4&o.flags[s]),p=0!=(32&o.flags[s]),f?(o.ys.push(p?a[i]:-a[i]),i++):p?o.ys.push(0):(o.ys.push(r.readShort(a,i)),i+=2);var m=0,v=0;for(s=0;s<u;s++)m+=o.xs[s],v+=o.ys[s],o.xs[s]=m,o.ys[s]=v}else{var g;o.parts=[];do{g=r.readUshort(a,i),i+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(y),y.glyphIndex=r.readUshort(a,i),i+=2,1&g){var x=r.readShort(a,i);i+=2;var b=r.readShort(a,i);i+=2}else x=r.readInt8(a,i),i++,b=r.readInt8(a,i),i++;2&g?(y.m.tx=x,y.m.ty=b):(y.p1=x,y.p2=b),8&g?(y.m.a=y.m.d=r.readF2dot14(a,i),i+=2):64&g?(y.m.a=r.readF2dot14(a,i),i+=2,y.m.d=r.readF2dot14(a,i),i+=2):128&g&&(y.m.a=r.readF2dot14(a,i),i+=2,y.m.b=r.readF2dot14(a,i),i+=2,y.m.c=r.readF2dot14(a,i),i+=2,y.m.d=r.readF2dot14(a,i),i+=2)}while(32&g);if(256&g){var _=r.readUshort(a,i);for(i+=2,o.instr=[],s=0;s<_;s++)o.instr.push(a[i]),i++}}return o},t.GPOS={},t.GPOS.parse=function(e,n,r,a){return t._lctf.parse(e,n,r,a,t.GPOS.subt)},t.GPOS.subt=function(e,n,r,a){var i=t._bin,o=r,s={};if(s.fmt=i.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&s.fmt<=2){var l=i.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,l+o)}if(1==n&&1==s.fmt){var u=i.readUshort(e,r);r+=2;var c=t._lctf.numOfOnes(u);0!=u&&(s.pos=t.GPOS.readValueRecord(e,r,u))}else if(2==n&&s.fmt>=1&&s.fmt<=2){u=i.readUshort(e,r),r+=2;var h=i.readUshort(e,r);r+=2,c=t._lctf.numOfOnes(u);var d=t._lctf.numOfOnes(h);if(1==s.fmt){s.pairsets=[];var f=i.readUshort(e,r);r+=2;for(var p=0;p<f;p++){var m=o+i.readUshort(e,r);r+=2;var v=i.readUshort(e,m);m+=2;for(var g=[],y=0;y<v;y++){var x=i.readUshort(e,m);m+=2,0!=u&&(A=t.GPOS.readValueRecord(e,m,u),m+=2*c),0!=h&&(C=t.GPOS.readValueRecord(e,m,h),m+=2*d),g.push({gid2:x,val1:A,val2:C})}s.pairsets.push(g)}}if(2==s.fmt){var b=i.readUshort(e,r);r+=2;var _=i.readUshort(e,r);r+=2;var S=i.readUshort(e,r);r+=2;var w=i.readUshort(e,r);for(r+=2,s.classDef1=t._lctf.readClassDef(e,o+b),s.classDef2=t._lctf.readClassDef(e,o+_),s.matrix=[],p=0;p<S;p++){var M=[];for(y=0;y<w;y++){var A=null,C=null;0!=u&&(A=t.GPOS.readValueRecord(e,r,u),r+=2*c),0!=h&&(C=t.GPOS.readValueRecord(e,r,h),r+=2*d),M.push({val1:A,val2:C})}s.matrix.push(M)}}}else{if(9==n&&1==s.fmt){var k=i.readUshort(e,r);r+=2;var T=i.readUint(e,r);if(r+=4,9==a.ltype)a.ltype=k;else if(a.ltype!=k)throw"invalid extension substitution";return t.GPOS.subt(e,a.ltype,o+T)}console.debug("unsupported GPOS table LookupType",n,"format",s.fmt)}return s},t.GPOS.readValueRecord=function(e,n,r){var a=t._bin,i=[];return i.push(1&r?a.readShort(e,n):0),n+=1&r?2:0,i.push(2&r?a.readShort(e,n):0),n+=2&r?2:0,i.push(4&r?a.readShort(e,n):0),n+=4&r?2:0,i.push(8&r?a.readShort(e,n):0),n+=8&r?2:0,i},t.GSUB={},t.GSUB.parse=function(e,n,r,a){return t._lctf.parse(e,n,r,a,t.GSUB.subt)},t.GSUB.subt=function(e,n,r,a){var i=t._bin,o=r,s={};if(s.fmt=i.readUshort(e,r),r+=2,1!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||4==n||5==n&&s.fmt<=2||6==n&&s.fmt<=2){var l=i.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,o+l)}if(1==n&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=i.readShort(e,r),r+=2;else if(2==s.fmt){var u=i.readUshort(e,r);r+=2,s.newg=i.readUshorts(e,r,u),r+=2*s.newg.length}}else if(4==n){s.vals=[],u=i.readUshort(e,r),r+=2;for(var c=0;c<u;c++){var h=i.readUshort(e,r);r+=2,s.vals.push(t.GSUB.readLigatureSet(e,o+h))}}else if(5==n&&2==s.fmt){if(2==s.fmt){var d=i.readUshort(e,r);r+=2,s.cDef=t._lctf.readClassDef(e,o+d),s.scset=[];var f=i.readUshort(e,r);for(r+=2,c=0;c<f;c++){var p=i.readUshort(e,r);r+=2,s.scset.push(0==p?null:t.GSUB.readSubClassSet(e,o+p))}}}else if(6==n&&3==s.fmt){if(3==s.fmt){for(c=0;c<3;c++){u=i.readUshort(e,r),r+=2;for(var m=[],v=0;v<u;v++)m.push(t._lctf.readCoverage(e,o+i.readUshort(e,r+2*v)));r+=2*u,0==c&&(s.backCvg=m),1==c&&(s.inptCvg=m),2==c&&(s.ahedCvg=m)}u=i.readUshort(e,r),r+=2,s.lookupRec=t.GSUB.readSubstLookupRecords(e,r,u)}}else{if(7==n&&1==s.fmt){var g=i.readUshort(e,r);r+=2;var y=i.readUint(e,r);if(r+=4,9==a.ltype)a.ltype=g;else if(a.ltype!=g)throw"invalid extension substitution";return t.GSUB.subt(e,a.ltype,o+y)}console.debug("unsupported GSUB table LookupType",n,"format",s.fmt)}return s},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,a=n,i=[],o=r(e,n);n+=2;for(var s=0;s<o;s++){var l=r(e,n);n+=2,i.push(t.GSUB.readSubClassRule(e,a+l))}return i},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,a={},i=r(e,n),o=r(e,n+=2);n+=2,a.input=[];for(var s=0;s<i-1;s++)a.input.push(r(e,n)),n+=2;return a.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,o),a},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var a=t._bin.readUshort,i=[],o=0;o<r;o++)i.push(a(e,n),a(e,n+2)),n+=4;return i},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,i.push(t.GSUB.readChainSubClassRule(e,a+l))}return i},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,a={},i=["backtrack","input","lookahead"],o=0;o<i.length;o++){var s=r.readUshort(e,n);n+=2,1==o&&s--,a[i[o]]=r.readUshorts(e,n,s),n+=2*a[i[o]].length}return s=r.readUshort(e,n),n+=2,a.subst=r.readUshorts(e,n,2*s),n+=2*a.subst.length,a},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,i.push(t.GSUB.readLigature(e,a+l))}return i},t.GSUB.readLigature=function(e,n){var r=t._bin,a={chain:[]};a.nglyph=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2;for(var o=0;o<i-1;o++)a.chain.push(r.readUshort(e,n)),n+=2;return a},t.head={},t.head.parse=function(e,n,r){var a=t._bin,i={};return a.readFixed(e,n),n+=4,i.fontRevision=a.readFixed(e,n),n+=4,a.readUint(e,n),n+=4,a.readUint(e,n),n+=4,i.flags=a.readUshort(e,n),n+=2,i.unitsPerEm=a.readUshort(e,n),n+=2,i.created=a.readUint64(e,n),n+=8,i.modified=a.readUint64(e,n),n+=8,i.xMin=a.readShort(e,n),n+=2,i.yMin=a.readShort(e,n),n+=2,i.xMax=a.readShort(e,n),n+=2,i.yMax=a.readShort(e,n),n+=2,i.macStyle=a.readUshort(e,n),n+=2,i.lowestRecPPEM=a.readUshort(e,n),n+=2,i.fontDirectionHint=a.readShort(e,n),n+=2,i.indexToLocFormat=a.readShort(e,n),n+=2,i.glyphDataFormat=a.readShort(e,n),n+=2,i},t.hhea={},t.hhea.parse=function(e,n,r){var a=t._bin,i={};return a.readFixed(e,n),n+=4,i.ascender=a.readShort(e,n),n+=2,i.descender=a.readShort(e,n),n+=2,i.lineGap=a.readShort(e,n),n+=2,i.advanceWidthMax=a.readUshort(e,n),n+=2,i.minLeftSideBearing=a.readShort(e,n),n+=2,i.minRightSideBearing=a.readShort(e,n),n+=2,i.xMaxExtent=a.readShort(e,n),n+=2,i.caretSlopeRise=a.readShort(e,n),n+=2,i.caretSlopeRun=a.readShort(e,n),n+=2,i.caretOffset=a.readShort(e,n),n+=2,n+=8,i.metricDataFormat=a.readShort(e,n),n+=2,i.numberOfHMetrics=a.readUshort(e,n),n+=2,i},t.hmtx={},t.hmtx.parse=function(e,n,r,a){for(var i=t._bin,o={aWidth:[],lsBearing:[]},s=0,l=0,u=0;u<a.maxp.numGlyphs;u++)u<a.hhea.numberOfHMetrics&&(s=i.readUshort(e,n),n+=2,l=i.readShort(e,n),n+=2),o.aWidth.push(s),o.lsBearing.push(l);return o},t.kern={},t.kern.parse=function(e,n,r,a){var i=t._bin,o=i.readUshort(e,n);if(n+=2,1==o)return t.kern.parseV1(e,n-2,r,a);var s=i.readUshort(e,n);n+=2;for(var l={glyph1:[],rval:[]},u=0;u<s;u++){n+=2,r=i.readUshort(e,n),n+=2;var c=i.readUshort(e,n);n+=2;var h=c>>>8;if(0!=(h&=15))throw"unknown kern table format: "+h;n=t.kern.readFormat0(e,n,l)}return l},t.kern.parseV1=function(e,n,r,a){var i=t._bin;i.readFixed(e,n),n+=4;var o=i.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},l=0;l<o;l++){i.readUint(e,n),n+=4;var u=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2;var c=u>>>8;if(0!=(c&=15))throw"unknown kern table format: "+c;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var a=t._bin,i=-1,o=a.readUshort(e,n);n+=2,a.readUshort(e,n),n+=2,a.readUshort(e,n),n+=2,a.readUshort(e,n),n+=2;for(var s=0;s<o;s++){var l=a.readUshort(e,n);n+=2;var u=a.readUshort(e,n);n+=2;var c=a.readShort(e,n);n+=2,l!=i&&(r.glyph1.push(l),r.rval.push({glyph2:[],vals:[]}));var h=r.rval[r.rval.length-1];h.glyph2.push(u),h.vals.push(c),i=l}return n},t.loca={},t.loca.parse=function(e,n,r,a){var i=t._bin,o=[],s=a.head.indexToLocFormat,l=a.maxp.numGlyphs+1;if(0==s)for(var u=0;u<l;u++)o.push(i.readUshort(e,n+(u<<1))<<1);if(1==s)for(u=0;u<l;u++)o.push(i.readUint(e,n+(u<<2)));return o},t.maxp={},t.maxp.parse=function(e,n,r){var a=t._bin,i={},o=a.readUint(e,n);return n+=4,i.numGlyphs=a.readUshort(e,n),n+=2,65536==o&&(i.maxPoints=a.readUshort(e,n),n+=2,i.maxContours=a.readUshort(e,n),n+=2,i.maxCompositePoints=a.readUshort(e,n),n+=2,i.maxCompositeContours=a.readUshort(e,n),n+=2,i.maxZones=a.readUshort(e,n),n+=2,i.maxTwilightPoints=a.readUshort(e,n),n+=2,i.maxStorage=a.readUshort(e,n),n+=2,i.maxFunctionDefs=a.readUshort(e,n),n+=2,i.maxInstructionDefs=a.readUshort(e,n),n+=2,i.maxStackElements=a.readUshort(e,n),n+=2,i.maxSizeOfInstructions=a.readUshort(e,n),n+=2,i.maxComponentElements=a.readUshort(e,n),n+=2,i.maxComponentDepth=a.readUshort(e,n),n+=2),i},t.name={},t.name.parse=function(e,n,r){var a=t._bin,i={};a.readUshort(e,n),n+=2;var o=a.readUshort(e,n);n+=2,a.readUshort(e,n);for(var s,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],u=n+=2,c=0;c<o;c++){var h=a.readUshort(e,n);n+=2;var d=a.readUshort(e,n);n+=2;var f=a.readUshort(e,n);n+=2;var p=a.readUshort(e,n);n+=2;var m=a.readUshort(e,n);n+=2;var v=a.readUshort(e,n);n+=2;var g,y=l[p],x=u+12*o+v;if(0==h)g=a.readUnicode(e,x,m/2);else if(3==h&&0==d)g=a.readUnicode(e,x,m/2);else if(0==d)g=a.readASCII(e,x,m);else if(1==d)g=a.readUnicode(e,x,m/2);else if(3==d)g=a.readUnicode(e,x,m/2);else{if(1!=h)throw"unknown encoding "+d+", platformID: "+h;g=a.readASCII(e,x,m),console.debug("reading unknown MAC encoding "+d+" as ASCII")}var b="p"+h+","+f.toString(16);null==i[b]&&(i[b]={}),i[b][void 0!==y?y:p]=g,i[b]._lang=f}for(var _ in i)if(null!=i[_].postScriptName&&1033==i[_]._lang)return i[_];for(var _ in i)if(null!=i[_].postScriptName&&0==i[_]._lang)return i[_];for(var _ in i)if(null!=i[_].postScriptName&&3084==i[_]._lang)return i[_];for(var _ in i)if(null!=i[_].postScriptName)return i[_];for(var _ in i){s=_;break}return console.debug("returning name table with languageID "+i[s]._lang),i[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var a=t._bin.readUshort(e,n);n+=2;var i={};if(0==a)t["OS/2"].version0(e,n,i);else if(1==a)t["OS/2"].version1(e,n,i);else if(2==a||3==a||4==a)t["OS/2"].version2(e,n,i);else{if(5!=a)throw"unknown OS/2 table version: "+a;t["OS/2"].version5(e,n,i)}return i},t["OS/2"].version0=function(e,n,r){var a=t._bin;return r.xAvgCharWidth=a.readShort(e,n),n+=2,r.usWeightClass=a.readUshort(e,n),n+=2,r.usWidthClass=a.readUshort(e,n),n+=2,r.fsType=a.readUshort(e,n),n+=2,r.ySubscriptXSize=a.readShort(e,n),n+=2,r.ySubscriptYSize=a.readShort(e,n),n+=2,r.ySubscriptXOffset=a.readShort(e,n),n+=2,r.ySubscriptYOffset=a.readShort(e,n),n+=2,r.ySuperscriptXSize=a.readShort(e,n),n+=2,r.ySuperscriptYSize=a.readShort(e,n),n+=2,r.ySuperscriptXOffset=a.readShort(e,n),n+=2,r.ySuperscriptYOffset=a.readShort(e,n),n+=2,r.yStrikeoutSize=a.readShort(e,n),n+=2,r.yStrikeoutPosition=a.readShort(e,n),n+=2,r.sFamilyClass=a.readShort(e,n),n+=2,r.panose=a.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=a.readUint(e,n),n+=4,r.ulUnicodeRange2=a.readUint(e,n),n+=4,r.ulUnicodeRange3=a.readUint(e,n),n+=4,r.ulUnicodeRange4=a.readUint(e,n),n+=4,r.achVendID=[a.readInt8(e,n),a.readInt8(e,n+1),a.readInt8(e,n+2),a.readInt8(e,n+3)],n+=4,r.fsSelection=a.readUshort(e,n),n+=2,r.usFirstCharIndex=a.readUshort(e,n),n+=2,r.usLastCharIndex=a.readUshort(e,n),n+=2,r.sTypoAscender=a.readShort(e,n),n+=2,r.sTypoDescender=a.readShort(e,n),n+=2,r.sTypoLineGap=a.readShort(e,n),n+=2,r.usWinAscent=a.readUshort(e,n),n+=2,r.usWinDescent=a.readUshort(e,n),n+2},t["OS/2"].version1=function(e,n,r){var a=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=a.readUint(e,n),n+=4,r.ulCodePageRange2=a.readUint(e,n),n+4},t["OS/2"].version2=function(e,n,r){var a=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=a.readShort(e,n),n+=2,r.sCapHeight=a.readShort(e,n),n+=2,r.usDefault=a.readUshort(e,n),n+=2,r.usBreak=a.readUshort(e,n),n+=2,r.usMaxContext=a.readUshort(e,n),n+2},t["OS/2"].version5=function(e,n,r){var a=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=a.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=a.readUshort(e,n),n+2},t.post={},t.post.parse=function(e,n,r){var a=t._bin,i={};return i.version=a.readFixed(e,n),n+=4,i.italicAngle=a.readFixed(e,n),n+=4,i.underlinePosition=a.readShort(e,n),n+=2,i.underlineThickness=a.readShort(e,n),n+=2,i},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var a=n.tables[r];if(0==a.format)return t>=a.map.length?0:a.map[t];if(4==a.format){for(var i=-1,o=0;o<a.endCount.length;o++)if(t<=a.endCount[o]){i=o;break}return-1==i||a.startCount[i]>t?0:65535&(0!=a.idRangeOffset[i]?a.glyphIdArray[t-a.startCount[i]+(a.idRangeOffset[i]>>1)-(a.idRangeOffset.length-i)]:t+a.idDelta[i])}if(12==a.format){if(t>a.groups[a.groups.length-1][1])return 0;for(o=0;o<a.groups.length;o++){var s=a.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+a.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var a=e.SVG.entries[n];return null==a?r:("string"==typeof a&&(a=t.SVG.toPath(a),e.SVG.entries[n]=a),a)}if(e.CFF){var i={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var l=0;o.FDSelect[l+2]<=n;)l+=2;s=o.FDArray[o.FDSelect[l+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],i,o,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var a=n.glyf[e];null==a&&(a=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=a&&(a.noc>-1?t.U._simpleGlyph(a,r):t.U._compoGlyph(a,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var a=0==r?0:e.endPts[r-1]+1,i=e.endPts[r],o=a;o<=i;o++){var s=o==a?i:o-1,l=o==i?a:o+1,u=1&e.flags[o],c=1&e.flags[s],h=1&e.flags[l],d=e.xs[o],f=e.ys[o];if(o==a)if(u){if(!c){t.U.P.moveTo(n,d,f);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else c?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+d)/2,(e.ys[s]+f)/2);u?c&&t.U.P.lineTo(n,d,f):h?t.U.P.qcurveTo(n,d,f,e.xs[l],e.ys[l]):t.U.P.qcurveTo(n,d,f,(d+e.xs[l])/2,(f+e.ys[l])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var a=0;a<e.parts.length;a++){var i={cmds:[],crds:[]},o=e.parts[a];t.U._drawGlyf(o.glyphIndex,n,i);for(var s=o.m,l=0;l<i.crds.length;l+=2){var u=i.crds[l],c=i.crds[l+1];r.crds.push(u*s.a+c*s.b+s.tx),r.crds.push(u*s.c+c*s.d+s.ty)}for(l=0;l<i.cmds.length;l++)r.cmds.push(i.cmds[l])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return-1==r?0:n[r+2]},t.U.getPairAdjustment=function(e,n,r){var a=0,i=!1;if(e.GPOS)for(var o=e.GPOS,s=o.lookupList,l=o.featureList,u=[],c=0;c<l.length;c++){var h=l[c];if("kern"==h.tag){i=!0;for(var d=0;d<h.tab.length;d++)if(!u[h.tab[d]]){u[h.tab[d]]=!0;for(var f=s[h.tab[d]],p=0;p<f.tabs.length;p++)if(null!=f.tabs[p]){var m,v=f.tabs[p];if(!v.coverage||-1!=(m=t._lctf.coverageIndex(v.coverage,n)))if(1==f.ltype);else if(2==f.ltype){var g;if(1==v.fmt){var y=v.pairsets[m];for(c=0;c<y.length;c++)y[c].gid2==r&&(g=y[c])}else if(2==v.fmt){var x=t.U._getGlyphClass(n,v.classDef1),b=t.U._getGlyphClass(r,v.classDef2);g=v.matrix[x][b]}g&&g.val1&&g.val1[2]&&(a+=g.val1[2]),g&&g.val2&&g.val2[0]&&(a+=g.val2[0])}}}}}if(e.kern&&!i){var _=e.kern.glyph1.indexOf(n);if(-1!=_){var S=e.kern.rval[_].glyph2.indexOf(r);-1!=S&&(a+=e.kern.rval[_].vals[S])}}return a},t.U._applySubs=function(e,n,r,a){for(var i=e.length-n-1,o=0;o<r.tabs.length;o++)if(null!=r.tabs[o]){var s,l=r.tabs[o];if(!l.coverage||-1!=(s=t._lctf.coverageIndex(l.coverage,e[n])))if(1==r.ltype)e[n],1==l.fmt?e[n]=e[n]+l.delta:e[n]=l.newg[s];else if(4==r.ltype)for(var u=l.vals[s],c=0;c<u.length;c++){var h=u[c],d=h.chain.length;if(!(d>i)){for(var f=!0,p=0,m=0;m<d;m++){for(;-1==e[n+p+(1+m)];)p++;h.chain[m]!=e[n+p+(1+m)]&&(f=!1)}if(f){for(e[n]=h.nglyph,m=0;m<d+p;m++)e[n+m+1]=-1;break}}}else if(5==r.ltype&&2==l.fmt)for(var v=t._lctf.getInterval(l.cDef,e[n]),g=l.cDef[v+2],y=l.scset[g],x=0;x<y.length;x++){var b=y[x],_=b.input;if(!(_.length>i)){for(f=!0,m=0;m<_.length;m++){var S=t._lctf.getInterval(l.cDef,e[n+1+m]);if(-1==v&&l.cDef[S+2]!=_[m]){f=!1;break}}if(f){var w=b.substLookupRecords;for(c=0;c<w.length;c+=2)w[c],w[c+1]}}}else if(6==r.ltype&&3==l.fmt){if(!t.U._glsCovered(e,l.backCvg,n-l.backCvg.length))continue;if(!t.U._glsCovered(e,l.inptCvg,n))continue;if(!t.U._glsCovered(e,l.ahedCvg,n+l.inptCvg.length))continue;var M=l.lookupRec;for(x=0;x<M.length;x+=2){v=M[x];var A=a[M[x+1]];t.U._applySubs(e,n+v,A,a)}}}},t.U._glsCovered=function(e,n,r){for(var a=0;a<n.length;a++)if(-1==t._lctf.coverageIndex(n[a],e[r+a]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var a={cmds:[],crds:[]},i=0,o=0;o<n.length;o++){var s=n[o];if(-1!=s){for(var l=o<n.length-1&&-1!=n[o+1]?n[o+1]:0,u=t.U.glyphToPath(e,s),c=0;c<u.crds.length;c+=2)a.crds.push(u.crds[c]+i),a.crds.push(u.crds[c+1]);for(r&&a.cmds.push(r),c=0;c<u.cmds.length;c++)a.cmds.push(u.cmds[c]);r&&a.cmds.push("X"),i+=e.hmtx.aWidth[s],o<n.length-1&&(i+=t.U.getPairAdjustment(e,s,l))}}return a},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,a,i,o){e.cmds.push("C"),e.crds.push(t,n,r,a,i,o)},t.U.P.qcurveTo=function(e,t,n,r,a){e.cmds.push("Q"),e.crds.push(t,n,r,a)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,a,i){for(var o=n.stack,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open,h=0,d=n.x,f=n.y,p=0,m=0,v=0,g=0,y=0,x=0,b=0,_=0,S=0,w=0,M={val:0,size:0};h<e.length;){t.CFF.getCharString(e,h,M);var A=M.val;if(h+=M.size,"o1"==A||"o18"==A)o.length%2!=0&&!l&&(u=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o3"==A||"o23"==A)o.length%2!=0&&!l&&(u=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o4"==A)o.length>1&&!l&&(u=o.shift()+a.nominalWidthX,l=!0),c&&t.U.P.closePath(i),f+=o.pop(),t.U.P.moveTo(i,d,f),c=!0;else if("o5"==A)for(;o.length>0;)d+=o.shift(),f+=o.shift(),t.U.P.lineTo(i,d,f);else if("o6"==A||"o7"==A)for(var C=o.length,k="o6"==A,T=0;T<C;T++){var E=o.shift();k?d+=E:f+=E,k=!k,t.U.P.lineTo(i,d,f)}else if("o8"==A||"o24"==A){C=o.length;for(var I=0;I+6<=C;)p=d+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),d=v+o.shift(),f=g+o.shift(),t.U.P.curveTo(i,p,m,v,g,d,f),I+=6;"o24"==A&&(d+=o.shift(),f+=o.shift(),t.U.P.lineTo(i,d,f))}else{if("o11"==A)break;if("o1234"==A||"o1235"==A||"o1236"==A||"o1237"==A)"o1234"==A&&(m=f,v=(p=d+o.shift())+o.shift(),w=g=m+o.shift(),x=g,_=f,d=(b=(y=(S=v+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(i,p,m,v,g,S,w),t.U.P.curveTo(i,y,x,b,_,d,f)),"o1235"==A&&(p=d+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),S=v+o.shift(),w=g+o.shift(),y=S+o.shift(),x=w+o.shift(),b=y+o.shift(),_=x+o.shift(),d=b+o.shift(),f=_+o.shift(),o.shift(),t.U.P.curveTo(i,p,m,v,g,S,w),t.U.P.curveTo(i,y,x,b,_,d,f)),"o1236"==A&&(p=d+o.shift(),m=f+o.shift(),v=p+o.shift(),w=g=m+o.shift(),x=g,b=(y=(S=v+o.shift())+o.shift())+o.shift(),_=x+o.shift(),d=b+o.shift(),t.U.P.curveTo(i,p,m,v,g,S,w),t.U.P.curveTo(i,y,x,b,_,d,f)),"o1237"==A&&(p=d+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),S=v+o.shift(),w=g+o.shift(),y=S+o.shift(),x=w+o.shift(),b=y+o.shift(),_=x+o.shift(),Math.abs(b-d)>Math.abs(_-f)?d=b+o.shift():f=_+o.shift(),t.U.P.curveTo(i,p,m,v,g,S,w),t.U.P.curveTo(i,y,x,b,_,d,f));else if("o14"==A){if(o.length>0&&!l&&(u=o.shift()+r.nominalWidthX,l=!0),4==o.length){var B=o.shift(),P=o.shift(),R=o.shift(),L=o.shift(),D=t.CFF.glyphBySE(r,R),F=t.CFF.glyphBySE(r,L);t.U._drawCFF(r.CharStrings[D],n,r,a,i),n.x=B,n.y=P,t.U._drawCFF(r.CharStrings[F],n,r,a,i)}c&&(t.U.P.closePath(i),c=!1)}else if("o19"==A||"o20"==A)o.length%2!=0&&!l&&(u=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,l=!0,h+=s+7>>3;else if("o21"==A)o.length>2&&!l&&(u=o.shift()+a.nominalWidthX,l=!0),f+=o.pop(),d+=o.pop(),c&&t.U.P.closePath(i),t.U.P.moveTo(i,d,f),c=!0;else if("o22"==A)o.length>1&&!l&&(u=o.shift()+a.nominalWidthX,l=!0),d+=o.pop(),c&&t.U.P.closePath(i),t.U.P.moveTo(i,d,f),c=!0;else if("o25"==A){for(;o.length>6;)d+=o.shift(),f+=o.shift(),t.U.P.lineTo(i,d,f);p=d+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),d=v+o.shift(),f=g+o.shift(),t.U.P.curveTo(i,p,m,v,g,d,f)}else if("o26"==A)for(o.length%2&&(d+=o.shift());o.length>0;)p=d,m=f+o.shift(),d=v=p+o.shift(),f=(g=m+o.shift())+o.shift(),t.U.P.curveTo(i,p,m,v,g,d,f);else if("o27"==A)for(o.length%2&&(f+=o.shift());o.length>0;)m=f,v=(p=d+o.shift())+o.shift(),g=m+o.shift(),d=v+o.shift(),f=g,t.U.P.curveTo(i,p,m,v,g,d,f);else if("o10"==A||"o29"==A){var U="o10"==A?a:r;if(0==o.length)console.debug("error: empty stack");else{var q=o.pop(),O=U.Subrs[q+U.Bias];n.x=d,n.y=f,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c,t.U._drawCFF(O,n,r,a,i),d=n.x,f=n.y,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open}}else if("o30"==A||"o31"==A){var z=o.length,N=(I=0,"o31"==A);for(I+=z-(C=-3&z);I<C;)N?(m=f,v=(p=d+o.shift())+o.shift(),f=(g=m+o.shift())+o.shift(),C-I==5?(d=v+o.shift(),I++):d=v,N=!1):(p=d,m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),d=v+o.shift(),C-I==5?(f=g+o.shift(),I++):f=g,N=!0),t.U.P.curveTo(i,p,m,v,g,d,f),I+=4}else{if("o"==(A+"").charAt(0))throw console.debug("Unknown operation: "+A,e),A;o.push(A)}}}n.x=d,n.y=f,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c};var n=t,r={Typr:n};return e.Typr=n,e.default=r,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr},function(){return function(e){var t=Uint8Array,n=Uint16Array,r=Uint32Array,a=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var a=new n(31),i=0;i<31;++i)a[i]=t+=1<<e[i-1];var o=new r(a[30]);for(i=1;i<30;++i)for(var s=a[i];s<a[i+1];++s)o[s]=s-a[i]<<5|i;return[a,o]},l=s(a,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var h=s(i,0)[0],d=new n(32768),f=0;f<32768;++f){var p=(43690&f)>>>1|(21845&f)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,d[f]=((65280&p)>>>8|(255&p)<<8)>>>1}var m=function(e,t,r){for(var a=e.length,i=0,o=new n(t);i<a;++i)++o[e[i]-1];var s,l=new n(t);for(i=0;i<t;++i)l[i]=l[i-1]+o[i-1]<<1;if(r){s=new n(1<<t);var u=15-t;for(i=0;i<a;++i)if(e[i])for(var c=i<<4|e[i],h=t-e[i],f=l[e[i]-1]++<<h,p=f|(1<<h)-1;f<=p;++f)s[d[f]>>>u]=c}else for(s=new n(a),i=0;i<a;++i)e[i]&&(s[i]=d[l[e[i]-1]++]>>>15-e[i]);return s},v=new t(288);for(f=0;f<144;++f)v[f]=8;for(f=144;f<256;++f)v[f]=9;for(f=256;f<280;++f)v[f]=7;for(f=280;f<288;++f)v[f]=8;var g=new t(32);for(f=0;f<32;++f)g[f]=5;var y=m(v,9,1),x=m(g,5,1),b=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},_=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},S=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},w=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],M=function e(t,n,r){var a=new Error(n||w[t]);if(a.code=t,Error.captureStackTrace&&Error.captureStackTrace(a,e),!r)throw a;return a},A=function(e,s,l){var c=e.length;if(!c||l&&!l.l&&c<5)return s||new t(0);var d=!s||l,f=!l||l.i;l||(l={}),s||(s=new t(3*c));var p,v=function(e){var n=s.length;if(e>n){var r=new t(Math.max(2*n,e));r.set(s),s=r}},g=l.f||0,w=l.p||0,A=l.b||0,C=l.l,k=l.d,T=l.m,E=l.n,I=8*c;do{if(!C){l.f=g=_(e,w,1);var B=_(e,w+1,3);if(w+=3,!B){var P=e[(j=((p=w)/8|0)+(7&p&&1)+4)-4]|e[j-3]<<8,R=j+P;if(R>c){f&&M(0);break}d&&v(A+P),s.set(e.subarray(j,R),A),l.b=A+=P,l.p=w=8*R;continue}if(1==B)C=y,k=x,T=9,E=5;else if(2==B){var L=_(e,w,31)+257,D=_(e,w+10,15)+4,F=L+_(e,w+5,31)+1;w+=14;for(var U=new t(F),q=new t(19),O=0;O<D;++O)q[o[O]]=_(e,w+3*O,7);w+=3*D;var z=b(q),N=(1<<z)-1,G=m(q,z,1);for(O=0;O<F;){var j,H=G[_(e,w,N)];if(w+=15&H,(j=H>>>4)<16)U[O++]=j;else{var V=0,W=0;for(16==j?(W=3+_(e,w,3),w+=2,V=U[O-1]):17==j?(W=3+_(e,w,7),w+=3):18==j&&(W=11+_(e,w,127),w+=7);W--;)U[O++]=V}}var J=U.subarray(0,L),X=U.subarray(L);T=b(J),E=b(X),C=m(J,T,1),k=m(X,E,1)}else M(1);if(w>I){f&&M(0);break}}d&&v(A+131072);for(var K=(1<<T)-1,Y=(1<<E)-1,Q=w;;Q=w){var Z=(V=C[S(e,w)&K])>>>4;if((w+=15&V)>I){f&&M(0);break}if(V||M(2),Z<256)s[A++]=Z;else{if(256==Z){Q=w,C=null;break}var $=Z-254;if(Z>264){var ee=a[O=Z-257];$=_(e,w,(1<<ee)-1)+u[O],w+=ee}var te=k[S(e,w)&Y],ne=te>>>4;if(te||M(3),w+=15&te,X=h[ne],ne>3&&(ee=i[ne],X+=S(e,w)&(1<<ee)-1,w+=ee),w>I){f&&M(0);break}d&&v(A+131072);for(var re=A+$;A<re;A+=4)s[A]=s[A-X],s[A+1]=s[A+1-X],s[A+2]=s[A+2-X],s[A+3]=s[A+3-X];A=re}}l.l=C,l.p=Q,l.b=A,C&&(g=1,l.m=T,l.d=k,l.n=E)}while(!g);return A==s.length?s:function(e,a,i){(null==a||a<0)&&(a=0),(null==i||i>e.length)&&(i=e.length);var o=new(e instanceof n?n:e instanceof r?r:t)(i-a);return o.set(e.subarray(a,i)),o}(s,0,A)},C=new t(0),k="undefined"!=typeof TextDecoder&&new TextDecoder;try{k.decode(C,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),n=0;function r(){var e=t.getUint16(n);return n+=2,e}function a(){var e=t.getUint32(n);return n+=4,e}function i(e){g.setUint16(y,e),y+=2}function o(e){g.setUint32(y,e),y+=4}for(var s={signature:a(),flavor:a(),length:a(),numTables:r(),reserved:r(),totalSfntSize:a(),majorVersion:r(),minorVersion:r(),metaOffset:a(),metaLength:a(),metaOrigLength:a(),privOffset:a(),privLength:a()},l=0;Math.pow(2,l)<=s.numTables;)l++;l--;for(var u=16*Math.pow(2,l),c=16*s.numTables-u,h=12,d=[],f=0;f<s.numTables;f++)d.push({tag:a(),offset:a(),compLength:a(),origLength:a(),origChecksum:a()}),h+=16;var p,m=new Uint8Array(12+16*d.length+d.reduce((function(e,t){return e+t.origLength+4}),0)),v=m.buffer,g=new DataView(v),y=0;return o(s.flavor),i(s.numTables),i(u),i(l),i(c),d.forEach((function(e){o(e.tag),o(e.origChecksum),o(h),o(e.origLength),e.outOffset=h,(h+=e.origLength)%4!=0&&(h+=4-h%4)})),d.forEach((function(t){var n,r=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var a=new Uint8Array(t.origLength);n=new Uint8Array(r,2),A(n,a)}else a=new Uint8Array(r);m.set(a,t.outOffset);var i=0;(h=t.outOffset+t.origLength)%4!=0&&(i=4-h%4),m.set(new Uint8Array(i).buffer,t.outOffset+t.origLength),p=h+i})),v.slice(0,p)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){var n,r={M:2,L:2,Q:4,C:6,Z:0},a={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=[null,"isol","init","fina","medi"];function o(e){for(var t,r=new Uint8Array(e.length),i=32,o=1,s=-1,l=0;l<e.length;l++){var c=e.codePointAt(l),h=0|(t=c,n||function(){var e={R:2,L:1,D:4,C:16,U:32,T:8};n=new Map;var t=function(t){var r=0;a[t].split(",").forEach((function(a){var i=u(a.split("+"),2),o=i[0],s=i[1];o=parseInt(o,36),s=s?parseInt(s,36):0,n.set(r+=o,e[t]);for(var l=s;l--;)n.set(++r,e[t])}))};for(var r in a)t(r)}(),n.get(t)||32),d=1;8&h||(21&i?22&h?(d=3,1!==o&&3!==o||r[s]++):33&h&&(2!==o&&4!==o||r[s]--):34&i&&(2!==o&&4!==o||r[s]--),o=r[l]=d,i=h,s=l,c>65535&&l++)}return r}function s(t){var n=Object.create(null),a={unitsPerEm:t.head.unitsPerEm,ascender:t.hhea.ascender,descender:t.hhea.descender,forEachGlyph:function(s,l,u,c){var h=0,d=1/a.unitsPerEm*l,f=function(t,n){for(var r=[],a=0;a<n.length;a++){var s=n.codePointAt(a);s>65535&&a++,r.push(e.U.codeToGlyph(t,s))}var l=t.GSUB;if(l){var u,c=l.lookupList,h=l.featureList,d=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,f=[];h.forEach((function(t){if(d.test(t.tag))for(var a=0;a<t.tab.length;a++)if(!f[t.tab[a]]){f[t.tab[a]]=!0;var s=c[t.tab[a]],l=/^(isol|init|fina|medi)$/.test(t.tag);l&&!u&&(u=o(n));for(var h=0;h<r.length;h++)u&&l&&i[u[h]]!==t.tag||e.U._applySubs(r,h,s,c)}}))}return r}(t,s),p=0,m=-1;return f.forEach((function(a,i){if(-1!==a){var o=n[a];if(!o){for(var f,v,g,y,x=e.U.glyphToPath(t,a),b=x.cmds,_=x.crds,S="",w=0,M=0,A=b.length;M<A;M++){var C=r[b[M]];S+=b[M];for(var k=1;k<=C;k++)S+=(k>1?",":"")+_[w++]}if(_.length){f=v=1/0,g=y=-1/0;for(var T=0,E=_.length;T<E;T+=2){var I=_[T],B=_[T+1];I<f&&(f=I),B<v&&(v=B),I>g&&(g=I),B>y&&(y=B)}}else f=g=v=y=0;o=n[a]={index:a,advanceWidth:t.hmtx.aWidth[a],xMin:f,yMin:v,xMax:g,yMax:y,path:S,pathCommandCount:b.length}}-1!==m&&(h+=e.U.getPairAdjustment(t,m,a)*d),c.call(null,o,h,p),o.advanceWidth&&(h+=o.advanceWidth*d),u&&(h+=u*l),m=a}p+=s.codePointAt(p)>65535?2:1})),h}};return a}return function(n){var r=new Uint8Array(n,0,4),a=e._bin.readASCII(r,0,4);if("wOFF"===a)n=t(n);else if("wOF2"===a)throw new Error("woff2 fonts not supported");return s(e.parse(n)[0])}}],init:function(e,t,n){return n(e(),t())}}),Wy={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Jy=new Mr;function Xy(){return(self.performance||Date).now()}var Ky,Yy=Object.create(null);function Qy(e,t){!0,e=$y({},e);var n=Xy();if(e.font=function(e){Ky||(Ky="undefined"===typeof document?{}:document.createElement("a"));return Ky.href=e,Ky.href}(e.font||Wy.defaultFontURL),e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||Wy.sdfGlyphSize,null!=e.colorRanges){var r={};for(var a in e.colorRanges)if(e.colorRanges.hasOwnProperty(a)){var i=e.colorRanges[a];"number"!==typeof i&&(i=Jy.set(i).getHex()),r[a]=i}e.colorRanges=r}Object.freeze(e);var o=Wy.textureWidth,s=Wy.sdfExponent,l=e.sdfGlyphSize,c=o/l*4,h=Yy[l];if(!h){var d=document.createElement("canvas");d.width=o,d.height=256*l/c,(h=Yy[l]={glyphCount:0,sdfGlyphSize:l,sdfCanvas:d,sdfTexture:new Er(d,void 0,void 0,void 0,Xe,Xe),contextLost:!1,glyphsByFont:new Map}).sdfTexture.generateMipmaps=!1,function(e){var t=e.sdfCanvas;t.addEventListener("webglcontextlost",(function(t){console.log("Context Lost",t),t.preventDefault(),e.contextLost=!0})),t.addEventListener("webglcontextrestored",(function(t){console.log("Context Restored",t),e.contextLost=!1;var n=[];e.glyphsByFont.forEach((function(t){t.forEach((function(t){n.push(Zy(t,e,!0))}))})),cy.all(n).then((function(){ex(e),e.sdfTexture.needsUpdate=!0}))}))}(h)}var f=h,p=f.sdfTexture,m=f.sdfCanvas,v=h.glyphsByFont.get(e.font);v||h.glyphsByFont.set(e.font,v=new Map),nx(e).then((function(r){var a=r.glyphIds,i=r.glyphPositions,d=r.fontSize,f=r.unitsPerEm,g=r.timings,y=[],x=new Float32Array(4*a.length),b=d/f,_=0,S=0,w=Xy();a.forEach((function(e,t){var n=v.get(e);if(!n){var o=r.glyphData[e],s=o.path,u=o.pathBounds,c=Math.max(u[2]-u[0],u[3]-u[1])/l*(Wy.sdfMargin*l+.5),d=h.glyphCount++,f=[u[0]-c,u[1]-c,u[2]+c,u[3]+c];v.set(e,n={path:s,atlasIndex:d,sdfViewBox:f}),y.push(n)}var p=n.sdfViewBox,m=i[S++],g=i[S++];x[_++]=m+p[0]*b,x[_++]=g+p[1]*b,x[_++]=m+p[2]*b,x[_++]=g+p[3]*b,a[t]=n.atlasIndex})),g.quads=(g.quads||0)+(Xy()-w);var M=Xy();g.sdf={};var A=m.height,C=Math.ceil(h.glyphCount/c),k=Math.pow(2,Math.ceil(Math.log2(C*l)));k>A&&(console.info("Increasing SDF texture size ".concat(A,"->").concat(k)),Hy(m,o,k),p.dispose()),cy.all(y.map((function(t){return Zy(t,h,e.gpuAccelerateSDF).then((function(e){var n=e.timing;g.sdf[t.atlasIndex]=n}))}))).then((function(){y.length&&!h.contextLost&&(ex(h),p.needsUpdate=!0),g.sdfTotal=Xy()-M,g.total=Xy()-n,t(Object.freeze({parameters:e,sdfTexture:p,sdfGlyphSize:l,sdfExponent:s,glyphBounds:x,glyphAtlasIndices:a,glyphColors:r.glyphColors,caretPositions:r.caretPositions,caretHeight:r.caretHeight,chunkedBounds:r.chunkedBounds,ascender:r.ascender,descender:r.descender,lineHeight:r.lineHeight,topBaseline:r.topBaseline,blockBounds:r.blockBounds,visibleBounds:r.visibleBounds,timings:r.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),r.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");var e=u(r.blockBounds,4),t=e[0],n=e[1];return[e[2]-t,e[3]-n]}}))}))})),cy.all([]).then((function(){h.contextLost||function(e){e._warm||(Ny.webgl.isSupported(e),e._warm=!0)}(m)}))}function Zy(e,t,n){var r=e.path,a=e.atlasIndex,i=e.sdfViewBox,o=t.sdfGlyphSize,s=t.sdfCanvas;if(t.contextLost)return Promise.resolve({timing:-1});var l=Wy.textureWidth,u=Wy.sdfExponent,c=Math.max(i[2]-i[0],i[3]-i[1]),h=Math.floor(a/4);return function(e,t,n,r,a,i,o,s,l,u){return arguments.length>10&&void 0!==arguments[10]&&!arguments[10]?jy(e,t,n,r,a,i,o,s,l,u):Gy(e,t,n,r,a,i,o,s,l,u).then(null,(function(c){return Oy||(console.warn("WebGL SDF generation failed, falling back to JS",c),Oy=!0),jy(e,t,n,r,a,i,o,s,l,u)}))}(o,o,r,i,c,u,s,h%(l/o)*o,Math.floor(h/(l/o))*o,a%4,n)}function $y(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ex(e){if("function"!==typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");var t=e.sdfCanvas,n=e.sdfTexture,r=t.width,a=t.height,i=e.sdfCanvas.getContext("webgl"),o=n.image.data;o&&o.length===r*a*4||(o=new Uint8Array(r*a*4),n.image={width:r,height:a,data:o},n.flipY=!1,n.isDataTexture=!0),i.readPixels(0,0,r,a,i.RGBA,i.UNSIGNED_BYTE,o)}}var tx=xy({name:"Typesetter",dependencies:[Wy,Vy,function(e,t,n){var r=n.defaultFontURL,a=Object.create(null),i=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,s=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function l(t,n){t||(t=r);var i=a[t];i?i.pending?i.pending.push(n):n(i):(a[t]={pending:[n]},function(t,n){!function a(){var i=function(e){console.error("Failure loading font ".concat(t).concat(t===r?"":"; trying fallback"),e),t!==r&&(t=r,a())};try{var o=new XMLHttpRequest;o.open("get",t,!0),o.responseType="arraybuffer",o.onload=function(){if(o.status>=400)i(new Error(o.statusText));else if(o.status>0)try{var t=e(o.response);n(t)}catch(r){i(r)}},o.onerror=i,o.send()}catch(s){i(s)}}()}(t,(function(e){var n=a[t].pending;a[t]=e,n.forEach((function(t){return t(e)}))})))}function c(e,n){var a=e.text,c=void 0===a?"":a,m=e.font,v=void 0===m?r:m,g=(e.sdfGlyphSize,e.fontSize),y=void 0===g?1:g,x=e.letterSpacing,b=void 0===x?0:x,_=e.lineHeight,S=void 0===_?"normal":_,w=e.maxWidth,M=void 0===w?i:w,A=e.direction,C=e.textAlign,k=void 0===C?"left":C,T=e.textIndent,E=void 0===T?0:T,I=e.whiteSpace,B=void 0===I?"normal":I,P=e.overflowWrap,R=void 0===P?"normal":P,L=e.anchorX,D=void 0===L?0:L,F=e.anchorY,U=void 0===F?0:F,q=e.includeCaretPositions,O=void 0!==q&&q,z=e.chunkedBoundsSize,N=void 0===z?8192:z,G=e.colorRanges,j=void 0===G?null:G,H=arguments.length>2&&void 0!==arguments[2]&&arguments[2],V=f(),W={fontLoad:0,typesetting:0};c.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),c=c.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),y=+y,b=+b,M=+M,S=S||"normal",E=+E,l(v,(function(e){var r=isFinite(M),a=null,l=null,m=null,v=null,g=null,x=null,_=null,w=0,C=0,T="nowrap"!==B,I=e.ascender,P=e.descender,L=e.unitsPerEm;W.fontLoad=f()-V;var F=f(),q=y/L;"normal"===S&&(S=(I-P)/L);var z=((S*=y)-(I-P)*q)/2,G=-(I*q+z),J=Math.min(S,(I-P)*q),X=(I+P)/2*q-J/2,K=E,Y=new p,Q=[Y];e.forEachGlyph(c,y,b,(function(e,t,n){var a,i=c.charAt(n),l=e.advanceWidth*q,u=Y.count;if("isEmpty"in e||(e.isWhitespace=!!i&&/\s/.test(i),e.canBreakAfter=!!i&&s.test(i),e.isEmpty=e.xMin===e.xMax||e.yMin===e.yMax||o.test(i)),e.isWhitespace||e.isEmpty||C++,T&&r&&!e.isWhitespace&&t+l+K>M&&u){if(Y.glyphAt(u-1).glyphObj.canBreakAfter)a=new p,K=-t;else for(var h=u;h--;){if(0===h&&"break-word"===R){a=new p,K=-t;break}if(Y.glyphAt(h).glyphObj.canBreakAfter){var d=(a=Y.splitAt(h+1)).glyphAt(0).x;K-=d;for(var f=a.count;f--;)a.glyphAt(f).x-=d;break}}a&&(Y.isSoftWrapped=!0,Y=a,Q.push(Y),w=M)}var m=Y.glyphAt(Y.count);m.glyphObj=e,m.x=t+K,m.width=l,m.charIndex=n,"\n"===i&&(Y=new p,Q.push(Y),K=-(t+l+b*y)+E)})),Q.forEach((function(e){for(var t=e.count;t--;){var n=e.glyphAt(t),r=n.glyphObj,a=n.x,i=n.width;if(!r.isWhitespace)return e.width=a+i,void(e.width>w&&(w=e.width))}}));var Z=0,$=0;if(D&&("number"===typeof D?Z=-D:"string"===typeof D&&(Z=-w*("left"===D?0:"center"===D?.5:"right"===D?1:h(D)))),U)if("number"===typeof U)$=-U;else if("string"===typeof U){var ee=Q.length*S;$="top"===U?0:"top-baseline"===U?-G:"middle"===U?ee/2:"bottom"===U?ee:"bottom-baseline"===U?ee-z+P*q:h(U)*ee}if(!H){var te=t.getEmbeddingLevels(c,A);a=new Uint16Array(C),l=new Float32Array(2*C),m={},x=[i,i,-1/0,-1/0],_=[];var ne=G;O&&(g=new Float32Array(3*c.length)),j&&(v=new Uint8Array(3*C));var re,ae,ie=0,oe=-1,se=-1;if(Q.forEach((function(n,r){var o=n.count,s=n.width;if(o>0){for(var h=0,f=o;f--&&n.glyphAt(f).glyphObj.isWhitespace;)h++;var p=0,y=0;if("center"===k)p=(w-s)/2;else if("right"===k)p=w-s;else if("justify"===k&&n.isSoftWrapped){for(var b=0,M=o-h;M--;)n.glyphAt(M).glyphObj.isWhitespace&&b++;y=(w-s)/b}if(y||p)for(var A=0,C=0;C<o;C++){var T=n.glyphAt(C),E=T.glyphObj;T.x+=p+A,0!==y&&E.isWhitespace&&C<o-h&&(A+=y,T.width+=y)}for(var I,B=t.getReorderSegments(c,te,n.glyphAt(0).charIndex,n.glyphAt(n.count-1).charIndex),P=0;P<B.length;P++)for(var R=u(B[P],2),L=R[0],D=R[1],F=1/0,U=-1/0,z=0;z<o;z++)if(n.glyphAt(z).charIndex>=L){for(var G=z,H=z;H<o;H++){var V=n.glyphAt(H);if(V.charIndex>D)break;H<o-h&&(F=Math.min(F,V.x),U=Math.max(U,V.x+V.width))}for(var W=G;W<H;W++){var J=n.glyphAt(W);J.x=U-(J.x+J.width-F)}break}for(var K=function(e){return I=e},Y=0;Y<o;Y++){var Q=n.glyphAt(Y),ee=(I=Q.glyphObj).index,le=1&te.levels[Q.charIndex];if(le){var ue=t.getMirroredCharacter(c[Q.charIndex]);ue&&e.forEachGlyph(ue,0,0,K)}if(O){var ce=Q.charIndex,he=Q.x+Z,de=Q.x+Q.width+Z;g[3*ce]=le?de:he,g[3*ce+1]=le?he:de,g[3*ce+2]=ne+X+$;var fe=ce-oe;fe>1&&d(g,oe,fe),oe=ce}if(j)for(var pe=Q.charIndex;pe>se;)se++,j.hasOwnProperty(se)&&(ae=j[se]);if(!I.isWhitespace&&!I.isEmpty){var me=ie++;m[ee]||(m[ee]={path:I.path,pathBounds:[I.xMin,I.yMin,I.xMax,I.yMax]});var ve=Q.x+Z,ge=ne+$;l[2*me]=ve,l[2*me+1]=ge;var ye=ve+I.xMin*q,xe=ge+I.yMin*q,be=ve+I.xMax*q,_e=ge+I.yMax*q;ye<x[0]&&(x[0]=ye),xe<x[1]&&(x[1]=xe),be>x[2]&&(x[2]=be),_e>x[3]&&(x[3]=_e),me%N===0&&(re={start:me,end:me,rect:[i,i,-1/0,-1/0]},_.push(re)),re.end++;var Se=re.rect;if(ye<Se[0]&&(Se[0]=ye),xe<Se[1]&&(Se[1]=xe),be>Se[2]&&(Se[2]=be),_e>Se[3]&&(Se[3]=_e),a[me]=ee,j){var we=3*me;v[we]=ae>>16&255,v[we+1]=ae>>8&255,v[we+2]=255&ae}}}}ne-=S})),g){var le=c.length-oe;le>1&&d(g,oe,le)}}W.typesetting=f()-F,n({glyphIds:a,glyphPositions:l,glyphData:m,caretPositions:g,caretHeight:J,glyphColors:v,chunkedBounds:_,fontSize:y,unitsPerEm:L,ascender:I*q,descender:P*q,lineHeight:S,topBaseline:G,blockBounds:[Z,$-Q.length*S,Z+w,$],visibleBounds:x,timings:W})}))}function h(e){var t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function d(e,t,n){for(var r=e[3*t],a=e[3*t+1],i=e[3*t+2],o=(a-r)/n,s=0;s<n;s++){var l=3*(t+s);e[l]=r+o*s,e[l+1]=r+o*(s+1),e[l+2]=i}}function f(){return(self.performance||Date).now()}function p(){this.data=[]}var m=["glyphObj","x","width","charIndex"];return p.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/m.length)},glyphAt:function(e){var t=p.flyweight;return t.data=this.data,t.index=e,t},splitAt:function(e){var t=new p;return t.data=this.data.splice(e*m.length),t}},p.flyweight=m.reduce((function(e,t,n,r){return Object.defineProperty(e,t,{get:function(){return this.data[this.index*m.length+n]},set:function(e){this.data[this.index*m.length+n]=e}}),e}),{data:null,index:0}),{typeset:c,measure:function(e,t){c(e,(function(e){var n=u(e.blockBounds,4),r=n[0],a=n[1],i=n[2],o=n[3];t({width:i-r,height:o-a})}),{metricsOnly:!0})},loadFont:l}},My],init:function(e,t,n,r){var a=e.defaultFontURL;return n(t,r(),{defaultFontURL:a})}}),nx=xy({name:"Typesetter",dependencies:[tx,Sy],init:function(e,t){return function(n){var r=new t;return e.typeset(n,r.resolve),r}},getTransferables:function(e){var t=[e.glyphPositions.buffer,e.glyphIds.buffer];return e.caretPositions&&t.push(e.caretPositions.buffer),e.glyphColors&&t.push(e.glyphColors.buffer),t}});var rx=function(){var e={};var t="aTroikaGlyphIndex",n=function(n){w(o,n);var i=T(o);function o(){var e;return b(this,o),(e=i.call(this)).detail=1,e.curveRadius=0,e.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],e.boundingSphere=new ia,e.boundingBox=new Nr,e}return S(o,[{key:"computeBoundingSphere",value:function(){}},{key:"computeBoundingBox",value:function(){}},{key:"setSide",value:function(e){var t=this.getIndex().count;this.setDrawRange(e===J?t/2:0,e===X?t:t/2)}},{key:"detail",get:function(){return this._detail},set:function(t){var n=this;if(t!==this._detail){this._detail=t,("number"!==typeof t||t<1)&&(t=1);var r=function(t){var n=e[t];if(!n){for(var r=new Bp(1,1,t,t),a=r.clone(),i=r.attributes,o=a.attributes,s=new bi,l=i.uv.count,u=0;u<l;u++)o.position.array[3*u]*=-1,o.normal.array[3*u+2]*=-1;["position","normal","uv"].forEach((function(e){s.setAttribute(e,new hi([].concat(m(i[e].array),m(o[e].array)),i[e].itemSize))})),s.setIndex([].concat(m(r.index.array),m(a.index.array.map((function(e){return e+l}))))),s.translate(.5,.5,0),n=e[t]=s}return n}(t);["position","normal","uv"].forEach((function(e){n.attributes[e]=r.attributes[e].clone()})),this.setIndex(r.getIndex().clone())}}},{key:"curveRadius",get:function(){return this._curveRadius},set:function(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}},{key:"updateGlyphs",value:function(e,n,i,o,s){r(this,"aTroikaGlyphBounds",e,4),r(this,t,n,1),r(this,"aTroikaGlyphColor",s,3),this._blockBounds=i,this._chunkedBounds=o,a(this,n.length),this._updateBounds()}},{key:"_updateBounds",value:function(){var e=this._blockBounds;if(e){var t=this.curveRadius,n=this.boundingBox;if(t){var r=Math.PI,a=Math.floor,i=Math.min,o=Math.max,s=Math.sin,l=Math.cos,u=r/2,c=2*r,h=Math.abs(t),d=e[0]/h,f=e[2]/h,p=a((d+u)/c)!==a((f+u)/c)?-h:i(s(d)*h,s(f)*h),m=a((d-u)/c)!==a((f-u)/c)?h:o(s(d)*h,s(f)*h),v=a((d+r)/c)!==a((f+r)/c)?2*h:o(h-l(d)*h,h-l(f)*h);n.min.set(p,e[1],t<0?-v:0),n.max.set(m,e[3],t<0?0:v)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}},{key:"applyClipRect",value:function(e){var n=this.getAttribute(t).count,r=this._chunkedBounds;if(r)for(var i=r.length;i--;){n=r[i].end;var o=r[i].rect;if(o[1]<e.w&&o[3]>e.y&&o[0]<e.z&&o[2]>e.x)break}a(this,n)}}]),o}(Pd);function r(e,t,n,r){var a=e.getAttribute(t);n?a&&a.array.length===n.length?(a.array.set(n),a.needsUpdate=!0):(e.setAttribute(t,new bu(n,r)),delete e._maxInstanceCount,e.dispose()):a&&e.deleteAttribute(t)}function a(e,t){e[e.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=t}return n.prototype.setAttribute||(n.prototype.setAttribute=function(e,t){return this.attributes[e]=t,this}),n}(),ax="\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n".concat("\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n"),ix="\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaOutlineOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of exponential encoding in webgl-sdf-generator\n  ".concat("\n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  ","\n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  ","\n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n");var ox=function(){var e=new $a({color:16777215,side:X,transparent:!0}),t=8421504,n=new pa,r=new qr,a=new qr,i=[],o=new qr,s="+x+y";function l(e){return Array.isArray(e)?e[0]:e}var c=function(){var t=new qi(new Bp(1,1),e);return c=function(){return t},t},h=function(){var t=new qi(new Bp(1,1,32,1),e);return h=function(){return t},t},d={type:"syncstart"},f={type:"synccomplete"},p=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],m=p.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail"),v=function(p){w(g,p);var v=T(g);function g(){var e;b(this,g);var n=new rx;return(e=v.call(this,n,null)).text="",e.anchorX=0,e.anchorY=0,e.curveRadius=0,e.direction="auto",e.font=null,e.fontSize=.1,e.letterSpacing=0,e.lineHeight="normal",e.maxWidth=1/0,e.overflowWrap="normal",e.textAlign="left",e.textIndent=0,e.whiteSpace="normal",e.material=null,e.color=null,e.colorRanges=null,e.outlineWidth=0,e.outlineColor=0,e.outlineOpacity=1,e.outlineBlur=0,e.outlineOffsetX=0,e.outlineOffsetY=0,e.strokeWidth=0,e.strokeColor=t,e.strokeOpacity=1,e.fillOpacity=1,e.depthOffset=0,e.clipRect=null,e.orientation=s,e.glyphGeometryDetail=1,e.sdfGlyphSize=null,e.gpuAccelerateSDF=!0,e.debugSDF=!1,e}return S(g,[{key:"sync",value:function(e){var t=this;this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(d),Qy({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},(function(n){t._isSyncing=!1,t._textRenderInfo=n,t.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);var r=t._queuedSyncs;r&&(t._queuedSyncs=null,t._needsSync=!0,t.sync((function(){r.forEach((function(e){return e&&e()}))}))),t.dispatchEvent(f),e&&e()}))))}},{key:"onBeforeRender",value:function(e,t,n,r,a,i){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a),a._hadOwnSide=a.hasOwnProperty("side"),this.geometry.setSide(a._actualSide=a.side),a.side=W}},{key:"onAfterRender",value:function(e,t,n,r,a,i){a._hadOwnSide?a.side=a._actualSide:delete a.side}},{key:"dispose",value:function(){this.geometry.dispose()}},{key:"textRenderInfo",get:function(){return this._textRenderInfo||null}},{key:"material",get:function(){var t=this._derivedMaterial,n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=e.clone());if(t&&t.baseMaterial===n||(t=this._derivedMaterial=function(e){var t=Ly(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new sr},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Ir(0,0,0,0)},uTroikaClipRect:{value:new Ir(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new sr},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Mr},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new lr},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:ax,fragmentDefs:ix,fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat fragDistance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  fragDistance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter:function(e){var t=e.vertexShader,n=e.fragmentShader,r=/\buniform\s+vec3\s+diffuse\b/;return r.test(n)&&(n=n.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(t)||(t=t.replace(Ay,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:t,fragmentShader:n}}});return t.transparent=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get:function(){return this.side},set:function(){}}}),t}(n),n.addEventListener("dispose",(function e(){n.removeEventListener("dispose",e),t.dispose()}))),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){var r=t._outlineMtl;return r||((r=t._outlineMtl=Object.create(t,{id:{value:t.id+.1}})).isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,t.addEventListener("dispose",(function e(){t.removeEventListener("dispose",e),r.dispose()}))),[r,t]}return t},set:function(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}},{key:"glyphGeometryDetail",get:function(){return this.geometry.detail},set:function(e){this.geometry.detail=e}},{key:"curveRadius",get:function(){return this.geometry.curveRadius},set:function(e){this.geometry.curveRadius=e}},{key:"customDepthMaterial",get:function(){return l(this.material).getDepthMaterial()}},{key:"customDistanceMaterial",get:function(){return l(this.material).getDistanceMaterial()}},{key:"_prepareForRender",value:function(e){var i=e.isTextOutlineMaterial,l=e.uniforms,c=this.textRenderInfo;if(c){var h=c.sdfTexture,d=c.blockBounds;l.uTroikaSDFTexture.value=h,l.uTroikaSDFTextureSize.value.set(h.image.width,h.image.height),l.uTroikaSDFGlyphSize.value=c.sdfGlyphSize,l.uTroikaSDFExponent.value=c.sdfExponent,l.uTroikaTotalBounds.value.fromArray(d),l.uTroikaUseGlyphColors.value=!i&&!!c.glyphColors;var f,p,m,v=0,g=0,y=0,x=0,b=0;if(i){var _=this.outlineWidth,S=this.outlineOffsetX,w=this.outlineOffsetY,M=this.outlineBlur,A=this.outlineOpacity;v=this._parsePercent(_)||0,g=Math.max(0,this._parsePercent(M)||0),f=A,x=this._parsePercent(S)||0,b=this._parsePercent(w)||0}else(y=Math.max(0,this._parsePercent(this.strokeWidth)||0))&&(m=this.strokeColor,l.uTroikaStrokeColor.value.set(null==m?t:m),null==(p=this.strokeOpacity)&&(p=1)),f=this.fillOpacity;l.uTroikaDistanceOffset.value=v,l.uTroikaPositionOffset.value.set(x,b),l.uTroikaBlurRadius.value=g,l.uTroikaStrokeWidth.value=y,l.uTroikaStrokeOpacity.value=p,l.uTroikaFillOpacity.value=null==f?1:f,l.uTroikaCurveRadius.value=this.curveRadius||0;var C=this.clipRect;if(C&&Array.isArray(C)&&4===C.length)l.uTroikaClipRect.value.fromArray(C);else{var k=100*(this.fontSize||.1);l.uTroikaClipRect.value.set(d[0]-k,d[1]-k,d[2]+k,d[3]+k)}this.geometry.applyClipRect(l.uTroikaClipRect.value)}l.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;var T=i?this.outlineColor||0:this.color;if(null==T)delete e.color;else{var E=e.hasOwnProperty("color")?e.color:e.color=new Mr;T===E._input&&"object"!==typeof T||E.set(E._input=T)}var I=this.orientation||s;if(I!==e._orientation){var B=l.uTroikaOrient.value,P=(I=I.replace(/[^-+xyz]/g,""))!==s&&I.match(/^([-+])([xyz])([-+])([xyz])$/);if(P){var R=u(P,5),L=R[1],D=R[2],F=R[3],U=R[4];r.set(0,0,0)[D]="-"===L?1:-1,a.set(0,0,0)[U]="-"===F?-1:1,n.lookAt(o,r.cross(a),a),B.setFromMatrix4(n)}else B.identity();e._orientation=I}}},{key:"_parsePercent",value:function(e){if("string"===typeof e){var t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}},{key:"localPositionToTextCoords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr;t.copy(e);var n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}},{key:"worldPositionToTextCoords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr;return r.copy(e),this.localPositionToTextCoords(this.worldToLocal(r),t)}},{key:"raycast",value:function(e,t){var n=this.textRenderInfo,r=this.curveRadius;if(n){for(var a=n.blockBounds,o=r?h():c(),s=o.geometry,l=s.attributes,u=l.position,d=l.uv,f=0;f<d.count;f++){var p=a[0]+d.getX(f)*(a[2]-a[0]),m=a[1]+d.getY(f)*(a[3]-a[1]),v=0;r&&(v=r-Math.cos(p/r)*r,p=Math.sin(p/r)*r),u.setXYZ(f,p,m,v)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,i.length=0,o.raycast(e,i);for(var g=0;g<i.length;g++)i[g].object=this,t.push(i[g])}}},{key:"copy",value:function(e){var t=this,n=this.geometry;return R(M(g.prototype),"copy",this).call(this,e),this.geometry=n,m.forEach((function(n){t[n]=e[n]})),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),g}(qi);p.forEach((function(e){var t="_private_"+e;Object.defineProperty(v.prototype,e,{get:function(){return this[t]},set:function(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}));var g=!1;return Object.defineProperty(v.prototype,"anchor",{get:function(){return this._deprecated_anchor},set:function(e){this._deprecated_anchor=e,g||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),g=!0),Array.isArray(e)?(this.anchorX="".concat(100*(+e[0]||0),"%"),this.anchorY="".concat(100*(+e[1]||0),"%")):this.anchorX=this.anchorY=0}}),v}();new WeakMap;new WeakMap;var sx=["anchorX","anchorY","font","children","characters","onSync"],lx=r.forwardRef((function(e,t){var n=e.anchorX,a=void 0===n?"center":n,i=e.anchorY,o=void 0===i?"middle":i,s=e.font,l=e.children,c=e.characters,h=e.onSync,d=v(e,sx),f=Gm((function(e){return e.invalidate})),p=u(r.useState((function(){return new ox})),1)[0],m=u(r.useMemo((function(){var e=[],t="";return r.Children.forEach(l,(function(n){"string"===typeof n||"number"===typeof n?t+=n:e.push(n)})),[e,t]}),[l]),2),g=m[0],y=m[1];return Qp((function(){return new Promise((function(e){return function(e,t){var n=e.font,r=e.characters;Qy({font:n,sdfGlyphSize:e.sdfGlyphSize,text:Array.isArray(r)?r.join("\n"):""+r},t)}({font:s,characters:c},e)}))}),["troika-text",s,c]),r.useLayoutEffect((function(){p.sync((function(){f(),h&&h(p)}))})),r.useEffect((function(){return function(){return p.dispose()}}),[p]),r.createElement("primitive",iv({object:p,ref:t,font:s,text:y,anchorX:a,anchorY:o},d),g)})),ux=JSON.parse('{"glyphs":{"0":{"ha":1158,"x_min":79,"x_max":1089,"o":"m 247 0 q 162 23 200 0 q 101 84 124 46 q 79 168 79 122 l 79 831 q 101 916 79 878 q 162 977 124 954 q 247 1000 200 1000 l 921 1000 q 1005 977 967 1000 q 1066 916 1043 954 q 1089 831 1089 878 l 1089 168 q 1066 84 1089 122 q 1005 23 1043 46 q 921 0 967 0 l 247 0 l 247 0 m 207 114 l 207 114 l 921 114 q 959 130 943 114 q 975 168 975 146 l 975 747 l 207 114 m 193 251 l 193 251 l 960 885 l 247 885 q 209 869 225 885 q 193 831 193 853 l 193 251 z "},"1":{"ha":543,"x_min":1,"x_max":419,"o":"m 304 0 l 304 0 l 304 872 l 150 688 l 1 688 l 264 1000 l 419 1000 l 419 0 l 304 0 z "},"2":{"ha":1153,"x_min":79,"x_max":1089,"o":"m 79 0 l 79 0 l 79 375 q 101 460 79 422 q 162 521 124 499 q 247 543 200 543 l 921 543 q 959 559 943 543 q 975 597 975 575 l 975 832 q 959 870 975 854 q 921 886 943 886 l 247 886 q 209 870 225 886 q 193 832 193 854 l 193 793 l 79 793 l 79 832 q 101 917 79 879 q 162 978 124 956 q 247 1001 200 1001 l 921 1001 q 1005 978 967 1001 q 1066 917 1043 956 q 1089 832 1089 879 l 1089 597 q 1066 513 1089 551 q 1005 452 1043 475 q 921 429 967 429 l 247 429 q 209 413 225 429 q 193 375 193 397 l 193 168 q 209 130 193 146 q 247 114 225 114 l 1089 114 l 1089 0 l 79 0 z "},"3":{"ha":1147,"x_min":74,"x_max":1085,"o":"m 243 0 q 158 23 196 0 q 97 84 119 46 q 74 168 74 122 l 74 190 l 189 190 l 189 168 q 205 130 189 146 q 243 114 221 114 l 917 114 q 955 130 939 114 q 971 168 971 146 l 971 400 q 955 438 971 422 q 917 454 939 454 l 265 454 l 265 568 l 872 568 q 910 584 894 568 q 926 622 926 600 l 926 832 q 910 870 926 854 q 872 886 894 886 l 243 886 q 205 870 221 886 q 189 832 189 854 l 189 796 l 74 796 l 74 832 q 97 917 74 879 q 158 978 119 956 q 243 1001 196 1001 l 872 1001 q 958 978 919 1001 q 1018 917 996 956 q 1040 832 1040 879 l 1040 622 q 1035 584 1040 603 q 1024 550 1031 565 q 1072 476 1058 517 q 1085 400 1085 436 l 1085 168 q 1062 84 1085 122 q 1001 23 1039 46 q 917 0 963 0 l 243 0 l 243 0 z "},"4":{"ha":1014,"x_min":8,"x_max":975,"o":"m 706 0 l 706 0 l 706 258 l 8 258 l 8 386 l 692 1001 l 819 1001 l 819 372 l 975 372 l 975 258 l 819 258 l 819 0 l 706 0 m 154 372 l 154 372 l 706 372 l 706 847 l 154 372 z "},"5":{"ha":1153,"x_min":79,"x_max":1089,"o":"m 247 0 q 162 23 200 0 q 101 84 124 46 q 79 168 79 122 l 79 208 l 193 208 l 193 168 q 209 130 193 146 q 247 114 225 114 l 921 114 q 959 130 943 114 q 975 168 975 146 l 975 404 q 959 442 975 426 q 921 458 943 458 l 79 458 l 79 1001 l 1089 1001 l 1089 886 l 247 886 q 209 870 225 886 q 193 832 193 854 l 193 628 q 209 589 193 606 q 247 572 225 572 l 921 572 q 1005 550 967 572 q 1066 490 1043 528 q 1089 404 1089 451 l 1089 168 q 1066 84 1089 122 q 1005 23 1043 46 q 921 0 967 0 l 247 0 l 247 0 z "},"6":{"ha":1139,"x_min":79,"x_max":1089,"o":"m 247 0 q 162 23 200 0 q 101 84 124 46 q 79 168 79 122 l 79 832 q 101 917 79 879 q 162 978 124 956 q 247 1001 200 1001 l 914 1001 l 914 886 l 247 886 q 209 870 225 886 q 193 832 193 854 l 193 632 q 209 593 193 610 q 247 576 225 576 l 921 576 q 1005 554 967 576 q 1066 494 1043 532 q 1089 408 1089 456 l 1089 168 q 1066 84 1089 122 q 1005 23 1043 46 q 921 0 967 0 l 247 0 l 247 0 m 247 114 l 921 114 q 959 130 943 114 q 975 168 975 146 l 975 408 q 959 447 975 431 q 921 463 943 463 l 193 463 l 193 168 q 209 130 193 146 q 247 114 225 114 z "},"7":{"ha":917,"x_min":4,"x_max":839,"o":"m 725 0 l 725 0 l 725 832 q 709 870 725 854 q 671 886 693 886 l 4 886 l 4 1001 l 671 1001 q 755 978 717 1001 q 816 917 793 956 q 839 832 839 879 l 839 0 l 725 0 z "},"8":{"ha":1158,"x_min":79,"x_max":1089,"o":"m 247 0 q 162 23 200 0 q 101 84 124 46 q 79 168 79 122 l 79 404 q 90 460 79 432 q 121 515 101 489 q 90 571 101 542 q 79 628 79 600 l 79 832 q 101 917 79 879 q 162 978 124 956 q 247 1001 200 1001 l 921 1001 q 994 981 960 1001 q 1053 928 1028 961 q 1089 860 1079 896 l 1089 628 q 1047 515 1089 572 q 1089 404 1089 461 l 1089 168 q 1066 84 1089 122 q 1005 23 1043 46 q 921 0 967 0 l 247 0 l 247 0 m 247 114 l 247 114 l 921 114 q 959 130 943 114 q 975 168 975 146 l 975 404 q 959 442 975 426 q 921 458 943 458 l 247 458 q 209 442 225 458 q 193 404 193 426 l 193 168 q 209 130 193 146 q 247 114 225 114 m 247 557 l 247 557 l 921 557 q 959 573 943 557 q 975 611 975 589 l 975 831 q 959 869 975 853 q 921 885 943 885 l 247 885 q 209 869 225 885 q 193 831 193 853 l 193 611 q 209 573 193 589 q 247 557 225 557 z "},"9":{"ha":1150,"x_min":71,"x_max":1082,"o":"m 240 0 q 172 15 204 0 q 115 55 139 29 q 81 114 92 81 l 914 114 q 952 130 936 114 q 968 168 968 146 l 968 369 q 952 408 968 392 q 914 424 936 424 l 240 424 q 155 447 193 424 q 94 508 117 469 q 71 592 71 546 l 71 832 q 94 917 71 879 q 155 978 117 956 q 240 1001 193 1001 l 914 1001 q 998 978 960 1001 q 1059 917 1036 956 q 1082 832 1082 879 l 1082 168 q 1059 84 1082 122 q 998 23 1036 46 q 914 0 960 0 l 240 0 l 240 0 m 240 538 l 240 538 l 968 538 l 968 832 q 952 870 968 854 q 914 886 936 886 l 240 886 q 202 870 218 886 q 186 832 186 854 l 186 592 q 202 553 186 569 q 240 538 218 538 z "},"A":{"ha":1161,"x_min":81,"x_max":1081,"o":"m 81 0 l 81 833 q 103 917 81 879 q 163 978 125 956 q 247 1000 201 1000 l 914 1000 q 998 978 960 1000 q 1058 917 1036 956 q 1081 833 1081 879 l 1081 0 l 968 0 l 968 365 l 193 365 l 193 0 l 81 0 l 81 0 m 193 478 l 968 478 l 968 833 q 952 872 968 856 q 914 888 936 888 l 247 888 q 209 872 225 888 q 193 833 193 856 l 193 478 l 193 478 z "},"\xc1":{"ha":1161,"x_min":81,"x_max":1081,"o":"m 81 0 l 81 833 q 103 917 81 879 q 163 978 125 956 q 247 1000 201 1000 l 914 1000 q 998 978 960 1000 q 1058 917 1036 956 q 1081 833 1081 879 l 1081 0 l 968 0 l 968 365 l 193 365 l 193 0 l 81 0 l 81 0 m 193 478 l 968 478 l 968 833 q 952 872 968 856 q 914 888 936 888 l 247 888 q 209 872 225 888 q 193 833 193 856 l 193 478 l 193 478 m 515 1083 l 515 1083 l 564 1276 l 674 1276 l 626 1083 l 515 1083 z "},"\xc2":{"ha":1161,"x_min":81,"x_max":1081,"o":"m 81 0 l 81 833 q 103 917 81 879 q 163 978 125 956 q 247 1000 201 1000 l 914 1000 q 998 978 960 1000 q 1058 917 1036 956 q 1081 833 1081 879 l 1081 0 l 968 0 l 968 365 l 193 365 l 193 0 l 81 0 l 81 0 m 193 478 l 968 478 l 968 833 q 952 872 968 856 q 914 888 936 888 l 247 888 q 209 872 225 888 q 193 833 193 856 l 193 478 l 193 478 m 414 1125 l 414 1125 l 526 1315 l 636 1315 l 749 1125 l 663 1125 l 582 1271 l 499 1125 l 414 1125 z "},"\xc4":{"ha":1161,"x_min":81,"x_max":1081,"o":"m 81 0 l 81 833 q 103 917 81 879 q 163 978 125 956 q 247 1000 201 1000 l 914 1000 q 998 978 960 1000 q 1058 917 1036 956 q 1081 833 1081 879 l 1081 0 l 968 0 l 968 365 l 193 365 l 193 0 l 81 0 l 81 0 m 193 478 l 968 478 l 968 833 q 952 872 968 856 q 914 888 936 888 l 247 888 q 209 872 225 888 q 193 833 193 856 l 193 478 l 193 478 m 650 1083 l 650 1083 l 650 1197 l 765 1197 l 765 1083 l 650 1083 m 396 1083 l 396 1083 l 396 1197 l 511 1197 l 511 1083 l 396 1083 z "},"\xc0":{"ha":1161,"x_min":81,"x_max":1081,"o":"m 81 0 l 81 833 q 103 917 81 879 q 163 978 125 956 q 247 1000 201 1000 l 914 1000 q 998 978 960 1000 q 1058 917 1036 956 q 1081 833 1081 879 l 1081 0 l 968 0 l 968 365 l 193 365 l 193 0 l 81 0 l 81 0 m 193 478 l 968 478 l 968 833 q 952 872 968 856 q 914 888 936 888 l 247 888 q 209 872 225 888 q 193 833 193 856 l 193 478 l 193 478 m 535 1083 l 535 1083 l 486 1276 l 599 1276 l 646 1083 l 535 1083 z "},"\xc5":{"ha":1161,"x_min":81,"x_max":1081,"o":"m 81 0 l 81 833 q 103 917 81 879 q 163 978 125 956 q 247 1000 201 1000 l 914 1000 q 998 978 960 1000 q 1058 917 1036 956 q 1081 833 1081 879 l 1081 0 l 968 0 l 968 365 l 193 365 l 193 0 l 81 0 l 81 0 m 193 478 l 968 478 l 968 833 q 952 872 968 856 q 914 888 936 888 l 247 888 q 209 872 225 888 q 193 833 193 856 l 193 478 l 193 478 m 542 1113 q 489 1134 511 1113 q 467 1186 467 1156 l 467 1261 q 489 1313 467 1292 q 542 1335 511 1335 l 619 1335 q 672 1313 650 1335 q 694 1261 694 1292 l 694 1186 q 672 1134 694 1156 q 619 1113 650 1113 l 542 1113 m 535 1168 l 626 1168 q 635 1172 632 1168 q 639 1182 639 1176 l 639 1265 q 635 1275 639 1271 q 626 1279 632 1279 l 535 1279 q 526 1275 529 1279 q 522 1265 522 1271 l 522 1182 q 526 1172 522 1176 q 535 1168 529 1168 z "},"\xc3":{"ha":1161,"x_min":81,"x_max":1081,"o":"m 81 0 l 81 833 q 103 917 81 879 q 163 978 125 956 q 247 1000 201 1000 l 914 1000 q 998 978 960 1000 q 1058 917 1036 956 q 1081 833 1081 879 l 1081 0 l 968 0 l 968 365 l 193 365 l 193 0 l 81 0 l 81 0 m 193 478 l 968 478 l 968 833 q 952 872 968 856 q 914 888 936 888 l 247 888 q 209 872 225 888 q 193 833 193 856 l 193 478 l 193 478 m 733 1138 q 564 1200 660 1138 q 397 1263 471 1263 l 344 1263 l 344 1353 l 425 1353 q 579 1290 483 1353 q 743 1228 675 1228 l 817 1228 l 817 1138 l 733 1138 l 733 1138 z "},"\xc6":{"ha":1910,"x_min":75,"x_max":1875,"o":"m 75 0 l 75 0 l 75 833 q 97 917 75 879 q 158 978 119 956 q 242 1000 196 1000 l 1875 1000 l 1875 888 l 1075 888 l 1075 557 l 1718 557 l 1718 443 l 1075 443 l 1075 113 l 1875 113 l 1875 0 l 963 0 l 963 365 l 188 365 l 188 0 l 75 0 m 188 478 l 188 478 l 963 478 l 963 833 q 947 872 963 856 q 908 888 931 888 l 242 888 q 203 872 219 888 q 188 833 188 856 l 188 478 z "},"B":{"ha":1156,"x_min":82,"x_max":1082,"o":"m 82 0 l 82 1000 l 872 1000 q 956 978 918 1000 q 1017 917 994 956 q 1039 833 1039 879 l 1039 621 q 1034 583 1039 601 q 1021 547 1029 564 q 1067 468 1051 501 q 1082 400 1082 435 l 1082 167 q 1060 83 1082 121 q 999 22 1038 44 q 915 0 961 0 l 82 0 l 82 0 m 249 113 l 915 113 q 953 128 938 113 q 969 167 969 144 l 969 400 q 953 438 969 422 q 915 454 938 454 l 249 454 q 210 438 226 454 q 194 400 194 422 l 194 167 q 210 128 194 144 q 249 113 226 113 m 249 567 l 872 567 q 910 583 894 567 q 925 621 925 599 l 925 833 q 910 872 925 856 q 872 888 894 888 l 249 888 q 210 872 226 888 q 194 833 194 856 l 194 621 q 210 583 194 599 q 249 567 226 567 z "},"C":{"ha":1142,"x_min":78,"x_max":1075,"o":"m 244 0 q 160 22 199 0 q 100 83 122 44 q 78 167 78 121 l 78 833 q 100 917 78 879 q 160 978 122 956 q 244 1000 199 1000 l 1075 1000 l 1075 888 l 244 888 q 206 872 222 888 q 190 833 190 856 l 190 167 q 206 128 190 144 q 244 113 222 113 l 1075 113 l 1075 0 l 244 0 z "},"\xc7":{"ha":1142,"x_min":78,"x_max":1075,"o":"m 244 0 q 160 22 199 0 q 100 83 122 44 q 78 167 78 121 l 78 833 q 100 917 78 879 q 160 978 122 956 q 244 1000 199 1000 l 1075 1000 l 1075 888 l 244 888 q 206 872 222 888 q 190 833 190 856 l 190 167 q 206 128 190 144 q 244 113 222 113 l 1075 113 l 1075 0 l 244 0 m 510 -193 l 564 22 l 674 22 l 621 -193 l 510 -193 z "},"D":{"ha":1158,"x_min":81,"x_max":1081,"o":"m 81 0 l 81 1000 l 914 1000 q 998 978 960 1000 q 1058 917 1036 956 q 1081 833 1081 879 l 1081 167 q 1058 83 1081 121 q 998 22 1036 44 q 914 0 960 0 l 81 0 m 247 113 l 914 113 q 952 128 936 113 q 968 167 968 144 l 968 833 q 952 872 968 856 q 914 888 936 888 l 247 888 q 209 872 225 888 q 193 833 193 856 l 193 167 q 209 128 193 144 q 247 113 225 113 z "},"E":{"ha":1064,"x_min":81,"x_max":993,"o":"m 81 0 l 81 1000 l 993 1000 l 993 888 l 193 888 l 193 557 l 836 557 l 836 443 l 193 443 l 193 113 l 993 113 l 993 0 l 81 0 z "},"\xc9":{"ha":1064,"x_min":81,"x_max":993,"o":"m 81 0 l 81 1000 l 993 1000 l 993 888 l 193 888 l 193 557 l 836 557 l 836 443 l 193 443 l 193 113 l 993 113 l 993 0 l 81 0 m 488 1083 l 488 1083 l 536 1276 l 646 1276 l 599 1083 l 488 1083 z "},"\xca":{"ha":1064,"x_min":81,"x_max":993,"o":"m 81 0 l 81 1000 l 993 1000 l 993 888 l 193 888 l 193 557 l 836 557 l 836 443 l 193 443 l 193 113 l 993 113 l 993 0 l 81 0 m 386 1125 l 386 1125 l 499 1315 l 608 1315 l 721 1125 l 635 1125 l 554 1271 l 471 1125 l 386 1125 z "},"\xcb":{"ha":1064,"x_min":81,"x_max":993,"o":"m 81 0 l 81 1000 l 993 1000 l 993 888 l 193 888 l 193 557 l 836 557 l 836 443 l 193 443 l 193 113 l 993 113 l 993 0 l 81 0 m 622 1083 l 622 1083 l 622 1197 l 738 1197 l 738 1083 l 622 1083 m 368 1083 l 368 1083 l 368 1197 l 483 1197 l 483 1083 l 368 1083 z "},"\xc8":{"ha":1064,"x_min":81,"x_max":993,"o":"m 81 0 l 81 1000 l 993 1000 l 993 888 l 193 888 l 193 557 l 836 557 l 836 443 l 193 443 l 193 113 l 993 113 l 993 0 l 81 0 m 507 1083 l 507 1083 l 458 1276 l 571 1276 l 618 1083 l 507 1083 z "},"F":{"ha":1004,"x_min":81,"x_max":993,"o":"m 81 0 l 81 1000 l 993 1000 l 993 888 l 193 888 l 193 557 l 836 557 l 836 443 l 193 443 l 193 0 l 81 0 z "},"G":{"ha":1153,"x_min":78,"x_max":1078,"o":"m 244 0 q 160 22 199 0 q 100 83 122 44 q 78 167 78 121 l 78 833 q 100 917 78 879 q 160 978 122 956 q 244 1000 199 1000 l 911 1000 q 995 978 957 1000 q 1056 917 1033 956 q 1078 833 1078 879 l 1078 793 l 965 793 l 965 833 q 949 872 965 856 q 911 888 933 888 l 244 888 q 206 872 222 888 q 190 833 190 856 l 190 167 q 206 128 190 144 q 244 113 222 113 l 911 113 q 949 128 933 113 q 965 167 965 144 l 965 414 l 718 414 l 718 528 l 1078 528 l 1078 167 q 1056 83 1078 121 q 995 22 1033 44 q 911 0 957 0 l 244 0 z "},"H":{"ha":1182,"x_min":79,"x_max":1104,"o":"m 79 0 l 79 1000 l 192 1000 l 192 557 l 990 557 l 990 1000 l 1104 1000 l 1104 0 l 990 0 l 990 443 l 192 443 l 192 0 l 79 0 z "},"I":{"ha":297,"x_min":92,"x_max":206,"o":"m 92 0 l 92 1000 l 206 1000 l 206 0 l 92 0 z "},"\xcd":{"ha":297,"x_min":86,"x_max":244,"o":"m 92 0 l 92 1000 l 206 1000 l 206 0 l 92 0 m 86 1083 l 86 1083 l 135 1276 l 244 1276 l 197 1083 l 86 1083 z "},"\xce":{"ha":297,"x_min":-15,"x_max":319,"o":"m 92 0 l 92 1000 l 206 1000 l 206 0 l 92 0 m -15 1125 l -15 1125 l 97 1315 l 207 1315 l 319 1125 l 233 1125 l 153 1271 l 69 1125 l -15 1125 z "},"\xcf":{"ha":297,"x_min":-33,"x_max":336,"o":"m 92 0 l 92 1000 l 206 1000 l 206 0 l 92 0 m 221 1083 l 221 1083 l 221 1197 l 336 1197 l 336 1083 l 221 1083 m -33 1083 l -33 1083 l -33 1197 l 82 1197 l 82 1083 l -33 1083 z "},"\xcc":{"ha":297,"x_min":57,"x_max":217,"o":"m 92 0 l 92 1000 l 206 1000 l 206 0 l 92 0 m 106 1083 l 106 1083 l 57 1276 l 169 1276 l 217 1083 l 106 1083 z "},"J":{"ha":1083,"x_min":6,"x_max":1006,"o":"m 172 0 q 88 22 126 0 q 28 83 50 44 q 6 167 6 121 l 6 246 l 118 246 l 118 167 q 134 128 118 144 q 172 113 150 113 l 839 113 q 877 128 861 113 q 893 167 893 144 l 893 1000 l 1006 1000 l 1006 167 q 983 83 1006 121 q 923 22 961 44 q 839 0 885 0 l 172 0 z "},"K":{"ha":1107,"x_min":79,"x_max":1033,"o":"m 79 0 l 79 1000 l 193 1000 l 193 557 l 515 557 l 888 1000 l 1032 1000 l 1032 999 l 614 500 l 1033 1 l 1033 0 l 888 0 l 515 443 l 193 443 l 193 0 l 79 0 z "},"L":{"ha":1082,"x_min":79,"x_max":1079,"o":"m 79 0 l 79 1001 l 192 1001 l 192 113 l 1079 113 l 1079 0 l 79 0 z "},"M":{"ha":1289,"x_min":78,"x_max":1217,"o":"m 78 0 l 78 1000 l 232 1000 l 647 506 l 1063 1000 l 1217 1000 l 1217 0 l 1104 0 l 1104 872 l 647 329 l 190 872 l 190 0 l 78 0 z "},"N":{"ha":1156,"x_min":78,"x_max":1078,"o":"m 78 0 l 78 1000 l 232 1000 l 965 128 l 965 1000 l 1078 1000 l 1078 0 l 924 0 l 190 872 l 190 0 l 78 0 z "},"\xd1":{"ha":1156,"x_min":78,"x_max":1078,"o":"m 78 0 l 78 1000 l 232 1000 l 965 128 l 965 1000 l 1078 1000 l 1078 0 l 924 0 l 190 872 l 190 0 l 78 0 m 713 1138 q 543 1200 639 1138 q 376 1263 450 1263 l 324 1263 l 324 1353 l 404 1353 q 558 1290 463 1353 q 722 1228 654 1228 l 796 1228 l 796 1138 l 713 1138 l 713 1138 z "},"O":{"ha":1150,"x_min":75,"x_max":1075,"o":"m 242 0 q 158 22 196 0 q 97 83 119 44 q 75 167 75 121 l 75 833 q 97 917 75 879 q 158 978 119 956 q 242 1000 196 1000 l 908 1000 q 992 978 954 1000 q 1053 917 1031 956 q 1075 833 1075 879 l 1075 167 q 1053 83 1075 121 q 992 22 1031 44 q 908 0 954 0 l 242 0 m 242 113 l 908 113 q 947 128 931 113 q 963 167 963 144 l 963 833 q 947 872 963 856 q 908 888 931 888 l 242 888 q 203 872 219 888 q 188 833 188 856 l 188 167 q 203 128 188 144 q 242 113 219 113 z "},"\xd3":{"ha":1150,"x_min":75,"x_max":1075,"o":"m 242 0 q 158 22 196 0 q 97 83 119 44 q 75 167 75 121 l 75 833 q 97 917 75 879 q 158 978 119 956 q 242 1000 196 1000 l 908 1000 q 992 978 954 1000 q 1053 917 1031 956 q 1075 833 1075 879 l 1075 167 q 1053 83 1075 121 q 992 22 1031 44 q 908 0 954 0 l 242 0 m 242 113 l 908 113 q 947 128 931 113 q 963 167 963 144 l 963 833 q 947 872 963 856 q 908 888 931 888 l 242 888 q 203 872 219 888 q 188 833 188 856 l 188 167 q 203 128 188 144 q 242 113 219 113 m 510 1083 l 510 1083 l 558 1276 l 668 1276 l 621 1083 l 510 1083 z "},"\xd4":{"ha":1150,"x_min":75,"x_max":1075,"o":"m 242 0 q 158 22 196 0 q 97 83 119 44 q 75 167 75 121 l 75 833 q 97 917 75 879 q 158 978 119 956 q 242 1000 196 1000 l 908 1000 q 992 978 954 1000 q 1053 917 1031 956 q 1075 833 1075 879 l 1075 167 q 1053 83 1075 121 q 992 22 1031 44 q 908 0 954 0 l 242 0 m 242 113 l 908 113 q 947 128 931 113 q 963 167 963 144 l 963 833 q 947 872 963 856 q 908 888 931 888 l 242 888 q 203 872 219 888 q 188 833 188 856 l 188 167 q 203 128 188 144 q 242 113 219 113 m 408 1125 l 408 1125 l 521 1315 l 631 1315 l 743 1125 l 657 1125 l 576 1271 l 493 1125 l 408 1125 z "},"\xd6":{"ha":1150,"x_min":75,"x_max":1075,"o":"m 242 0 q 158 22 196 0 q 97 83 119 44 q 75 167 75 121 l 75 833 q 97 917 75 879 q 158 978 119 956 q 242 1000 196 1000 l 908 1000 q 992 978 954 1000 q 1053 917 1031 956 q 1075 833 1075 879 l 1075 167 q 1053 83 1075 121 q 992 22 1031 44 q 908 0 954 0 l 242 0 m 242 113 l 908 113 q 947 128 931 113 q 963 167 963 144 l 963 833 q 947 872 963 856 q 908 888 931 888 l 242 888 q 203 872 219 888 q 188 833 188 856 l 188 167 q 203 128 188 144 q 242 113 219 113 m 644 1083 l 644 1083 l 644 1197 l 760 1197 l 760 1083 l 644 1083 m 390 1083 l 390 1083 l 390 1197 l 506 1197 l 506 1083 l 390 1083 z "},"\xd2":{"ha":1150,"x_min":75,"x_max":1075,"o":"m 242 0 q 158 22 196 0 q 97 83 119 44 q 75 167 75 121 l 75 833 q 97 917 75 879 q 158 978 119 956 q 242 1000 196 1000 l 908 1000 q 992 978 954 1000 q 1053 917 1031 956 q 1075 833 1075 879 l 1075 167 q 1053 83 1075 121 q 992 22 1031 44 q 908 0 954 0 l 242 0 m 242 113 l 908 113 q 947 128 931 113 q 963 167 963 144 l 963 833 q 947 872 963 856 q 908 888 931 888 l 242 888 q 203 872 219 888 q 188 833 188 856 l 188 167 q 203 128 188 144 q 242 113 219 113 m 529 1083 l 529 1083 l 481 1276 l 593 1276 l 640 1083 l 529 1083 z "},"\xd5":{"ha":1150,"x_min":75,"x_max":1075,"o":"m 242 0 q 158 22 196 0 q 97 83 119 44 q 75 167 75 121 l 75 833 q 97 917 75 879 q 158 978 119 956 q 242 1000 196 1000 l 908 1000 q 992 978 954 1000 q 1053 917 1031 956 q 1075 833 1075 879 l 1075 167 q 1053 83 1075 121 q 992 22 1031 44 q 908 0 954 0 l 242 0 m 242 113 l 908 113 q 947 128 931 113 q 963 167 963 144 l 963 833 q 947 872 963 856 q 908 888 931 888 l 242 888 q 203 872 219 888 q 188 833 188 856 l 188 167 q 203 128 188 144 q 242 113 219 113 m 728 1138 q 558 1200 654 1138 q 392 1263 465 1263 l 339 1263 l 339 1353 l 419 1353 q 574 1290 478 1353 q 738 1228 669 1228 l 811 1228 l 811 1138 l 728 1138 l 728 1138 z "},"\u0152":{"ha":1908,"x_min":74,"x_max":1874,"o":"m 240 0 q 156 22 194 0 q 96 83 118 44 q 74 167 74 121 l 74 833 q 96 917 74 879 q 156 978 118 956 q 240 1000 194 1000 l 1874 1000 l 1874 888 l 1074 888 l 1074 557 l 1717 557 l 1717 443 l 1074 443 l 1074 113 l 1874 113 l 1874 0 l 240 0 m 240 113 l 907 113 q 945 128 929 113 q 961 167 961 144 l 961 833 q 945 872 961 856 q 907 888 929 888 l 240 888 q 202 872 218 888 q 186 833 186 856 l 186 167 q 202 128 186 144 q 240 113 218 113 z "},"P":{"ha":1099,"x_min":78,"x_max":1078,"o":"m 78 0 l 78 999 l 911 999 q 995 976 957 999 q 1056 915 1033 953 q 1078 832 1078 878 l 1078 539 q 1056 456 1078 493 q 995 395 1033 418 q 911 372 957 372 l 190 372 l 190 0 l 78 0 m 244 486 l 911 486 q 949 501 933 486 q 965 539 965 517 l 965 832 q 949 870 965 854 q 911 886 933 886 l 244 886 q 206 870 222 886 q 190 832 190 854 l 190 539 q 206 501 190 517 q 244 486 222 486 z "},"Q":{"ha":1228,"x_min":75,"x_max":1206,"o":"m 897 0 l 897 50 l 1075 171 l 1075 113 l 1206 113 l 1206 0 l 897 0 m 242 0 q 158 22 196 0 q 97 83 119 44 q 75 167 75 121 l 75 833 q 97 917 75 879 q 158 978 119 956 q 242 1000 196 1000 l 908 1000 q 992 978 954 1000 q 1053 917 1031 956 q 1075 833 1075 879 l 1075 167 q 1053 83 1075 121 q 992 22 1031 44 q 908 0 954 0 l 242 0 m 242 113 l 908 113 q 947 128 931 113 q 963 167 963 144 l 963 833 q 947 872 963 856 q 908 888 931 888 l 242 888 q 203 872 219 888 q 188 833 188 856 l 188 167 q 203 128 188 144 q 242 113 219 113 z "},"R":{"ha":1146,"x_min":78,"x_max":1078,"o":"m 922 0 l 596 389 l 743 389 l 1071 1 l 1071 0 l 922 0 m 78 0 l 78 999 l 911 999 q 995 976 957 999 q 1056 915 1033 953 q 1078 832 1078 878 l 1078 539 q 1056 456 1078 493 q 995 395 1033 418 q 911 372 957 372 l 190 372 l 190 0 l 78 0 m 244 486 l 911 486 q 949 501 933 486 q 965 539 965 517 l 965 832 q 949 870 965 854 q 911 886 933 886 l 244 886 q 206 870 222 886 q 190 832 190 854 l 190 539 q 206 501 190 517 q 244 486 222 486 z "},"S":{"ha":1142,"x_min":71,"x_max":1071,"o":"m 238 0 q 153 22 192 0 q 93 83 115 44 q 71 167 71 121 l 71 206 l 183 206 l 183 167 q 199 128 183 144 q 238 113 215 113 l 904 113 q 942 128 926 113 q 958 167 958 144 l 958 390 q 942 428 958 413 q 904 443 926 443 l 238 443 q 153 466 192 443 q 93 526 115 489 q 71 610 71 564 l 71 833 q 93 917 71 879 q 153 978 115 956 q 238 1000 192 1000 l 904 1000 q 988 978 950 1000 q 1049 917 1026 956 q 1071 833 1071 879 l 1071 794 l 958 794 l 958 833 q 942 872 958 856 q 904 888 926 888 l 238 888 q 199 872 215 888 q 183 833 183 856 l 183 610 q 199 572 183 588 q 238 557 215 557 l 904 557 q 988 534 950 557 q 1049 474 1026 511 q 1071 390 1071 436 l 1071 167 q 1049 83 1071 121 q 988 22 1026 44 q 904 0 950 0 l 238 0 z "},"\u0160":{"ha":1142,"x_min":71,"x_max":1071,"o":"m 238 0 q 153 22 192 0 q 93 83 115 44 q 71 167 71 121 l 71 206 l 183 206 l 183 167 q 199 128 183 144 q 238 113 215 113 l 904 113 q 942 128 926 113 q 958 167 958 144 l 958 390 q 942 428 958 413 q 904 443 926 443 l 238 443 q 153 466 192 443 q 93 526 115 489 q 71 610 71 564 l 71 833 q 93 917 71 879 q 153 978 115 956 q 238 1000 192 1000 l 904 1000 q 988 978 950 1000 q 1049 917 1026 956 q 1071 833 1071 879 l 1071 794 l 958 794 l 958 833 q 942 872 958 856 q 904 888 926 888 l 238 888 q 199 872 215 888 q 183 833 183 856 l 183 610 q 199 572 183 588 q 238 557 215 557 l 904 557 q 988 534 950 557 q 1049 474 1026 511 q 1071 390 1071 436 l 1071 167 q 1049 83 1071 121 q 988 22 1026 44 q 904 0 950 0 l 238 0 m 535 1083 l 535 1083 l 435 1246 l 493 1246 l 576 1128 l 657 1246 l 714 1246 l 617 1083 l 535 1083 z "},"T":{"ha":1054,"x_min":28,"x_max":1028,"o":"m 472 0 l 472 0 l 472 888 l 28 888 l 28 1000 l 1028 1000 l 1028 888 l 585 888 l 585 0 l 472 0 z "},"U":{"ha":1150,"x_min":75,"x_max":1075,"o":"m 242 0 q 158 22 196 0 q 97 83 119 44 q 75 167 75 121 l 75 1000 l 188 1000 l 188 167 q 203 128 188 144 q 242 113 219 113 l 908 113 q 947 128 931 113 q 963 167 963 144 l 963 1000 l 1075 1000 l 1075 167 q 1053 83 1075 121 q 992 22 1031 44 q 908 0 954 0 l 242 0 l 242 0 z "},"\xda":{"ha":1150,"x_min":75,"x_max":1075,"o":"m 242 0 q 158 22 196 0 q 97 83 119 44 q 75 167 75 121 l 75 1000 l 188 1000 l 188 167 q 203 128 188 144 q 242 113 219 113 l 908 113 q 947 128 931 113 q 963 167 963 144 l 963 1000 l 1075 1000 l 1075 167 q 1053 83 1075 121 q 992 22 1031 44 q 908 0 954 0 l 242 0 l 242 0 m 510 1083 l 510 1083 l 558 1276 l 668 1276 l 621 1083 l 510 1083 z "},"\xdb":{"ha":1150,"x_min":75,"x_max":1075,"o":"m 242 0 q 158 22 196 0 q 97 83 119 44 q 75 167 75 121 l 75 1000 l 188 1000 l 188 167 q 203 128 188 144 q 242 113 219 113 l 908 113 q 947 128 931 113 q 963 167 963 144 l 963 1000 l 1075 1000 l 1075 167 q 1053 83 1075 121 q 992 22 1031 44 q 908 0 954 0 l 242 0 l 242 0 m 408 1125 l 408 1125 l 521 1315 l 631 1315 l 743 1125 l 657 1125 l 576 1271 l 493 1125 l 408 1125 z "},"\xdc":{"ha":1150,"x_min":75,"x_max":1075,"o":"m 242 0 q 158 22 196 0 q 97 83 119 44 q 75 167 75 121 l 75 1000 l 188 1000 l 188 167 q 203 128 188 144 q 242 113 219 113 l 908 113 q 947 128 931 113 q 963 167 963 144 l 963 1000 l 1075 1000 l 1075 167 q 1053 83 1075 121 q 992 22 1031 44 q 908 0 954 0 l 242 0 l 242 0 m 644 1083 l 644 1083 l 644 1197 l 760 1197 l 760 1083 l 644 1083 m 390 1083 l 390 1083 l 390 1197 l 506 1197 l 506 1083 l 390 1083 z "},"\xd9":{"ha":1150,"x_min":75,"x_max":1075,"o":"m 242 0 q 158 22 196 0 q 97 83 119 44 q 75 167 75 121 l 75 1000 l 188 1000 l 188 167 q 203 128 188 144 q 242 113 219 113 l 908 113 q 947 128 931 113 q 963 167 963 144 l 963 1000 l 1075 1000 l 1075 167 q 1053 83 1075 121 q 992 22 1031 44 q 908 0 954 0 l 242 0 l 242 0 m 529 1083 l 529 1083 l 481 1276 l 593 1276 l 640 1083 l 529 1083 z "},"V":{"ha":1393,"x_min":49,"x_max":1336,"o":"m 628 0 l 628 0 l 49 1000 l 181 1000 l 693 110 l 1204 1000 l 1336 1000 l 758 0 l 628 0 z "},"W":{"ha":1638,"x_min":49,"x_max":1594,"o":"m 413 0 l 413 0 l 49 1000 l 168 1000 l 461 197 l 753 1000 l 889 1000 l 1182 197 l 1472 1000 l 1594 1000 l 1231 0 l 1132 0 l 821 854 l 510 0 l 413 0 z "},"X":{"ha":1128,"x_min":64,"x_max":1050,"o":"m 64 0 l 64 0 l 64 1 l 483 500 l 64 999 l 64 1000 l 208 1000 l 557 588 l 904 1000 l 1049 1000 l 1049 999 l 629 500 l 1050 1 l 1050 0 l 904 0 l 557 413 l 208 0 l 64 0 z "},"Y":{"ha":1119,"x_min":44,"x_max":1076,"o":"m 504 0 l 504 0 l 504 376 l 44 1000 l 174 1000 l 561 511 l 944 1000 l 1076 1000 l 617 376 l 617 0 l 504 0 z "},"\xdd":{"ha":1119,"x_min":44,"x_max":1076,"o":"m 504 0 l 504 0 l 504 376 l 44 1000 l 174 1000 l 561 511 l 944 1000 l 1076 1000 l 617 376 l 617 0 l 504 0 m 493 1083 l 493 1083 l 542 1276 l 651 1276 l 604 1083 l 493 1083 z "},"\u0178":{"ha":1119,"x_min":44,"x_max":1076,"o":"m 504 0 l 504 0 l 504 376 l 44 1000 l 174 1000 l 561 511 l 944 1000 l 1076 1000 l 617 376 l 617 0 l 504 0 m 628 1083 l 628 1083 l 628 1197 l 743 1197 l 743 1083 l 628 1083 m 374 1083 l 374 1083 l 374 1197 l 489 1197 l 489 1083 l 374 1083 z "},"Z":{"ha":1140,"x_min":71,"x_max":1071,"o":"m 71 0 l 71 0 l 71 154 l 943 888 l 71 888 l 71 1000 l 1071 1000 l 1071 846 l 199 113 l 1071 113 l 1071 0 l 71 0 z "},"\u017d":{"ha":1140,"x_min":71,"x_max":1071,"o":"m 71 0 l 71 0 l 71 154 l 943 888 l 71 888 l 71 1000 l 1071 1000 l 1071 846 l 199 113 l 1071 113 l 1071 0 l 71 0 m 531 1083 l 531 1083 l 431 1246 l 489 1246 l 572 1128 l 653 1246 l 710 1246 l 613 1083 l 531 1083 z "},"a":{"ha":964,"x_min":72,"x_max":893,"o":"m 240 0 q 156 23 194 0 q 95 84 118 46 q 72 168 72 122 l 72 460 l 778 460 l 778 638 q 762 676 778 660 q 724 692 746 692 l 72 692 l 72 806 l 724 806 q 809 783 771 806 q 870 722 847 760 q 893 638 893 683 l 893 0 l 240 0 m 240 114 l 778 114 l 778 346 l 186 346 l 186 168 q 202 130 186 146 q 240 114 218 114 z "},"\xe1":{"ha":964,"x_min":72,"x_max":893,"o":"m 240 0 q 156 23 194 0 q 95 84 118 46 q 72 168 72 122 l 72 460 l 778 460 l 778 638 q 762 676 778 660 q 724 692 746 692 l 72 692 l 72 806 l 724 806 q 809 783 771 806 q 870 722 847 760 q 893 638 893 683 l 893 0 l 240 0 m 240 114 l 778 114 l 778 346 l 186 346 l 186 168 q 202 130 186 146 q 240 114 218 114 m 444 889 l 444 889 l 493 1082 l 603 1082 l 556 889 l 444 889 z "},"\xe2":{"ha":964,"x_min":72,"x_max":893,"o":"m 240 0 q 156 23 194 0 q 95 84 118 46 q 72 168 72 122 l 72 460 l 778 460 l 778 638 q 762 676 778 660 q 724 692 746 692 l 72 692 l 72 806 l 724 806 q 809 783 771 806 q 870 722 847 760 q 893 638 893 683 l 893 0 l 240 0 m 240 114 l 778 114 l 778 346 l 186 346 l 186 168 q 202 130 186 146 q 240 114 218 114 m 343 931 l 343 931 l 456 1121 l 565 1121 l 678 931 l 592 931 l 511 1076 l 428 931 l 343 931 z "},"\xe4":{"ha":964,"x_min":72,"x_max":893,"o":"m 240 0 q 156 23 194 0 q 95 84 118 46 q 72 168 72 122 l 72 460 l 778 460 l 778 638 q 762 676 778 660 q 724 692 746 692 l 72 692 l 72 806 l 724 806 q 809 783 771 806 q 870 722 847 760 q 893 638 893 683 l 893 0 l 240 0 m 240 114 l 778 114 l 778 346 l 186 346 l 186 168 q 202 130 186 146 q 240 114 218 114 m 579 889 l 579 889 l 579 1003 l 694 1003 l 694 889 l 579 889 m 325 889 l 325 889 l 325 1003 l 440 1003 l 440 889 l 325 889 z "},"\xe0":{"ha":964,"x_min":72,"x_max":893,"o":"m 240 0 q 156 23 194 0 q 95 84 118 46 q 72 168 72 122 l 72 460 l 778 460 l 778 638 q 762 676 778 660 q 724 692 746 692 l 72 692 l 72 806 l 724 806 q 809 783 771 806 q 870 722 847 760 q 893 638 893 683 l 893 0 l 240 0 m 240 114 l 778 114 l 778 346 l 186 346 l 186 168 q 202 130 186 146 q 240 114 218 114 m 464 889 l 464 889 l 415 1082 l 528 1082 l 575 889 l 464 889 z "},"\xe5":{"ha":964,"x_min":72,"x_max":893,"o":"m 240 0 q 156 23 194 0 q 95 84 118 46 q 72 168 72 122 l 72 460 l 778 460 l 778 638 q 762 676 778 660 q 724 692 746 692 l 72 692 l 72 806 l 724 806 q 809 783 771 806 q 870 722 847 760 q 893 638 893 683 l 893 0 l 240 0 m 240 114 l 778 114 l 778 346 l 186 346 l 186 168 q 202 130 186 146 q 240 114 218 114 m 471 918 q 418 940 440 918 q 396 992 396 961 l 396 1067 q 418 1119 396 1097 q 471 1140 440 1140 l 549 1140 q 601 1119 579 1140 q 624 1067 624 1097 l 624 992 q 601 940 624 961 q 549 918 579 918 l 471 918 m 464 974 l 556 974 q 565 978 561 974 q 568 988 568 982 l 568 1071 q 565 1081 568 1076 q 556 1085 561 1085 l 464 1085 q 455 1081 458 1085 q 451 1071 451 1076 l 451 988 q 455 978 451 982 q 464 974 458 974 z "},"\xe3":{"ha":964,"x_min":72,"x_max":893,"o":"m 240 0 q 156 23 194 0 q 95 84 118 46 q 72 168 72 122 l 72 460 l 778 460 l 778 638 q 762 676 778 660 q 724 692 746 692 l 72 692 l 72 806 l 724 806 q 809 783 771 806 q 870 722 847 760 q 893 638 893 683 l 893 0 l 240 0 m 240 114 l 778 114 l 778 346 l 186 346 l 186 168 q 202 130 186 146 q 240 114 218 114 m 663 943 q 493 1006 589 943 q 326 1068 400 1068 l 274 1068 l 274 1158 l 354 1158 q 508 1096 413 1158 q 672 1033 604 1033 l 746 1033 l 746 943 l 663 943 l 663 943 z "},"\xe6":{"ha":1636,"x_min":74,"x_max":1599,"o":"m 242 0 q 156 23 194 0 q 96 84 118 46 q 74 168 74 122 l 74 460 l 779 460 l 779 638 q 763 676 779 660 q 725 692 747 692 l 74 692 l 74 806 l 1431 806 q 1516 783 1478 806 q 1576 722 1554 760 q 1599 638 1599 683 l 1599 346 l 893 346 l 893 163 q 910 128 894 142 q 947 114 926 114 l 1599 114 l 1599 0 l 242 0 m 242 114 l 779 114 l 779 346 l 188 346 l 188 168 q 203 130 188 146 q 242 114 219 114 m 893 460 l 1485 460 l 1485 638 q 1469 676 1485 660 q 1431 692 1453 692 l 947 692 q 909 676 925 692 q 893 638 893 660 l 893 460 z "},"b":{"ha":926,"x_min":75,"x_max":896,"o":"m 75 0 l 75 0 l 75 1069 l 189 1069 l 189 806 l 728 806 q 812 783 774 806 q 873 722 850 760 q 896 638 896 683 l 896 168 q 873 84 896 122 q 812 23 850 46 q 728 0 774 0 l 75 0 m 244 114 l 728 114 q 766 130 750 114 q 782 168 782 146 l 782 638 q 766 676 782 660 q 728 692 750 692 l 244 692 q 206 676 222 692 q 189 638 189 660 l 189 168 q 206 130 189 146 q 244 114 222 114 z "},"c":{"ha":965,"x_min":71,"x_max":892,"o":"m 239 0 q 155 23 193 0 q 94 84 117 46 q 71 168 71 122 l 71 638 q 94 722 71 683 q 155 783 117 760 q 239 806 193 806 l 889 806 l 889 692 l 239 692 q 201 676 217 692 q 185 638 185 660 l 185 168 q 201 130 185 146 q 239 114 217 114 l 892 114 l 892 0 l 239 0 l 239 0 z "},"\xe7":{"ha":965,"x_min":71,"x_max":892,"o":"m 239 0 q 155 23 193 0 q 94 84 117 46 q 71 168 71 122 l 71 638 q 94 722 71 683 q 155 783 117 760 q 239 806 193 806 l 889 806 l 889 692 l 239 692 q 201 676 217 692 q 185 638 185 660 l 185 168 q 201 130 185 146 q 239 114 217 114 l 892 114 l 892 0 l 239 0 l 239 0 m 403 -193 l 457 22 l 567 22 l 514 -193 l 403 -193 z "},"d":{"ha":926,"x_min":32,"x_max":853,"o":"m 201 0 q 116 23 154 0 q 55 84 78 46 q 32 168 32 122 l 32 638 q 55 722 32 683 q 116 783 78 760 q 201 806 154 806 l 739 806 l 739 1069 l 853 1069 l 853 0 l 201 0 l 201 0 m 201 114 l 685 114 q 723 130 707 114 q 739 168 739 146 l 739 638 q 723 676 739 660 q 685 692 707 692 l 201 692 q 163 676 179 692 q 147 638 147 660 l 147 168 q 163 130 147 146 q 201 114 179 114 z "},"e":{"ha":961,"x_min":71,"x_max":892,"o":"m 239 0 q 155 23 193 0 q 94 84 117 46 q 71 168 71 122 l 71 638 q 94 722 71 683 q 155 783 117 760 q 239 806 193 806 l 722 806 q 808 783 769 806 q 869 722 846 760 q 892 638 892 683 l 892 346 l 185 346 l 185 168 q 201 130 185 146 q 239 114 217 114 l 892 114 l 892 0 l 239 0 l 239 0 m 185 460 l 776 460 l 776 638 q 760 676 776 660 q 722 692 744 692 l 239 692 q 201 676 217 692 q 185 638 185 660 l 185 460 z "},"\xe9":{"ha":961,"x_min":71,"x_max":892,"o":"m 239 0 q 155 23 193 0 q 94 84 117 46 q 71 168 71 122 l 71 638 q 94 722 71 683 q 155 783 117 760 q 239 806 193 806 l 722 806 q 808 783 769 806 q 869 722 846 760 q 892 638 892 683 l 892 346 l 185 346 l 185 168 q 201 130 185 146 q 239 114 217 114 l 892 114 l 892 0 l 239 0 l 239 0 m 185 460 l 776 460 l 776 638 q 760 676 776 660 q 722 692 744 692 l 239 692 q 201 676 217 692 q 185 638 185 660 l 185 460 m 417 889 l 417 889 l 465 1082 l 575 1082 l 528 889 l 417 889 z "},"\xea":{"ha":961,"x_min":71,"x_max":892,"o":"m 239 0 q 155 23 193 0 q 94 84 117 46 q 71 168 71 122 l 71 638 q 94 722 71 683 q 155 783 117 760 q 239 806 193 806 l 722 806 q 808 783 769 806 q 869 722 846 760 q 892 638 892 683 l 892 346 l 185 346 l 185 168 q 201 130 185 146 q 239 114 217 114 l 892 114 l 892 0 l 239 0 l 239 0 m 185 460 l 776 460 l 776 638 q 760 676 776 660 q 722 692 744 692 l 239 692 q 201 676 217 692 q 185 638 185 660 l 185 460 m 315 931 l 315 931 l 428 1121 l 538 1121 l 650 931 l 564 931 l 483 1076 l 400 931 l 315 931 z "},"\xeb":{"ha":961,"x_min":71,"x_max":892,"o":"m 239 0 q 155 23 193 0 q 94 84 117 46 q 71 168 71 122 l 71 638 q 94 722 71 683 q 155 783 117 760 q 239 806 193 806 l 722 806 q 808 783 769 806 q 869 722 846 760 q 892 638 892 683 l 892 346 l 185 346 l 185 168 q 201 130 185 146 q 239 114 217 114 l 892 114 l 892 0 l 239 0 l 239 0 m 185 460 l 776 460 l 776 638 q 760 676 776 660 q 722 692 744 692 l 239 692 q 201 676 217 692 q 185 638 185 660 l 185 460 m 551 889 l 551 889 l 551 1003 l 667 1003 l 667 889 l 551 889 m 297 889 l 297 889 l 297 1003 l 413 1003 l 413 889 l 297 889 z "},"\xe8":{"ha":961,"x_min":71,"x_max":892,"o":"m 239 0 q 155 23 193 0 q 94 84 117 46 q 71 168 71 122 l 71 638 q 94 722 71 683 q 155 783 117 760 q 239 806 193 806 l 722 806 q 808 783 769 806 q 869 722 846 760 q 892 638 892 683 l 892 346 l 185 346 l 185 168 q 201 130 185 146 q 239 114 217 114 l 892 114 l 892 0 l 239 0 l 239 0 m 185 460 l 776 460 l 776 638 q 760 676 776 660 q 722 692 744 692 l 239 692 q 201 676 217 692 q 185 638 185 660 l 185 460 m 436 889 l 436 889 l 388 1082 l 500 1082 l 547 889 l 436 889 z "},"f":{"ha":565,"x_min":74,"x_max":536,"o":"m 74 0 l 74 0 l 74 901 q 96 987 74 949 q 156 1047 118 1025 q 242 1069 194 1069 l 536 1069 l 536 956 l 242 956 q 203 940 219 956 q 188 901 188 924 l 188 806 l 536 806 l 536 692 l 188 692 l 188 0 l 74 0 z "},"g":{"ha":949,"x_min":57,"x_max":876,"o":"m 206 -318 l 206 -318 l 206 -203 l 708 -203 q 747 -187 731 -203 q 763 -149 763 -171 l 763 0 l 225 0 q 141 23 179 0 q 80 84 103 46 q 57 168 57 122 l 57 638 q 80 722 57 683 q 141 783 103 760 q 225 806 179 806 l 708 806 q 794 783 756 806 q 854 722 832 760 q 876 638 876 683 l 876 -149 q 854 -234 876 -196 q 794 -295 832 -272 q 708 -318 756 -318 l 206 -318 m 225 114 l 708 114 q 747 130 731 114 q 763 168 763 146 l 763 638 q 747 676 763 660 q 708 692 731 692 l 225 692 q 187 676 203 692 q 171 638 171 660 l 171 168 q 187 130 171 146 q 225 114 203 114 z "},"h":{"ha":928,"x_min":75,"x_max":896,"o":"m 75 0 l 75 0 l 75 1069 l 189 1069 l 189 806 l 728 806 q 812 783 774 806 q 873 722 850 760 q 896 638 896 683 l 896 0 l 782 0 l 782 638 q 766 676 782 660 q 728 692 750 692 l 244 692 q 206 676 222 692 q 189 638 189 660 l 189 0 l 75 0 z "},"i":{"ha":289,"x_min":72,"x_max":186,"o":"m 72 0 l 72 0 l 72 806 l 186 806 l 186 0 l 72 0 m 72 956 l 72 956 l 72 1069 l 186 1069 l 186 956 l 72 956 z "},"\u0131":{"ha":297,"x_min":92,"x_max":206,"o":"m 92 0 l 92 0 l 92 806 l 206 806 l 206 0 l 92 0 z "},"\xed":{"ha":297,"x_min":83,"x_max":242,"o":"m 92 0 l 92 0 l 92 806 l 206 806 l 206 0 l 92 0 m 83 889 l 83 889 l 132 1082 l 242 1082 l 194 889 l 83 889 z "},"\xee":{"ha":297,"x_min":-18,"x_max":317,"o":"m 92 0 l 92 0 l 92 806 l 206 806 l 206 0 l 92 0 m -18 931 l -18 931 l 94 1121 l 204 1121 l 317 931 l 231 931 l 150 1076 l 67 931 l -18 931 z "},"\xef":{"ha":297,"x_min":-36,"x_max":333,"o":"m 92 0 l 92 0 l 92 806 l 206 806 l 206 0 l 92 0 m 218 889 l 218 889 l 218 1003 l 333 1003 l 333 889 l 218 889 m -36 889 l -36 889 l -36 1003 l 79 1003 l 79 889 l -36 889 z "},"\xec":{"ha":297,"x_min":54,"x_max":214,"o":"m 92 0 l 92 0 l 92 806 l 206 806 l 206 0 l 92 0 m 103 889 l 103 889 l 54 1082 l 167 1082 l 214 889 l 103 889 z "},"j":{"ha":332,"x_min":-260,"x_max":250,"o":"m -260 -337 l -260 -337 l -260 -222 l 81 -222 q 119 -206 103 -222 q 135 -168 135 -190 l 135 806 l 250 806 l 250 -168 q 227 -253 250 -215 q 166 -315 204 -292 q 81 -337 128 -337 l -260 -337 m 135 956 l 135 956 l 135 1069 l 250 1069 l 250 956 l 135 956 z "},"k":{"ha":897,"x_min":75,"x_max":878,"o":"m 75 0 l 75 0 l 75 1069 l 189 1069 l 189 460 l 411 460 l 728 806 l 878 806 l 878 804 l 513 403 l 876 1 l 876 0 l 728 0 l 411 346 l 189 346 l 189 0 l 75 0 z "},"l":{"ha":419,"x_min":72,"x_max":376,"o":"m 240 0 q 156 23 194 0 q 95 84 118 46 q 72 168 72 122 l 72 1069 l 186 1069 l 186 168 q 202 130 186 146 q 240 114 218 114 l 376 114 l 376 0 l 240 0 l 240 0 z "},"m":{"ha":1358,"x_min":75,"x_max":1307,"o":"m 75 0 l 75 0 l 75 806 l 1139 806 q 1224 783 1186 806 q 1285 722 1263 760 q 1307 638 1307 683 l 1307 0 l 1194 0 l 1194 638 q 1178 676 1194 660 q 1139 692 1161 692 l 804 692 q 766 676 782 692 q 750 638 750 660 l 750 0 l 635 0 l 635 638 q 619 676 635 660 q 581 692 603 692 l 244 692 q 206 676 222 692 q 190 638 190 660 l 190 0 l 75 0 z "},"n":{"ha":967,"x_min":75,"x_max":896,"o":"m 75 0 l 75 0 l 75 806 l 728 806 q 812 783 774 806 q 873 722 850 760 q 896 638 896 683 l 896 0 l 782 0 l 782 638 q 766 676 782 660 q 728 692 750 692 l 244 692 q 206 676 222 692 q 189 638 189 660 l 189 0 l 75 0 z "},"\xf1":{"ha":967,"x_min":75,"x_max":896,"o":"m 75 0 l 75 0 l 75 806 l 728 806 q 812 783 774 806 q 873 722 850 760 q 896 638 896 683 l 896 0 l 782 0 l 782 638 q 766 676 782 660 q 728 692 750 692 l 244 692 q 206 676 222 692 q 189 638 189 660 l 189 0 l 75 0 m 633 943 q 464 1006 560 943 q 297 1068 371 1068 l 244 1068 l 244 1158 l 325 1158 q 479 1096 383 1158 q 643 1033 575 1033 l 717 1033 l 717 943 l 633 943 l 633 943 z "},"o":{"ha":961,"x_min":71,"x_max":892,"o":"m 239 0 q 155 23 193 0 q 94 84 117 46 q 71 168 71 122 l 71 638 q 94 722 71 683 q 155 783 117 760 q 239 806 193 806 l 722 806 q 808 783 769 806 q 869 722 846 760 q 892 638 892 683 l 892 168 q 869 84 892 122 q 808 23 846 46 q 722 0 769 0 l 239 0 l 239 0 m 239 114 l 722 114 q 760 130 744 114 q 776 168 776 146 l 776 638 q 760 676 776 660 q 722 692 744 692 l 239 692 q 201 676 217 692 q 185 638 185 660 l 185 168 q 201 130 185 146 q 239 114 217 114 z "},"\xf3":{"ha":961,"x_min":71,"x_max":892,"o":"m 239 0 q 155 23 193 0 q 94 84 117 46 q 71 168 71 122 l 71 638 q 94 722 71 683 q 155 783 117 760 q 239 806 193 806 l 722 806 q 808 783 769 806 q 869 722 846 760 q 892 638 892 683 l 892 168 q 869 84 892 122 q 808 23 846 46 q 722 0 769 0 l 239 0 l 239 0 m 239 114 l 722 114 q 760 130 744 114 q 776 168 776 146 l 776 638 q 760 676 776 660 q 722 692 744 692 l 239 692 q 201 676 217 692 q 185 638 185 660 l 185 168 q 201 130 185 146 q 239 114 217 114 m 414 886 l 414 886 l 463 1079 l 572 1079 l 525 886 l 414 886 z "},"\xf4":{"ha":961,"x_min":71,"x_max":892,"o":"m 239 0 q 155 23 193 0 q 94 84 117 46 q 71 168 71 122 l 71 638 q 94 722 71 683 q 155 783 117 760 q 239 806 193 806 l 722 806 q 808 783 769 806 q 869 722 846 760 q 892 638 892 683 l 892 168 q 869 84 892 122 q 808 23 846 46 q 722 0 769 0 l 239 0 l 239 0 m 239 114 l 722 114 q 760 130 744 114 q 776 168 776 146 l 776 638 q 760 676 776 660 q 722 692 744 692 l 239 692 q 201 676 217 692 q 185 638 185 660 l 185 168 q 201 130 185 146 q 239 114 217 114 m 313 928 l 313 928 l 425 1118 l 535 1118 l 647 928 l 561 928 l 481 1074 l 397 928 l 313 928 z "},"\xf6":{"ha":961,"x_min":71,"x_max":892,"o":"m 239 0 q 155 23 193 0 q 94 84 117 46 q 71 168 71 122 l 71 638 q 94 722 71 683 q 155 783 117 760 q 239 806 193 806 l 722 806 q 808 783 769 806 q 869 722 846 760 q 892 638 892 683 l 892 168 q 869 84 892 122 q 808 23 846 46 q 722 0 769 0 l 239 0 l 239 0 m 239 114 l 722 114 q 760 130 744 114 q 776 168 776 146 l 776 638 q 760 676 776 660 q 722 692 744 692 l 239 692 q 201 676 217 692 q 185 638 185 660 l 185 168 q 201 130 185 146 q 239 114 217 114 m 549 886 l 549 886 l 549 1000 l 664 1000 l 664 886 l 549 886 m 294 886 l 294 886 l 294 1000 l 410 1000 l 410 886 l 294 886 z "},"\xf2":{"ha":961,"x_min":71,"x_max":892,"o":"m 239 0 q 155 23 193 0 q 94 84 117 46 q 71 168 71 122 l 71 638 q 94 722 71 683 q 155 783 117 760 q 239 806 193 806 l 722 806 q 808 783 769 806 q 869 722 846 760 q 892 638 892 683 l 892 168 q 869 84 892 122 q 808 23 846 46 q 722 0 769 0 l 239 0 l 239 0 m 239 114 l 722 114 q 760 130 744 114 q 776 168 776 146 l 776 638 q 760 676 776 660 q 722 692 744 692 l 239 692 q 201 676 217 692 q 185 638 185 660 l 185 168 q 201 130 185 146 q 239 114 217 114 m 433 886 l 433 886 l 385 1079 l 497 1079 l 544 886 l 433 886 z "},"\xf5":{"ha":961,"x_min":71,"x_max":892,"o":"m 239 0 q 155 23 193 0 q 94 84 117 46 q 71 168 71 122 l 71 638 q 94 722 71 683 q 155 783 117 760 q 239 806 193 806 l 722 806 q 808 783 769 806 q 869 722 846 760 q 892 638 892 683 l 892 168 q 869 84 892 122 q 808 23 846 46 q 722 0 769 0 l 239 0 l 239 0 m 239 114 l 722 114 q 760 130 744 114 q 776 168 776 146 l 776 638 q 760 676 776 660 q 722 692 744 692 l 239 692 q 201 676 217 692 q 185 638 185 660 l 185 168 q 201 130 185 146 q 239 114 217 114 m 632 940 q 463 1003 558 940 q 296 1065 369 1065 l 243 1065 l 243 1156 l 324 1156 q 478 1093 382 1156 q 642 1031 574 1031 l 715 1031 l 715 940 l 632 940 l 632 940 z "},"\u0153":{"ha":1635,"x_min":72,"x_max":1597,"o":"m 240 0 q 155 23 193 0 q 94 84 117 46 q 72 168 72 122 l 72 638 q 94 722 72 683 q 155 783 117 760 q 240 806 193 806 l 1429 806 q 1515 783 1476 806 q 1575 722 1553 760 q 1597 638 1597 683 l 1597 346 l 892 346 l 892 168 q 908 130 892 146 q 946 114 924 114 l 1597 114 l 1597 0 l 240 0 l 240 0 m 240 114 l 240 114 l 724 114 q 762 130 746 114 q 778 168 778 146 l 778 638 q 762 676 778 660 q 724 692 746 692 l 240 692 q 202 676 218 692 q 186 638 186 660 l 186 168 q 202 130 186 146 q 240 114 218 114 m 892 460 l 892 460 l 1483 460 l 1483 638 q 1467 676 1483 660 q 1429 692 1451 692 l 946 692 q 908 676 924 692 q 892 638 892 660 l 892 460 z "},"p":{"ha":922,"x_min":75,"x_max":896,"o":"m 75 -319 l 75 -319 l 75 806 l 728 806 q 812 783 774 806 q 873 722 850 760 q 896 638 896 683 l 896 168 q 873 84 896 122 q 812 23 850 46 q 728 0 774 0 l 189 0 l 189 -319 l 75 -319 m 244 114 l 728 114 q 766 130 750 114 q 782 168 782 146 l 782 638 q 766 676 782 660 q 728 692 750 692 l 244 692 q 206 676 222 692 q 189 638 189 660 l 189 168 q 206 130 189 146 q 244 114 222 114 z "},"q":{"ha":922,"x_min":28,"x_max":849,"o":"m 735 -319 l 735 -319 l 735 0 l 197 0 q 112 23 150 0 q 51 84 74 46 q 28 168 28 122 l 28 638 q 51 722 28 683 q 112 783 74 760 q 197 806 150 806 l 849 806 l 849 -319 l 735 -319 m 197 114 l 681 114 q 719 130 703 114 q 735 168 735 146 l 735 638 q 719 676 735 660 q 681 692 703 692 l 197 692 q 159 676 175 692 q 143 638 143 660 l 143 168 q 159 130 143 146 q 197 114 175 114 z "},"r":{"ha":711,"x_min":72,"x_max":693,"o":"m 72 0 l 72 0 l 72 638 q 95 722 72 683 q 156 783 118 760 q 240 806 194 806 l 693 806 l 693 692 l 240 692 q 202 676 218 692 q 186 638 186 660 l 186 0 l 72 0 z "},"s":{"ha":953,"x_min":67,"x_max":888,"o":"m 235 0 q 151 23 189 0 q 90 84 113 46 q 67 168 67 122 l 67 179 l 181 179 l 181 168 q 197 130 181 146 q 235 114 213 114 l 718 114 q 756 130 740 114 q 772 168 772 146 l 772 292 q 756 330 772 314 q 718 346 740 346 l 235 346 q 151 369 189 346 q 90 430 113 392 q 67 514 67 468 l 67 638 q 90 722 67 683 q 151 783 113 760 q 235 806 189 806 l 718 806 q 803 783 765 806 q 865 722 842 760 q 888 638 888 683 l 888 626 l 772 626 l 772 638 q 756 676 772 660 q 718 692 740 692 l 235 692 q 197 676 213 692 q 181 638 181 660 l 181 514 q 197 476 181 492 q 235 460 213 460 l 718 460 q 803 437 765 460 q 865 376 842 414 q 888 292 888 338 l 888 168 q 865 84 888 122 q 803 23 842 46 q 718 0 765 0 l 235 0 l 235 0 z "},"\u0161":{"ha":953,"x_min":67,"x_max":888,"o":"m 235 0 q 151 23 189 0 q 90 84 113 46 q 67 168 67 122 l 67 179 l 181 179 l 181 168 q 197 130 181 146 q 235 114 213 114 l 718 114 q 756 130 740 114 q 772 168 772 146 l 772 292 q 756 330 772 314 q 718 346 740 346 l 235 346 q 151 369 189 346 q 90 430 113 392 q 67 514 67 468 l 67 638 q 90 722 67 683 q 151 783 113 760 q 235 806 189 806 l 718 806 q 803 783 765 806 q 865 722 842 760 q 888 638 888 683 l 888 626 l 772 626 l 772 638 q 756 676 772 660 q 718 692 740 692 l 235 692 q 197 676 213 692 q 181 638 181 660 l 181 514 q 197 476 181 492 q 235 460 213 460 l 718 460 q 803 437 765 460 q 865 376 842 414 q 888 292 888 338 l 888 168 q 865 84 888 122 q 803 23 842 46 q 718 0 765 0 l 235 0 l 235 0 m 433 888 l 433 888 l 333 1050 l 392 1050 l 475 932 l 556 1050 l 613 1050 l 515 888 l 433 888 z "},"\xdf":{"ha":1157,"x_min":79,"x_max":1089,"o":"m 79 0 l 79 0 l 79 831 q 101 916 79 878 q 162 977 124 954 q 247 1000 200 1000 l 921 1000 q 994 980 960 1000 q 1054 927 1029 960 q 1089 858 1079 894 l 1089 632 q 1047 519 1089 576 q 1089 408 1089 465 l 1089 168 q 1066 84 1089 122 q 1005 23 1043 46 q 921 0 967 0 l 394 0 l 394 114 l 921 114 q 959 130 943 114 q 975 168 975 146 l 975 408 q 959 447 975 431 q 921 463 943 463 l 394 463 l 394 561 l 921 561 q 959 577 943 561 q 975 615 975 593 l 975 829 q 959 867 975 851 q 921 883 943 883 l 247 883 q 209 867 225 883 q 193 829 193 851 l 193 0 l 79 0 z "},"t":{"ha":569,"x_min":74,"x_max":536,"o":"m 242 0 q 156 23 194 0 q 96 84 118 46 q 74 168 74 122 l 74 1069 l 188 1069 l 188 806 l 536 806 l 536 692 l 188 692 l 188 168 q 203 130 188 146 q 242 114 219 114 l 536 114 l 536 0 l 242 0 l 242 0 z "},"u":{"ha":965,"x_min":74,"x_max":894,"o":"m 242 0 q 158 23 196 0 q 97 84 119 46 q 74 168 74 122 l 74 806 l 188 806 l 188 168 q 203 130 188 146 q 242 114 219 114 l 725 114 q 764 130 747 114 q 781 168 781 146 l 781 806 l 894 806 l 894 168 q 872 84 894 122 q 810 23 849 46 q 725 0 772 0 l 242 0 l 242 0 z "},"\xfa":{"ha":965,"x_min":74,"x_max":894,"o":"m 242 0 q 158 23 196 0 q 97 84 119 46 q 74 168 74 122 l 74 806 l 188 806 l 188 168 q 203 130 188 146 q 242 114 219 114 l 725 114 q 764 130 747 114 q 781 168 781 146 l 781 806 l 894 806 l 894 168 q 872 84 894 122 q 810 23 849 46 q 725 0 772 0 l 242 0 l 242 0 m 419 889 l 419 889 l 468 1082 l 578 1082 l 531 889 l 419 889 z "},"\xfb":{"ha":965,"x_min":74,"x_max":894,"o":"m 242 0 q 158 23 196 0 q 97 84 119 46 q 74 168 74 122 l 74 806 l 188 806 l 188 168 q 203 130 188 146 q 242 114 219 114 l 725 114 q 764 130 747 114 q 781 168 781 146 l 781 806 l 894 806 l 894 168 q 872 84 894 122 q 810 23 849 46 q 725 0 772 0 l 242 0 l 242 0 m 318 931 l 318 931 l 431 1121 l 540 1121 l 653 931 l 567 931 l 486 1076 l 403 931 l 318 931 z "},"\xfc":{"ha":965,"x_min":74,"x_max":894,"o":"m 242 0 q 158 23 196 0 q 97 84 119 46 q 74 168 74 122 l 74 806 l 188 806 l 188 168 q 203 130 188 146 q 242 114 219 114 l 725 114 q 764 130 747 114 q 781 168 781 146 l 781 806 l 894 806 l 894 168 q 872 84 894 122 q 810 23 849 46 q 725 0 772 0 l 242 0 l 242 0 m 554 889 l 554 889 l 554 1003 l 669 1003 l 669 889 l 554 889 m 300 889 l 300 889 l 300 1003 l 415 1003 l 415 889 l 300 889 z "},"\xf9":{"ha":965,"x_min":74,"x_max":894,"o":"m 242 0 q 158 23 196 0 q 97 84 119 46 q 74 168 74 122 l 74 806 l 188 806 l 188 168 q 203 130 188 146 q 242 114 219 114 l 725 114 q 764 130 747 114 q 781 168 781 146 l 781 806 l 894 806 l 894 168 q 872 84 894 122 q 810 23 849 46 q 725 0 772 0 l 242 0 l 242 0 m 439 889 l 439 889 l 390 1082 l 503 1082 l 550 889 l 439 889 z "},"v":{"ha":1097,"x_min":29,"x_max":1051,"o":"m 474 0 l 474 0 l 29 806 l 163 806 l 540 111 l 918 806 l 1051 806 l 606 0 l 474 0 z "},"w":{"ha":1488,"x_min":49,"x_max":1453,"o":"m 365 0 l 365 0 l 49 806 l 171 806 l 415 206 l 675 806 l 825 806 l 1101 207 l 1329 806 l 1453 806 l 1149 0 l 1050 0 l 750 665 l 465 0 l 365 0 z "},"x":{"ha":961,"x_min":64,"x_max":888,"o":"m 64 0 l 64 0 l 64 1 l 400 410 l 64 804 l 64 806 l 214 806 l 475 500 l 738 806 l 886 806 l 886 804 l 550 410 l 888 1 l 888 0 l 738 0 l 475 322 l 214 0 l 64 0 z "},"y":{"ha":951,"x_min":58,"x_max":878,"o":"m 207 -319 l 207 -319 l 207 -204 l 710 -204 q 748 -188 732 -204 q 764 -150 764 -172 l 764 0 l 226 0 q 142 23 181 0 q 81 84 104 46 q 58 168 58 122 l 58 803 l 172 803 l 172 168 q 188 130 172 146 q 226 114 204 114 l 710 114 q 748 130 732 114 q 764 168 764 146 l 764 803 l 878 803 l 878 -150 q 856 -235 878 -197 q 795 -297 833 -274 q 710 -319 757 -319 l 207 -319 z "},"\xfd":{"ha":951,"x_min":58,"x_max":878,"o":"m 207 -319 l 207 -319 l 207 -204 l 710 -204 q 748 -188 732 -204 q 764 -150 764 -172 l 764 0 l 226 0 q 142 23 181 0 q 81 84 104 46 q 58 168 58 122 l 58 803 l 172 803 l 172 168 q 188 130 172 146 q 226 114 204 114 l 710 114 q 748 130 732 114 q 764 168 764 146 l 764 803 l 878 803 l 878 -150 q 856 -235 878 -197 q 795 -297 833 -274 q 710 -319 757 -319 l 207 -319 m 403 889 l 403 889 l 451 1082 l 561 1082 l 514 889 l 403 889 z "},"\xff":{"ha":951,"x_min":58,"x_max":878,"o":"m 207 -319 l 207 -319 l 207 -204 l 710 -204 q 748 -188 732 -204 q 764 -150 764 -172 l 764 0 l 226 0 q 142 23 181 0 q 81 84 104 46 q 58 168 58 122 l 58 803 l 172 803 l 172 168 q 188 130 172 146 q 226 114 204 114 l 710 114 q 748 130 732 114 q 764 168 764 146 l 764 803 l 878 803 l 878 -150 q 856 -235 878 -197 q 795 -297 833 -274 q 710 -319 757 -319 l 207 -319 m 538 889 l 538 889 l 538 1003 l 653 1003 l 653 889 l 538 889 m 283 889 l 283 889 l 283 1003 l 399 1003 l 399 889 l 283 889 z "},"z":{"ha":969,"x_min":75,"x_max":896,"o":"m 75 0 l 75 0 l 75 156 l 771 692 l 75 692 l 75 806 l 896 806 l 896 650 l 200 114 l 896 114 l 896 0 l 75 0 z "},"\u017e":{"ha":969,"x_min":75,"x_max":896,"o":"m 75 0 l 75 0 l 75 156 l 771 692 l 75 692 l 75 806 l 896 806 l 896 650 l 200 114 l 896 114 l 896 0 l 75 0 m 435 889 l 435 889 l 335 1051 l 393 1051 l 476 933 l 557 1051 l 614 1051 l 517 889 l 435 889 z "},".":{"ha":297,"x_min":75,"x_max":189,"o":"m 75 0 l 75 0 l 75 114 l 189 114 l 189 0 l 75 0 z "},",":{"ha":268,"x_min":75,"x_max":189,"o":"m 75 -182 l 75 -182 l 75 114 l 189 114 l 189 -22 q 174 -92 189 -60 q 134 -147 160 -124 q 75 -182 108 -171 z "},":":{"ha":297,"x_min":75,"x_max":189,"o":"m 75 703 l 75 703 l 75 817 l 189 817 l 189 703 l 75 703 m 75 0 l 75 0 l 75 114 l 189 114 l 189 0 l 75 0 z "},";":{"ha":268,"x_min":71,"x_max":185,"o":"m 71 -182 l 71 -182 l 71 114 l 185 114 l 185 -22 q 170 -92 185 -60 q 130 -147 156 -124 q 71 -182 104 -171 m 71 703 l 71 703 l 71 817 l 185 817 l 185 703 l 71 703 z "},"\u2026":{"ha":797,"x_min":75,"x_max":714,"o":"m 75 0 l 75 0 l 75 114 l 190 114 l 190 0 l 75 0 m 339 0 l 339 0 l 339 114 l 453 114 l 453 0 l 339 0 m 600 0 l 600 0 l 600 114 l 714 114 l 714 0 l 600 0 z "},"!":{"ha":306,"x_min":81,"x_max":194,"o":"m 81 282 l 81 282 l 81 1000 l 194 1000 l 194 282 l 81 282 m 81 0 l 81 0 l 81 114 l 194 114 l 194 0 l 81 0 z "},"\xa1":{"ha":292,"x_min":74,"x_max":188,"o":"m 74 0 l 74 0 l 74 718 l 188 718 l 188 0 l 74 0 m 74 896 l 74 896 l 74 1011 l 188 1011 l 188 896 l 74 896 z "},"?":{"ha":942,"x_min":43,"x_max":929,"o":"m 213 279 l 213 279 l 213 338 q 235 423 213 385 q 297 483 258 461 q 381 506 335 506 l 761 506 q 799 522 783 506 q 815 560 815 538 l 815 829 q 799 867 815 851 q 761 883 783 883 l 43 883 l 43 1000 l 761 999 q 845 976 807 999 q 906 915 883 953 q 929 829 929 876 l 929 560 q 906 476 929 514 q 845 415 883 438 q 761 392 807 392 l 381 392 q 342 376 358 392 q 326 338 326 360 l 326 279 l 213 279 m 213 0 l 213 0 l 213 114 l 326 114 l 326 0 l 213 0 z "},"\xbf":{"ha":938,"x_min":26,"x_max":911,"o":"m 194 0 q 109 23 147 0 q 49 84 71 46 q 26 168 26 122 l 26 438 q 49 523 26 485 q 109 584 71 561 q 194 607 147 607 l 574 607 q 612 623 596 607 q 628 661 628 639 l 628 728 l 742 728 l 742 661 q 719 576 742 614 q 659 515 697 538 q 574 492 621 492 l 194 492 q 156 476 172 492 q 140 438 140 460 l 140 168 q 156 130 140 146 q 194 114 172 114 l 910 114 l 911 0 l 194 0 l 194 0 m 628 896 l 628 896 l 628 1011 l 742 1011 l 742 896 l 628 896 z "},"\u2022":{"ha":515,"x_min":200,"x_max":314,"o":"m 239 451 q 200 490 200 451 l 200 519 q 239 560 200 560 l 274 560 q 314 519 314 560 l 314 490 q 274 451 314 451 l 239 451 l 239 451 z "},"*":{"ha":682,"x_min":35,"x_max":625,"o":"m 204 438 l 204 438 l 111 503 l 236 678 l 35 743 l 68 853 l 272 785 l 272 999 l 386 999 l 386 786 l 588 853 l 625 743 l 422 678 l 547 504 l 456 438 l 329 608 l 204 438 z "},"#":{"ha":1107,"x_min":44,"x_max":1074,"o":"m 110 0 l 110 0 l 185 238 l 44 238 l 44 351 l 221 351 l 319 657 l 89 657 l 89 771 l 356 771 l 433 999 l 546 999 l 467 771 l 829 771 l 907 999 l 1019 999 l 940 771 l 1074 771 l 1074 657 l 906 657 l 807 351 l 1028 351 l 1028 238 l 771 238 l 697 0 l 583 0 l 658 238 l 297 238 l 224 0 l 110 0 m 335 351 l 335 351 l 694 351 l 793 657 l 432 657 l 335 351 z "},"/":{"ha":724,"x_min":8,"x_max":711,"o":"m 8 0 l 8 0 l 8 147 l 701 989 l 711 1000 l 711 856 l 19 14 l 8 0 z "},"\\\\":{"ha":722,"x_min":7,"x_max":711,"o":"m 706 0 l 706 0 l 7 863 l 7 1000 l 15 1000 l 710 149 l 711 0 l 706 0 z "},"(":{"ha":385,"x_min":72,"x_max":281,"o":"m 240 0 q 156 23 194 0 q 95 84 118 46 q 72 168 72 122 l 72 831 q 95 916 72 878 q 156 977 118 954 q 240 1000 194 1000 l 281 1000 l 281 885 l 240 885 q 202 869 218 885 q 186 831 186 853 l 186 168 q 202 130 186 146 q 240 114 218 114 l 281 114 l 281 0 l 240 0 l 240 0 z "},")":{"ha":386,"x_min":78,"x_max":286,"o":"m 78 0 l 78 0 l 78 114 l 117 114 q 155 130 139 114 q 171 168 171 146 l 171 831 q 155 869 171 853 q 117 885 139 885 l 78 885 l 78 1000 l 117 1000 q 201 977 163 1000 q 263 916 240 954 q 286 831 286 878 l 286 168 q 263 84 286 122 q 201 23 240 46 q 117 0 163 0 l 78 0 z "},"{":{"ha":401,"x_min":32,"x_max":306,"o":"m 265 0 q 181 23 219 0 q 120 84 143 46 q 97 168 97 122 l 97 394 l 32 435 l 32 568 l 97 603 l 97 831 q 120 916 97 878 q 181 977 143 954 q 265 1000 219 1000 l 306 1000 l 306 885 l 265 885 q 227 869 243 885 q 211 831 211 853 l 211 593 l 94 500 l 211 404 l 211 168 q 227 130 211 146 q 265 114 243 114 l 306 114 l 306 0 l 265 0 l 265 0 z "},"}":{"ha":401,"x_min":71,"x_max":343,"o":"m 71 0 l 71 0 l 71 114 l 111 114 q 149 130 133 114 q 165 168 165 146 l 165 403 l 282 499 l 165 590 l 165 831 q 149 869 165 853 q 111 885 133 885 l 71 885 l 71 1000 l 111 1000 q 195 977 157 1000 q 256 916 233 954 q 279 831 279 878 l 279 603 l 343 565 l 343 433 l 279 393 l 279 168 q 256 84 279 122 q 195 23 233 46 q 111 0 157 0 l 71 0 z "},"[":{"ha":382,"x_min":75,"x_max":283,"o":"m 75 0 l 75 0 l 75 1001 l 283 1001 l 283 886 l 189 886 l 189 114 l 283 114 l 283 0 l 75 0 z "},"]":{"ha":383,"x_min":71,"x_max":279,"o":"m 71 0 l 71 0 l 71 114 l 164 114 l 164 886 l 71 886 l 71 1001 l 279 1001 l 279 0 l 71 0 z "},"-":{"ha":718,"x_min":82,"x_max":624,"o":"m 82 354 l 82 354 l 82 468 l 624 468 l 624 354 l 82 354 z "},"\u2013":{"ha":983,"x_min":75,"x_max":910,"o":"m 75 353 l 75 353 l 75 467 l 910 467 l 910 353 l 75 353 z "},"\u2014":{"ha":1142,"x_min":75,"x_max":1076,"o":"m 75 353 l 75 353 l 75 467 l 1076 467 l 1076 353 l 75 353 z "},"_":{"ha":1150,"x_min":75,"x_max":1086,"o":"m 75 -114 l 75 -114 l 75 0 l 1086 0 l 1086 -114 l 75 -114 z "},"\u201c":{"ha":504,"x_min":65,"x_max":431,"o":"m 65 697 l 65 697 l 65 833 q 80 903 65 871 q 121 960 94 936 q 181 993 147 983 l 181 697 l 65 697 m 317 697 l 317 697 l 317 833 q 331 903 317 871 q 372 960 346 936 q 431 993 397 983 l 431 697 l 317 697 z "},"\u201d":{"ha":504,"x_min":75,"x_max":440,"o":"m 75 706 l 75 706 l 75 1001 l 190 1001 l 190 865 q 176 795 190 828 q 135 739 161 763 q 75 706 108 715 m 326 706 l 326 706 l 326 1001 l 440 1001 l 440 865 q 426 795 440 828 q 385 739 411 763 q 326 706 360 715 z "},"\u2018":{"ha":233,"x_min":46,"x_max":161,"o":"m 46 699 l 46 699 l 46 835 q 60 905 46 872 q 101 961 75 938 q 161 994 128 985 l 161 699 l 46 699 z "},"\u2019":{"ha":231,"x_min":75,"x_max":189,"o":"m 75 706 l 75 706 l 75 1001 l 189 1001 l 189 865 q 174 795 189 828 q 134 739 160 763 q 75 706 108 715 z "},"\\"":{"ha":517,"x_min":82,"x_max":411,"o":"m 297 806 l 297 806 l 297 1000 l 411 1000 l 411 806 l 297 806 m 82 806 l 82 806 l 82 1000 l 196 1000 l 196 806 l 82 806 z "},"\'":{"ha":311,"x_min":82,"x_max":196,"o":"m 82 806 l 82 806 l 82 1000 l 196 1000 l 196 806 l 82 806 z "}," ":{"ha":378,"x_min":0,"x_max":0,"o":""},"\xa0":{"ha":378,"x_min":0,"x_max":0,"o":""},"\u20ac":{"ha":1110,"x_min":49,"x_max":1057,"o":"m 364 0 q 278 23 317 0 q 217 84 240 46 q 194 168 194 122 l 194 319 l 49 319 l 49 433 l 194 433 l 194 576 l 49 576 l 49 692 l 194 692 l 194 832 q 217 917 194 879 q 278 978 240 956 q 364 1001 317 1001 l 1057 1001 l 1057 886 l 364 886 q 326 870 342 886 q 310 832 310 854 l 310 692 l 899 692 l 899 576 l 310 576 l 310 433 l 899 433 l 899 319 l 310 319 l 310 168 q 326 130 310 146 q 364 114 342 114 l 1057 114 l 1057 0 l 364 0 l 364 0 z "},"\xa2":{"ha":883,"x_min":46,"x_max":863,"o":"m 399 -160 l 399 -160 l 399 0 l 214 0 q 128 23 167 0 q 68 84 90 46 q 46 168 46 122 l 46 651 q 68 737 46 699 q 128 798 90 775 q 214 821 167 821 l 399 821 l 399 1008 l 513 1008 l 513 821 l 863 821 l 863 706 l 513 706 l 513 114 l 863 114 l 863 0 l 513 0 l 513 -160 l 399 -160 m 214 114 l 399 114 l 399 706 l 214 706 q 176 690 192 706 q 160 651 160 674 l 160 168 q 176 130 160 146 q 214 114 192 114 z "},"$":{"ha":1094,"x_min":47,"x_max":1058,"o":"m 496 -158 l 496 -158 l 496 0 l 214 0 q 130 22 168 0 q 69 83 92 44 q 47 167 47 121 l 47 206 l 160 206 l 160 167 q 176 128 160 144 q 214 113 192 113 l 496 113 l 496 443 l 214 443 q 130 466 168 443 q 69 526 92 489 q 47 610 47 564 l 47 833 q 69 917 47 879 q 130 978 92 956 q 214 1000 168 1000 l 496 1000 l 496 1160 l 610 1160 l 610 1000 l 889 1000 q 974 978 935 1000 q 1035 917 1013 956 q 1057 833 1058 879 l 1056 794 l 943 794 l 943 832 q 927 871 943 854 q 889 888 911 888 l 610 888 l 610 558 l 889 558 q 974 535 935 558 q 1035 474 1013 513 q 1058 390 1058 436 l 1058 167 q 1036 83 1058 121 q 976 22 1014 44 q 892 0 938 0 l 610 0 l 610 -158 l 496 -158 m 214 557 l 496 557 l 496 888 l 214 888 q 176 872 192 888 q 160 833 160 856 l 160 610 q 176 572 160 588 q 214 557 192 557 m 610 113 l 610 113 l 890 114 q 927 130 911 114 q 943 168 943 146 l 943 390 q 926 428 943 413 q 889 444 910 444 l 610 444 l 610 113 z "},"\xa3":{"ha":1019,"x_min":54,"x_max":960,"o":"m 54 0 l 54 0 l 54 114 l 200 114 l 200 449 l 54 449 l 54 563 l 200 563 l 200 831 q 223 916 200 878 q 284 977 246 954 q 369 1000 322 1000 l 790 1000 q 874 977 836 1000 q 936 916 913 954 q 960 831 960 878 l 960 810 l 844 810 l 844 831 q 828 869 844 853 q 790 885 813 885 l 369 885 q 331 869 347 885 q 315 831 315 853 l 315 563 l 804 563 l 804 449 l 315 449 l 315 114 l 960 114 l 960 0 l 54 0 z "},"+":{"ha":601,"x_min":24,"x_max":565,"o":"m 235 139 l 235 139 l 235 354 l 24 354 l 24 468 l 235 468 l 235 681 l 349 681 l 349 468 l 565 468 l 565 354 l 349 354 l 349 139 l 235 139 z "},"\u2212":{"ha":718,"x_min":82,"x_max":624,"o":"m 82 354 l 82 354 l 82 468 l 624 468 l 624 354 l 82 354 z "},"\xd7":{"ha":758,"x_min":74,"x_max":664,"o":"m 75 132 l 75 132 l 83 143 l 294 418 l 78 697 l 74 703 l 224 703 l 369 503 l 517 703 l 664 703 l 658 696 l 444 418 l 656 142 l 664 132 l 517 132 l 369 332 l 224 132 l 75 132 z "},"\xf7":{"ha":706,"x_min":25,"x_max":683,"o":"m 25 354 l 25 354 l 25 468 l 683 468 l 683 354 l 25 354 m 299 1 l 299 1 l 299 115 l 413 115 l 413 1 l 299 1 m 299 690 l 299 690 l 299 804 l 413 804 l 413 690 l 299 690 z "},"=":{"ha":886,"x_min":82,"x_max":800,"o":"m 82 488 l 82 488 l 82 601 l 800 601 l 800 488 l 82 488 m 82 210 l 82 210 l 82 324 l 800 324 l 800 210 l 82 210 z "},">":{"ha":660,"x_min":82,"x_max":640,"o":"m 82 19 l 82 19 l 82 151 l 526 408 l 82 665 l 82 797 l 640 476 l 640 342 l 82 19 z "},"<":{"ha":657,"x_min":7,"x_max":565,"o":"m 565 22 l 565 22 l 7 344 l 7 479 l 565 800 l 565 668 l 121 411 l 565 154 l 565 22 z "},"~":{"ha":561,"x_min":33,"x_max":504,"o":"m 413 340 q 271 390 364 340 q 119 439 178 439 q 33 428 65 439 l 33 479 q 119 492 71 492 q 275 443 175 492 q 411 393 375 393 q 504 415 456 393 l 504 358 q 413 340 456 340 l 413 340 z "},"%":{"ha":1342,"x_min":67,"x_max":1294,"o":"m 190 0 l 190 0 l 190 150 l 1185 988 l 1201 1001 l 1201 853 l 214 21 l 190 0 m 236 546 q 151 569 189 546 q 90 630 113 592 q 67 714 67 668 l 67 831 q 90 916 67 878 q 151 977 113 954 q 236 1000 189 1000 l 367 1000 q 452 977 414 1000 q 513 916 490 954 q 536 831 536 878 l 536 714 q 513 630 536 668 q 452 569 490 592 q 367 546 414 546 l 236 546 l 236 546 m 151 631 l 151 631 l 451 631 q 451 631 451 631 q 451 631 451 631 l 451 914 q 451 914 451 914 q 451 914 451 914 l 151 914 q 151 914 151 914 q 151 914 151 914 l 151 631 q 151 631 151 631 q 151 631 151 631 m 994 -1 q 909 22 947 -1 q 849 83 871 44 q 826 167 826 121 l 826 285 q 849 369 826 331 q 909 430 871 407 q 994 453 947 453 l 1126 453 q 1210 430 1172 453 q 1272 369 1249 407 q 1294 285 1294 331 l 1294 167 q 1272 83 1294 121 q 1210 22 1249 44 q 1126 -1 1172 -1 l 994 -1 l 994 -1 m 911 83 l 911 83 l 1210 83 q 1210 83 1210 83 q 1210 83 1210 83 l 1210 368 q 1210 368 1210 368 q 1210 368 1210 368 l 911 368 q 911 368 911 368 q 911 368 911 368 l 911 83 q 911 83 911 83 q 911 83 911 83 z "},"@":{"ha":1156,"x_min":75,"x_max":1085,"o":"m 243 0 q 158 23 196 0 q 97 84 119 46 q 75 168 75 122 l 75 831 q 97 916 75 878 q 158 977 119 954 q 243 1000 196 1000 l 917 1000 q 1001 977 963 1000 q 1062 916 1039 954 q 1085 831 1085 878 l 1085 267 l 514 267 q 428 290 467 267 q 368 351 390 313 q 346 436 346 389 l 346 553 q 368 637 346 599 q 428 698 390 675 q 514 721 467 721 l 646 721 q 730 698 692 721 q 791 637 768 675 q 814 553 814 599 l 814 353 l 971 353 l 971 831 q 955 869 971 853 q 917 885 939 885 l 243 885 q 205 869 221 885 q 189 831 189 853 l 189 168 q 205 130 189 146 q 243 114 221 114 l 1085 114 l 1085 0 l 243 0 l 243 0 m 485 353 l 729 353 l 729 582 q 713 620 729 604 q 675 636 697 636 l 485 636 q 447 620 463 636 q 431 582 431 604 l 431 407 q 447 369 431 385 q 485 353 463 353 z "},"&":{"ha":1303,"x_min":74,"x_max":1269,"o":"m 242 0 q 158 23 196 0 q 97 84 119 46 q 74 168 74 122 l 74 467 q 111 527 74 497 q 211 557 149 557 q 132 690 132 617 l 132 829 q 155 915 132 876 q 216 976 178 953 q 300 999 254 999 l 871 999 q 944 978 910 999 q 1005 926 979 958 q 1040 857 1031 893 l 1040 781 l 925 781 l 925 828 q 909 866 925 850 q 871 882 893 882 l 300 882 q 262 866 278 882 q 246 828 246 850 l 246 635 l 969 269 l 969 463 l 1083 463 l 1083 232 l 1269 122 l 1269 22 l 1079 129 q 1013 36 1057 72 q 915 0 968 0 l 242 0 m 242 114 l 915 114 q 945 128 929 114 q 971 164 961 142 l 263 521 l 242 521 q 203 505 219 521 q 188 467 188 489 l 188 168 q 203 130 188 146 q 242 114 219 114 z "},"\xb6":{"ha":1157,"x_min":78,"x_max":1088,"o":"m 668 0 l 668 0 l 668 376 l 246 376 q 160 399 199 376 q 100 460 122 422 q 78 544 78 499 l 78 831 q 100 915 78 876 q 160 977 122 954 q 246 1000 199 1000 l 1088 1000 l 1088 0 l 974 0 l 974 376 l 782 376 l 782 0 l 668 0 m 246 490 l 668 490 l 668 885 l 246 885 q 208 869 224 885 q 192 831 192 853 l 192 544 q 208 506 192 522 q 246 490 224 490 m 782 490 l 782 490 l 974 490 l 974 885 l 782 885 l 782 490 z "},"\xb0":{"ha":610,"x_min":63,"x_max":532,"o":"m 232 557 q 147 580 185 557 q 85 641 108 603 q 63 725 63 679 l 63 842 q 85 927 63 889 q 147 988 108 965 q 232 1011 185 1011 l 363 1011 q 448 988 410 1011 q 509 927 486 965 q 532 842 532 889 l 532 725 q 509 641 532 679 q 448 580 486 603 q 363 557 410 557 l 232 557 l 232 557 m 201 642 l 393 642 q 431 658 415 642 q 447 696 447 674 l 447 871 q 431 909 447 893 q 393 925 415 925 l 201 925 q 163 909 179 925 q 147 871 147 893 l 147 696 q 163 658 147 674 q 201 642 179 642 z "},"|":{"ha":297,"x_min":75,"x_max":189,"o":"m 75 -160 l 75 -160 l 75 1169 l 189 1169 l 189 -160 l 75 -160 z "},"\u0308":{"ha":0,"x_min":-185,"x_max":185,"o":"m 69 889 l 69 889 l 69 1003 l 185 1003 l 185 889 l 69 889 m -185 889 l -185 889 l -185 1003 l -69 1003 l -69 889 l -185 889 z "},"\u0307":{"ha":0,"x_min":-58,"x_max":57,"o":"m -58 889 l -58 1003 l 57 1003 l 57 889 l -58 889 z "},"\u0300":{"ha":0,"x_min":-94,"x_max":65,"o":"m -46 889 l -46 889 l -94 1082 l 18 1082 l 65 889 l -46 889 z "},"\u0301":{"ha":0,"x_min":-65,"x_max":93,"o":"m -65 889 l -65 889 l -17 1082 l 93 1082 l 46 889 l -65 889 z "},"\u0302":{"ha":0,"x_min":-165,"x_max":169,"o":"m -165 931 l -165 931 l -53 1121 l 57 1121 l 169 931 l 83 931 l 3 1076 l -81 931 l -165 931 z "},"\u030c":{"ha":0,"x_min":-140,"x_max":139,"o":"m -40 889 l -40 889 l -140 1051 l -82 1051 l 1 933 l 82 1051 l 139 1051 l 42 889 l -40 889 z "},"\u030a":{"ha":0,"x_min":-114,"x_max":114,"o":"m -39 918 q -92 940 -69 918 q -114 992 -114 961 l -114 1067 q -92 1119 -114 1097 q -39 1140 -69 1140 l 39 1140 q 92 1119 69 1140 q 114 1067 114 1097 l 114 992 q 92 940 114 961 q 39 918 69 918 l -39 918 m -46 974 l 46 974 q 55 978 51 974 q 58 988 58 982 l 58 1071 q 55 1081 58 1076 q 46 1085 51 1085 l -46 1085 q -55 1081 -51 1085 q -58 1071 -58 1076 l -58 988 q -55 978 -58 982 q -46 974 -51 974 z "},"\u0303":{"ha":0,"x_min":-236,"x_max":236,"o":"m 153 943 q -17 1006 79 943 q -183 1068 -110 1068 l -236 1068 l -236 1158 l -156 1158 q -1 1096 -97 1158 q 163 1033 94 1033 l 236 1033 l 236 943 l 153 943 l 153 943 z "},"\u0327":{"ha":0,"x_min":510,"x_max":674,"o":"m 510 -193 l 564 22 l 674 22 l 621 -193 l 510 -193 z "},"\xa8":{"ha":647,"x_min":139,"x_max":508,"o":"m 393 889 l 393 889 l 393 1003 l 508 1003 l 508 889 l 393 889 m 139 889 l 139 889 l 139 1003 l 254 1003 l 254 889 l 139 889 z "},"\u02d9":{"ha":322,"x_min":103,"x_max":218,"o":"m 103 889 l 103 1003 l 218 1003 l 218 889 l 103 889 z "},"`":{"ha":438,"x_min":142,"x_max":301,"o":"m 190 889 l 190 889 l 142 1082 l 254 1082 l 301 889 l 190 889 z "},"\xb4":{"ha":296,"x_min":83,"x_max":242,"o":"m 83 889 l 83 889 l 132 1082 l 242 1082 l 194 889 l 83 889 z "},"\u02c6":{"ha":613,"x_min":139,"x_max":474,"o":"m 139 931 l 139 931 l 251 1121 l 361 1121 l 474 931 l 388 931 l 307 1076 l 224 931 l 139 931 z "},"\u02c7":{"ha":413,"x_min":67,"x_max":346,"o":"m 167 889 l 167 889 l 67 1051 l 125 1051 l 208 933 l 289 1051 l 346 1051 l 249 889 l 167 889 z "},"\u02d8":{"ha":399,"x_min":56,"x_max":313,"o":"m 146 1211 q 81 1239 104 1211 q 56 1304 57 1267 l 100 1304 q 108 1269 100 1281 q 129 1257 115 1257 l 250 1257 q 265 1269 260 1257 q 269 1304 269 1281 l 313 1304 q 288 1239 311 1267 q 222 1211 265 1211 l 146 1211 l 146 1211 z "},"\u02da":{"ha":324,"x_min":47,"x_max":275,"o":"m 122 1068 q 69 1090 92 1068 q 47 1142 47 1111 l 47 1217 q 69 1269 47 1247 q 122 1290 92 1290 l 200 1290 q 253 1269 231 1290 q 275 1217 275 1247 l 275 1142 q 253 1090 275 1111 q 200 1068 231 1068 l 122 1068 m 115 1124 l 207 1124 q 216 1128 213 1124 q 219 1138 219 1132 l 219 1221 q 216 1231 219 1226 q 207 1235 213 1235 l 115 1235 q 106 1231 110 1235 q 103 1221 103 1226 l 103 1138 q 106 1128 103 1132 q 115 1124 110 1124 z "},"\u02dc":{"ha":560,"x_min":44,"x_max":517,"o":"m 433 943 q 264 1006 360 943 q 97 1068 171 1068 l 44 1068 l 44 1158 l 125 1158 q 279 1096 183 1158 q 443 1033 375 1033 l 517 1033 l 517 943 l 433 943 l 433 943 z "},"\xaf":{"ha":694,"x_min":121,"x_max":571,"o":"m 121 886 l 121 886 l 121 1000 l 571 1000 l 571 886 l 121 886 z "},"\xb8":{"ha":296,"x_min":65,"x_max":229,"o":"m 65 -193 l 119 22 l 229 22 l 176 -193 l 65 -193 z "},"\u02db":{"ha":694,"x_min":263,"x_max":432,"o":"m 263 -347 l 263 -347 l 263 -24 l 432 -24 l 432 -347 l 263 -347 z "},"\ue002":{"ha":1071,"x_min":64,"x_max":1068,"o":"m 69 0 l 69 0 l 69 1 l 824 886 l 64 886 l 64 1000 l 1068 1000 l 1068 997 l 219 0 l 69 0 z "},"\ue003":{"ha":1089,"x_min":17,"x_max":1028,"o":"m 914 0 l 914 367 q 906 393 914 381 q 886 413 899 406 q 860 421 874 421 l 186 421 q 101 444 139 421 q 40 505 63 467 q 17 589 17 543 l 17 829 q 40 915 17 876 q 101 976 63 953 q 186 999 139 999 l 860 999 q 944 976 906 999 q 1005 915 982 953 q 1028 829 1028 876 l 1028 0 l 914 0 m 186 535 l 914 535 l 914 829 q 898 867 914 851 q 860 883 882 883 l 186 883 q 148 867 164 883 q 132 829 132 851 l 132 589 q 148 551 132 567 q 186 535 164 535 z "},"\ue005":{"ha":1132,"x_min":68,"x_max":1076,"o":"m 235 0 q 129 39 175 0 q 69 132 83 78 l 68 293 l 963 747 l 963 886 l 238 886 q 199 870 215 886 q 183 832 183 854 l 183 774 l 68 774 l 68 832 q 91 917 68 879 q 152 978 114 956 q 238 1001 190 1001 l 911 1001 q 983 981 949 1001 q 1042 928 1017 961 q 1076 860 1067 896 l 1076 678 l 183 222 l 183 114 l 1076 114 l 1076 0 l 235 0 l 235 0 z "},"\ue006":{"ha":926,"x_min":38,"x_max":899,"o":"m 283 210 l 283 339 q 306 424 283 386 q 367 485 329 463 q 453 507 406 507 l 731 507 q 769 523 753 507 q 785 561 785 539 l 785 831 q 769 869 785 853 q 731 885 753 885 l 151 885 l 151 726 l 38 726 l 38 860 q 72 928 47 896 q 130 980 96 960 q 203 1000 164 1000 l 731 1000 q 815 977 776 1000 q 876 916 853 954 q 899 831 899 878 l 899 561 q 876 477 899 515 q 815 416 853 439 q 731 393 776 393 l 453 393 q 415 377 431 393 q 399 339 399 361 l 399 210 l 283 210 m 283 0 l 283 114 l 399 114 l 399 0 l 283 0 z "},"\ue007":{"ha":1004,"x_min":13,"x_max":979,"o":"m 710 0 l 710 0 l 710 258 l 13 258 l 13 388 l 536 1001 l 663 1001 l 663 958 l 132 372 l 710 372 l 710 590 l 824 590 l 824 372 l 979 372 l 979 258 l 824 258 l 824 0 l 710 0 z "},"\ue008":{"ha":1622,"x_min":0,"x_max":1560,"o":"m 850 0 l 850 0 l 0 999 l 0 1000 l 150 1000 l 890 129 l 890 614 l 557 999 l 557 1000 l 704 1000 l 1446 129 l 1446 1000 l 1560 1000 l 1560 0 l 1406 0 l 1006 476 l 1006 0 l 850 0 z "},"\ue009":{"ha":1626,"x_min":68,"x_max":1626,"o":"m 68 0 l 68 0 l 68 1000 l 182 1000 l 182 129 l 924 1000 l 1069 1000 l 1069 999 l 738 614 l 738 129 l 1479 1000 l 1626 1000 l 1626 999 l 779 0 l 624 0 l 624 476 l 224 0 l 68 0 z "},"\ue00a":{"ha":1075,"x_min":75,"x_max":1079,"o":"m 75 0 l 75 0 l 75 1001 l 190 1001 l 190 129 l 931 1000 l 1079 1000 l 1079 999 l 231 0 l 75 0 z "},"\ue00b":{"ha":1075,"x_min":6,"x_max":1011,"o":"m 6 0 l 6 0 l 6 1 l 856 1001 l 1011 1001 l 1011 0 l 896 0 l 896 281 l 390 281 l 154 0 l 6 0 m 488 396 l 488 396 l 896 396 l 896 874 l 488 396 z "},"\ue00c":{"ha":1075,"x_min":75,"x_max":1081,"o":"m 75 0 l 75 0 l 75 1001 l 231 1001 l 1081 1 l 1081 0 l 931 0 l 693 281 l 190 281 l 190 0 l 75 0 m 190 396 l 190 396 l 600 396 l 190 874 l 190 396 z "}},"familyName":"Orbitron","ascender":1404,"descender":-337,"underlinePosition":-139,"underlineThickness":69,"boundingBox":{"yMin":-347,"xMin":-260,"yMax":1353,"xMax":1875},"resolution":1000,"original_font_information":{"format":0,"copyright":"Copyright 2018 The Orbitron Project Authors (https://github.com/theleagueof/orbitron), with Reserved Font Name: \\"Orbitron\\".","fontFamily":"Orbitron","fontSubfamily":"Regular","uniqueID":"2.001;NONE;Orbitron-Regular","fullName":"Orbitron Regular","version":"Version 2.001","postScriptName":"Orbitron-Regular","manufacturer":"The League of Moveable Type","designer":"Matt McInerney","manufacturerURL":"https://www.theleagueofmoveabletype.com/","designerURL":"http://matt.cc/","licence":"This Font Software is licensed under the SIL Open Font License, Version 1.1. This license is available with a FAQ at: http://scripts.sil.org/OFL","licenceURL":"http://scripts.sil.org/OFL","unknown1":"Orbitron","unknown2":"Weight","unknown3":"Regular","unknown4":"Medium","unknown5":"SemiBold","unknown6":"Bold","unknown7":"ExtraBold","unknown8":"Black","unknown9":"Orbitron-Regular","unknown10":"Orbitron-Medium","unknown11":"Orbitron-SemiBold","unknown12":"Orbitron-Bold","unknown13":"Orbitron-ExtraBold","unknown14":"Orbitron-Black"},"cssFontWeight":"normal","cssFontStyle":"normal"}');function cx(e){var t=function(){var t=(0,r.useRef)();jm((function(){t.current.position.y=-1+e.Scroll}));return(0,ty.jsxs)(lx,{receiveShadow:!0,ref:t,position:[6.85,-1,-2.44],fontSize:.3,rotation:[0,-Math.PI/2,0],font:ux,characters:"abcdefghijklmnopqrstuvwxyz0123456789!",children:["\nHi, my name is David Lichenko.\n\nI have big peepee and\n\nI write realy beautiful codes.\n\nI\u2019m a profesional in Java Script and\n\nloving Tonya, Mykolka and Stepashka.\n\nAlso I can study everything too fast,\n\n so you have to give me really cool tasks.\n\nOtherwise I will leave you like\n\nI\u2019ve left fuckers from Taburetka.\n",(0,ty.jsx)("meshStandardMaterial",{color:"#700000",clearcoat:.01,roughness:.2,metalness:1})]})};return(0,ty.jsx)(t,{})}function hx(){(0,r.useRef)();var e=Gm(),t=e.camera,n=e.scene.getObjectByName("B12");jm((function(e){var r=e.mouse.x-30,a=e.mouse.y+9;t.position.z=r/8,t.position.y=a/8,n.rotation.y=-e.mouse.y/4,n.rotation.z=-3.141592653589793-e.mouse.x/3}))}function dx(){var e=u((0,r.useState)(0),2),t=e[0],n=e[1],a=u((0,r.useState)(0),2),i=a[0],o=a[1];return(0,ty.jsx)(ty.Fragment,{children:(0,ty.jsx)(Dv,{onClick:function(e){n(t?0:20)},onWheel:function(e){o(i+=e.deltaY>0?.2:-.2)},dpr:[1,1.5],gl:{toneMappingExposure:.4},shadows:!0,children:(0,ty.jsxs)(r.Suspense,{fallback:null,children:[(0,ty.jsx)(hx,{}),(0,ty.jsx)("fog",{attach:"fog",args:["#006477",0,30]}),(0,ty.jsx)(ny,{Light:t,setLight:n}),(0,ty.jsx)("ambientLight",{intensity:.05}),(0,ty.jsx)(sy,{}),(0,ty.jsx)(cx,{Scroll:i,setScroll:o}),(0,ty.jsx)(Fv,{pixelated:!0})]})})})}Em({UnrealBloomPass:Nv}),a.createRoot(document.getElementById("root")).render((0,ty.jsx)(dx,{}))}()}();
//# sourceMappingURL=main.6453de52.js.map